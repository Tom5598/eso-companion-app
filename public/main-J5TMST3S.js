import{A as dn,a as B,b as De,c as jv,d as Bv,e as N,f as WC,g as ah,h as KC,i as QC,j as YC,k as Uv,l as ZC,m as Fl,n as $v,o as ch,p as XC,q as JC,r as zv,s as ut,t as is,u as Rr,v as lh,w as Ol,x as eT,y as tT,z as Yi}from"./chunk-DA3O343V.js";function nT(n,e){return Object.is(n,e)}var Ft=null,uh=!1,dh=1,fr=Symbol("SIGNAL");function Re(n){let e=Ft;return Ft=n,e}function rT(){return Ft}var Vl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gv(n){if(uh)throw new Error("");if(Ft===null)return;Ft.consumerOnSignalRead(n);let e=Ft.nextProducerIndex++;if(mh(Ft),e<Ft.producerNode.length&&Ft.producerNode[e]!==n&&Ll(Ft)){let t=Ft.producerNode[e];ph(t,Ft.producerIndexOfThis[e])}Ft.producerNode[e]!==n&&(Ft.producerNode[e]=n,Ft.producerIndexOfThis[e]=Ll(Ft)?aT(n,Ft,e):0),Ft.producerLastReadVersion[e]=n.version}function PL(){dh++}function iT(n){if(!(Ll(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===dh)){if(!n.producerMustRecompute(n)&&!Kv(n)){n.dirty=!1,n.lastCleanEpoch=dh;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=dh}}function oT(n){if(n.liveConsumerNode===void 0)return;let e=uh;uh=!0;try{for(let t of n.liveConsumerNode)t.dirty||kL(t)}finally{uh=e}}function sT(){return Ft?.consumerAllowSignalWrites!==!1}function kL(n){n.dirty=!0,oT(n),n.consumerMarkedDirty?.(n)}function fh(n){return n&&(n.nextProducerIndex=0),Re(n)}function Wv(n,e){if(Re(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ll(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ph(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Kv(n){mh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(iT(t),r!==t.version))return!0}return!1}function Qv(n){if(mh(n),Ll(n))for(let e=0;e<n.producerNode.length;e++)ph(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function aT(n,e,t){if(cT(n),n.liveConsumerNode.length===0&&lT(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=aT(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ph(n,e){if(cT(n),n.liveConsumerNode.length===1&&lT(n))for(let r=0;r<n.producerNode.length;r++)ph(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];mh(i),i.producerIndexOfThis[r]=e}}function Ll(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function mh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function cT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function lT(n){return n.producerNode!==void 0}function Yv(n){let e=Object.create(FL);e.computation=n;let t=()=>{if(iT(e),Gv(e),e.value===hh)throw e.error;return e.value};return t[fr]=e,t}var Hv=Symbol("UNSET"),qv=Symbol("COMPUTING"),hh=Symbol("ERRORED"),FL=De(B({},Vl),{value:Hv,dirty:!0,error:null,equal:nT,producerMustRecompute(n){return n.value===Hv||n.value===qv},producerRecomputeValue(n){if(n.value===qv)throw new Error("Detected cycle in computations.");let e=n.value;n.value=qv;let t=fh(n),r;try{r=n.computation()}catch(i){r=hh,n.error=i}finally{Wv(n,t)}if(e!==Hv&&e!==hh&&r!==hh&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function OL(){throw new Error}var uT=OL;function dT(){uT()}function hT(n){uT=n}var LL=null;function fT(n){let e=Object.create(mT);e.value=n;let t=()=>(Gv(e),e.value);return t[fr]=e,t}function Zv(n,e){sT()||dT(),n.equal(n.value,e)||(n.value=e,VL(n))}function pT(n,e){sT()||dT(),Zv(n,e(n.value))}var mT=De(B({},Vl),{equal:nT,value:void 0});function VL(n){n.version++,PL(),oT(n),LL?.()}function le(n){return typeof n=="function"}function Ia(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var gh=Ia(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function os(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ge=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof gh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{gT(o)}catch(s){e=e??[],s instanceof gh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new gh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)gT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&os(t,e)}remove(e){let{_finalizers:t}=this;t&&os(t,e),e instanceof n&&e._removeParent(this)}};Ge.EMPTY=(()=>{let n=new Ge;return n.closed=!0,n})();var Xv=Ge.EMPTY;function vh(n){return n instanceof Ge||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function gT(n){le(n)?n():n.unsubscribe()}var pr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Da={setTimeout(n,e,...t){let{delegate:r}=Da;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Da;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function yh(n){Da.setTimeout(()=>{let{onUnhandledError:e}=pr;if(e)e(n);else throw n})}function jl(){}var vT=Jv("C",void 0,void 0);function yT(n){return Jv("E",void 0,n)}function _T(n){return Jv("N",n,void 0)}function Jv(n,e,t){return{kind:n,value:e,error:t}}var ss=null;function Ca(n){if(pr.useDeprecatedSynchronousErrorHandling){let e=!ss;if(e&&(ss={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ss;if(ss=null,t)throw r}}else n()}function bT(n){pr.useDeprecatedSynchronousErrorHandling&&ss&&(ss.errorThrown=!0,ss.error=n)}var as=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vh(e)&&e.add(this)):this.destination=UL}static create(e,t,r){return new di(e,t,r)}next(e){this.isStopped?ty(_T(e),this):this._next(e)}error(e){this.isStopped?ty(yT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ty(vT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jL=Function.prototype.bind;function ey(n,e){return jL.call(n,e)}var ny=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){_h(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){_h(r)}else _h(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){_h(t)}}},di=class extends as{constructor(e,t,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&pr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ey(e.next,o),error:e.error&&ey(e.error,o),complete:e.complete&&ey(e.complete,o)}):i=e}this.destination=new ny(i)}};function _h(n){pr.useDeprecatedSynchronousErrorHandling?bT(n):yh(n)}function BL(n){throw n}function ty(n,e){let{onStoppedNotification:t}=pr;t&&Da.setTimeout(()=>t(n,e))}var UL={closed:!0,next:jl,error:BL,complete:jl};var Ta=typeof Symbol=="function"&&Symbol.observable||"@@observable";function hn(n){return n}function ry(...n){return iy(n)}function iy(n){return n.length===0?hn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var pe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=zL(t)?t:new di(t,r,i);return Ca(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=wT(r),new r((i,o)=>{let s=new di({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ta](){return this}pipe(...t){return iy(t)(this)}toPromise(t){return t=wT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function wT(n){var e;return(e=n??pr.Promise)!==null&&e!==void 0?e:Promise}function $L(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function zL(n){return n&&n instanceof as||$L(n)&&vh(n)}function oy(n){return le(n?.lift)}function me(n){return e=>{if(oy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,r,i){return new sy(n,e,t,r,i)}var sy=class extends as{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xa(){return me((n,e)=>{let t=null;n._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Sa=class extends pe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,oy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return xa()(this)}};var ET=Ia(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class n extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new bh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ET}next(t){Ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Xv:(this.currentObservers=null,o.push(t),new Ge(()=>{this.currentObservers=null,os(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new pe;return t.source=this,t}}return n.create=(e,t)=>new bh(e,t),n})(),bh=class extends Ce{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Xv}};var Ot=class extends Ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Bl={now(){return(Bl.delegate||Date).now()},delegate:void 0};var wh=class extends Ce{constructor(e=1/0,t=1/0,r=Bl){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Eh=class extends Ge{constructor(e,t){super()}schedule(e,t=0){return this}};var Ul={setInterval(n,e,...t){let{delegate:r}=Ul;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ul;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Aa=class extends Eh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ul.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ul.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,os(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ma=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ma.now=Bl.now;var Ra=class extends Ma{constructor(e,t=Ma.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var cs=new Ra(Aa);var Ih=class extends Aa{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Dh=class extends Ra{};var ay=new Dh(Ih);var Gt=new pe(n=>n.complete());function IT(n){return n&&le(n.schedule)}function cy(n){return n[n.length-1]}function Ch(n){return le(cy(n))?n.pop():void 0}function Nr(n){return IT(cy(n))?n.pop():void 0}function DT(n,e){return typeof cy(n)=="number"?n.pop():e}var Th=n=>n&&typeof n.length=="number"&&typeof n!="function";function xh(n){return le(n?.then)}function Sh(n){return le(n[Ta])}function Ah(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function Mh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function HL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rh=HL();function Nh(n){return le(n?.[Rh])}function Ph(n){return KC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ah(t.read());if(i)return yield ah(void 0);yield yield ah(r)}}finally{t.releaseLock()}})}function kh(n){return le(n?.getReader)}function rt(n){if(n instanceof pe)return n;if(n!=null){if(Sh(n))return qL(n);if(Th(n))return GL(n);if(xh(n))return WL(n);if(Ah(n))return CT(n);if(Nh(n))return KL(n);if(kh(n))return QL(n)}throw Mh(n)}function qL(n){return new pe(e=>{let t=n[Ta]();if(le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GL(n){return new pe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function WL(n){return new pe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,yh)})}function KL(n){return new pe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function CT(n){return new pe(e=>{YL(n,e).catch(t=>e.error(t))})}function QL(n){return CT(Ph(n))}function YL(n,e){var t,r,i,o;return WC(this,void 0,void 0,function*(){try{for(t=QC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Dn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Wn(n,e=0){return me((t,r)=>{t.subscribe(ge(r,i=>Dn(r,n,()=>r.next(i),e),()=>Dn(r,n,()=>r.complete(),e),i=>Dn(r,n,()=>r.error(i),e)))})}function mr(n,e=0){return me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function TT(n,e){return rt(n).pipe(mr(e),Wn(e))}function xT(n,e){return rt(n).pipe(mr(e),Wn(e))}function ST(n,e){return new pe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function AT(n,e){return new pe(t=>{let r;return Dn(t,e,()=>{r=n[Rh](),Dn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function Fh(n,e){if(!n)throw new Error("Iterable cannot be null");return new pe(t=>{Dn(t,e,()=>{let r=n[Symbol.asyncIterator]();Dn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function MT(n,e){return Fh(Ph(n),e)}function RT(n,e){if(n!=null){if(Sh(n))return TT(n,e);if(Th(n))return ST(n,e);if(xh(n))return xT(n,e);if(Ah(n))return Fh(n,e);if(Nh(n))return AT(n,e);if(kh(n))return MT(n,e)}throw Mh(n)}function Te(n,e){return e?RT(n,e):rt(n)}function ee(...n){let e=Nr(n);return Te(n,e)}function Zi(n,e){let t=le(n)?n:()=>n,r=i=>i.error(t());return new pe(e?i=>e.schedule(r,0,i):r)}function Oh(n){return!!n&&(n instanceof pe||le(n.lift)&&le(n.subscribe))}var hi=Ia(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Y(n,e){return me((t,r)=>{let i=0;t.subscribe(ge(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:ZL}=Array;function XL(n,e){return ZL(e)?n(...e):n(e)}function Lh(n){return Y(e=>XL(n,e))}var{isArray:JL}=Array,{getPrototypeOf:eV,prototype:tV,keys:nV}=Object;function Vh(n){if(n.length===1){let e=n[0];if(JL(e))return{args:e,keys:null};if(rV(e)){let t=nV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function rV(n){return n&&typeof n=="object"&&eV(n)===tV}function jh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ls(...n){let e=Nr(n),t=Ch(n),{args:r,keys:i}=Vh(n);if(r.length===0)return Te([],e);let o=new pe(iV(r,e,i?s=>jh(i,s):hn));return t?o.pipe(Lh(t)):o}function iV(n,e,t=hn){return r=>{NT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)NT(e,()=>{let u=Te(n[c],e),d=!1;u.subscribe(ge(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function NT(n,e,t){n?Dn(t,n,e):e()}function PT(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,f=!1,m=()=>{f&&!c.length&&!u&&e.complete()},v=E=>u<r?_(E):c.push(E),_=E=>{o&&e.next(E),u++;let T=!1;rt(t(E,d++)).subscribe(ge(e,k=>{i?.(k),o?v(k):e.next(k)},()=>{T=!0},void 0,()=>{if(T)try{for(u--;c.length&&u<r;){let k=c.shift();s?Dn(e,s,()=>_(k)):_(k)}m()}catch(k){e.error(k)}}))};return n.subscribe(ge(e,v,()=>{f=!0,m()})),()=>{a?.()}}function xt(n,e,t=1/0){return le(e)?xt((r,i)=>Y((o,s)=>e(r,o,i,s))(rt(n(r,i))),t):(typeof e=="number"&&(t=e),me((r,i)=>PT(r,i,n,t)))}function Xi(n=1/0){return xt(hn,n)}function kT(){return Xi(1)}function Ji(...n){return kT()(Te(n,Nr(n)))}function Bh(n){return new pe(e=>{rt(n()).subscribe(e)})}function $l(...n){let e=Ch(n),{args:t,keys:r}=Vh(n),i=new pe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;rt(t[d]).subscribe(ge(o,m=>{f||(f=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?jh(r,a):a),o.complete())}))}});return e?i.pipe(Lh(e)):i}function zl(...n){let e=Nr(n),t=DT(n,1/0),r=n;return r.length?r.length===1?rt(r[0]):Xi(t)(Te(r,e)):Gt}function at(n,e){return me((t,r)=>{let i=0;t.subscribe(ge(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Pr(n){return me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ge(t,void 0,void 0,s=>{o=rt(n(s,Pr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function FT(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(ge(s,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function fi(n,e){return le(e)?xt(n,e,1):xt(n,1)}function Uh(n,e=cs){return me((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+n,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}t.subscribe(ge(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function eo(n){return me((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Cn(n){return n<=0?()=>Gt:me((e,t)=>{let r=0;e.subscribe(ge(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ly(n){return Y(()=>n)}function Hl(n,e=hn){return n=n??oV,me((t,r)=>{let i,o=!0;t.subscribe(ge(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function oV(n,e){return n===e}function $h(n=sV){return me((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function sV(){return new hi}function to(n){return me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Kn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?at((i,o)=>n(i,o,r)):hn,Cn(1),t?eo(e):$h(()=>new hi))}function Na(n){return n<=0?()=>Gt:me((e,t)=>{let r=[];e.subscribe(ge(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function uy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?at((i,o)=>n(i,o,r)):hn,Na(1),t?eo(e):$h(()=>new hi))}function ql(){return me((n,e)=>{let t,r=!1;n.subscribe(ge(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function us(n,e){return me(FT(n,e,arguments.length>=2,!0))}function Gl(n={}){let{connector:e=()=>new Ce,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,u=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),s=c=void 0,d=f=!1},_=()=>{let E=s;v(),E?.unsubscribe()};return me((E,T)=>{u++,!f&&!d&&m();let k=c=c??e();T.add(()=>{u--,u===0&&!f&&!d&&(a=dy(_,i))}),k.subscribe(T),!s&&u>0&&(s=new di({next:U=>k.next(U),error:U=>{f=!0,m(),a=dy(v,t,U),k.error(U)},complete:()=>{d=!0,m(),a=dy(v,r),k.complete()}}),rt(E).subscribe(s))})(o)}}function dy(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new di({next:()=>{r.unsubscribe(),n()}});return rt(e(...t)).subscribe(r)}function Pa(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,Gl({connector:()=>new wh(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Wl(n){return at((e,t)=>n<=t)}function pi(...n){let e=Nr(n);return me((t,r)=>{(e?Ji(n,t,e):Ji(n,t)).subscribe(r)})}function dt(n,e){return me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ge(r,c=>{i?.unsubscribe();let u=0,d=o++;rt(n(c,d)).subscribe(i=ge(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function zh(n,e){return le(e)?dt(()=>n,e):dt(()=>n)}function Qn(n){return me((e,t)=>{rt(n).subscribe(ge(t,()=>t.complete(),jl)),!t.closed&&e.subscribe(t)})}function it(n,e,t){let r=le(n)||e||t?{next:n,error:e,complete:t}:n;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):hn}var wx="https://g.co/ng/security#xss",z=class extends Error{constructor(e,t){super(T_(e,t)),this.code=e}};function T_(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ru(n){return{toString:n}.toString()}var Hh="__parameters__";function aV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Ex(n,e,t){return ru(()=>{let r=aV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(Hh)?c[Hh]:Object.defineProperty(c,Hh,{value:[]})[Hh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var en=globalThis;function We(n){for(let e in n)if(n[e]===We)return e;throw Error("Could not find renamed property on target object.")}function cV(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function mn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(mn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Ty(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var lV=We({__forward_ref__:We});function uo(n){return n.__forward_ref__=uo,n.toString=function(){return mn(this())},n}function fn(n){return Ix(n)?n():n}function Ix(n){return typeof n=="function"&&n.hasOwnProperty(lV)&&n.__forward_ref__===uo}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function he(n){return{providers:n.providers||[],imports:n.imports||[]}}function Mf(n){return OT(n,Cx)||OT(n,Tx)}function Dx(n){return Mf(n)!==null}function OT(n,e){return n.hasOwnProperty(e)?n[e]:null}function uV(n){let e=n&&(n[Cx]||n[Tx]);return e||null}function LT(n){return n&&(n.hasOwnProperty(VT)||n.hasOwnProperty(dV))?n[VT]:null}var Cx=We({\u0275prov:We}),VT=We({\u0275inj:We}),Tx=We({ngInjectableDef:We}),dV=We({ngInjectorDef:We}),$=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xx(n){return n&&!!n.\u0275providers}var hV=We({\u0275cmp:We}),fV=We({\u0275dir:We}),pV=We({\u0275pipe:We}),mV=We({\u0275mod:We}),rf=We({\u0275fac:We}),Ql=We({__NG_ELEMENT_ID__:We}),jT=We({__NG_ENV_ID__:We});function Rf(n){return typeof n=="string"?n:n==null?"":String(n)}function gV(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Rf(n)}function vV(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new z(-200,n)}function x_(n,e){throw new z(-201,!1)}var Ee=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ee||{}),xy;function Sx(){return xy}function Tn(n){let e=xy;return xy=n,e}function Ax(n,e,t){let r=Mf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ee.Optional)return null;if(e!==void 0)return e;x_(n,"Injector")}var yV={},Yl=yV,Sy="__NG_DI_FLAG__",of="ngTempTokenPath",_V="ngTokenPath",bV=/\n/gm,wV="\u0275",BT="__source",Va;function EV(){return Va}function no(n){let e=Va;return Va=n,e}function IV(n,e=Ee.Default){if(Va===void 0)throw new z(-203,!1);return Va===null?Ax(n,void 0,e):Va.get(n,e&Ee.Optional?null:void 0,e)}function P(n,e=Ee.Default){return(Sx()||IV)(fn(n),e)}function L(n,e=Ee.Default){return P(n,Nf(e))}function Nf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ay(n){let e=[];for(let t=0;t<n.length;t++){let r=fn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=Ee.Default;for(let s=0;s<r.length;s++){let a=r[s],c=DV(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(P(i,o))}else e.push(P(r))}return e}function Mx(n,e){return n[Sy]=e,n.prototype[Sy]=e,n}function DV(n){return n[Sy]}function CV(n,e,t,r){let i=n[of];throw e[BT]&&i.unshift(e[BT]),n.message=TV(`
`+n.message,i,t,r),n[_V]=i,n[of]=null,n}function TV(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==wV?n.slice(2):n;let i=mn(e);if(Array.isArray(e))i=e.map(mn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):mn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(bV,`
  `)}`}var Ya=Mx(Ex("Optional"),8);var S_=Mx(Ex("SkipSelf"),4);function fs(n,e){let t=n.hasOwnProperty(rf);return t?n[rf]:null}function xV(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function SV(n){return n.flat(Number.POSITIVE_INFINITY)}function A_(n,e){n.forEach(t=>Array.isArray(t)?A_(t,e):e(t))}function Rx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function sf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function AV(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function MV(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function M_(n,e,t){let r=iu(n,e);return r>=0?n[r|1]=t:(r=~r,MV(n,r,e,t)),r}function hy(n,e){let t=iu(n,e);if(t>=0)return n[t|1]}function iu(n,e){return RV(n,e,1)}function RV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ba={},pn=[],Ua=new $(""),Nx=new $("",-1),Px=new $(""),af=class{get(e,t=Yl){if(t===Yl){let r=new Error(`NullInjectorError: No provider for ${mn(e)}!`);throw r.name="NullInjectorError",r}return t}},kx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(kx||{}),Or=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Or||{}),oo=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(oo||{});function NV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function My(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];PV(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Fx(n){return n===3||n===4||n===6}function PV(n){return n.charCodeAt(0)===64}function Zl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?UT(n,t,i,null,e[++r]):UT(n,t,i,null,null))}}return n}function UT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Ox="ng-template";function kV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&NV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(R_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function R_(n){return n.type===4&&n.value!==Ox}function FV(n,e,t){let r=n.type===4&&!t?Ox:n.value;return e===r}function OV(n,e,t){let r=4,i=n.attrs,o=i!==null?jV(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!gr(r)&&!gr(c))return!1;if(s&&gr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!FV(n,c,t)||c===""&&e.length===1){if(gr(r))return!1;s=!0}}else if(r&8){if(i===null||!kV(n,i,c,t)){if(gr(r))return!1;s=!0}}else{let u=e[++a],d=LV(c,i,R_(n),t);if(d===-1){if(gr(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(gr(r))return!1;s=!0}}}}return gr(r)||s}function gr(n){return(n&1)===0}function LV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return BV(e,n)}function Lx(n,e,t=!1){for(let r=0;r<e.length;r++)if(OV(n,e[r],t))return!0;return!1}function VV(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function jV(n){for(let e=0;e<n.length;e++){let t=n[e];if(Fx(t))return e}return n.length}function BV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function UV(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function $T(n,e){return n?":not("+e.trim()+")":e}function $V(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gr(s)&&(e+=$T(o,i),i=""),r=s,o=o||!gr(r);t++}return i!==""&&(e+=$T(o,i)),e}function zV(n){return n.map($V).join(",")}function HV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!gr(i))break;i=o}r++}return{attrs:e,classes:t}}function ze(n){return ru(()=>{let e=zx(n),t=De(B({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===kx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Or.Emulated,styles:n.styles||pn,_:null,schemas:n.schemas||null,tView:null,id:""});Hx(t);let r=n.dependencies;return t.directiveDefs=HT(r,!1),t.pipeDefs=HT(r,!0),t.id=WV(t),t})}function qV(n){return so(n)||jx(n)}function GV(n){return n!==null}function fe(n){return ru(()=>({type:n.type,bootstrap:n.bootstrap||pn,declarations:n.declarations||pn,imports:n.imports||pn,exports:n.exports||pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zT(n,e){if(n==null)return Ba;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=oo.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==oo.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Ae(n){return ru(()=>{let e=zx(n);return Hx(e),e})}function Vx(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function so(n){return n[hV]||null}function jx(n){return n[fV]||null}function Bx(n){return n[pV]||null}function Ux(n){let e=so(n)||jx(n)||Bx(n);return e!==null?e.standalone:!1}function $x(n,e){let t=n[mV]||null;if(!t&&e===!0)throw new Error(`Type ${mn(n)} does not have '\u0275mod' property.`);return t}function zx(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ba,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||pn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zT(n.inputs,e),outputs:zT(n.outputs),debugInfo:null}}function Hx(n){n.features?.forEach(e=>e(n))}function HT(n,e){if(!n)return null;let t=e?Bx:qV;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(GV)}function WV(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Pf(n){return{\u0275providers:n}}function N_(...n){return{\u0275providers:qx(!0,n),\u0275fromNgModule:!0}}function qx(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return A_(e,s=>{let a=s;Ry(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Gx(i,o),t}function Gx(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];P_(i,o=>{e(o,r)})}}function Ry(n,e,t,r){if(n=fn(n),!n)return!1;let i=null,o=LT(n),s=!o&&so(n);if(!o&&!s){let c=n.ngModule;if(o=LT(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Ry(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{A_(o.imports,d=>{Ry(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&Gx(u,e)}if(!a){let u=fs(i)||(()=>new i);e({provide:i,useFactory:u,deps:pn},i),e({provide:Px,useValue:i,multi:!0},i),e({provide:Ua,useValue:()=>P(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;P_(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function P_(n,e){for(let t of n)xx(t)&&(t=t.\u0275providers),Array.isArray(t)?P_(t,e):e(t)}var KV=We({provide:String,useValue:We});function Wx(n){return n!==null&&typeof n=="object"&&KV in n}function QV(n){return!!(n&&n.useExisting)}function YV(n){return!!(n&&n.useFactory)}function $a(n){return typeof n=="function"}function ZV(n){return!!n.useClass}var kf=new $(""),Zh={},XV={},fy;function k_(){return fy===void 0&&(fy=new af),fy}var Sn=class{},Xl=class extends Sn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Py(e,s=>this.processProvider(s)),this.records.set(Nx,ka(void 0,this)),i.has("environment")&&this.records.set(Sn,ka(void 0,this));let o=this.records.get(kf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Px,pn,Ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Re(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=no(this),r=Tn(void 0),i;try{return e()}finally{no(t),Tn(r)}}get(e,t=Yl,r=Ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jT))return e[jT](this);r=Nf(r);let i,o=no(this),s=Tn(void 0);try{if(!(r&Ee.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=rj(e)&&Mf(e);u&&this.injectableDefInScope(u)?c=ka(Ny(e),Zh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ee.Self?k_():this.parent;return t=r&Ee.Optional&&t===Yl?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[of]=a[of]||[]).unshift(mn(e)),o)throw a;return CV(a,e,"R3InjectorError",this.source)}else throw a}finally{Tn(s),no(o)}}resolveInjectorInitializers(){let e=Re(null),t=no(this),r=Tn(void 0),i;try{let o=this.get(Ua,pn,Ee.Self);for(let s of o)s()}finally{no(t),Tn(r),Re(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(mn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=fn(e);let t=$a(e)?e:fn(e&&e.provide),r=ej(e);if(!$a(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ka(void 0,Zh,!0),i.factory=()=>Ay(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Re(null);try{return t.value===Zh&&(t.value=XV,t.value=t.factory()),typeof t.value=="object"&&t.value&&nj(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=fn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ny(n){let e=Mf(n),t=e!==null?e.factory:fs(n);if(t!==null)return t;if(n instanceof $)throw new z(204,!1);if(n instanceof Function)return JV(n);throw new z(204,!1)}function JV(n){if(n.length>0)throw new z(204,!1);let t=uV(n);return t!==null?()=>t.factory(n):()=>new n}function ej(n){if(Wx(n))return ka(void 0,n.useValue);{let e=Kx(n);return ka(e,Zh)}}function Kx(n,e,t){let r;if($a(n)){let i=fn(n);return fs(i)||Ny(i)}else if(Wx(n))r=()=>fn(n.useValue);else if(YV(n))r=()=>n.useFactory(...Ay(n.deps||[]));else if(QV(n))r=()=>P(fn(n.useExisting));else{let i=fn(n&&(n.useClass||n.provide));if(tj(n))r=()=>new i(...Ay(n.deps));else return fs(i)||Ny(i)}return r}function ka(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function tj(n){return!!n.deps}function nj(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function rj(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function Py(n,e){for(let t of n)Array.isArray(t)?Py(t,e):t&&xx(t)?Py(t.\u0275providers,e):e(t)}function Br(n,e){n instanceof Xl&&n.assertNotDestroyed();let t,r=no(n),i=Tn(void 0);try{return e()}finally{no(r),Tn(i)}}function Qx(){return Sx()!==void 0||EV()!=null}function Yx(n){if(!Qx())throw new z(-203,!1)}function ij(n){return typeof n=="function"}var yi=0,de=1,ce=2,tn=3,yr=4,An=5,Jl=6,cf=7,Zn=8,za=9,Lr=10,yt=11,eu=12,qT=13,Za=14,Xn=15,ps=16,Fa=17,mi=18,Ff=19,Zx=20,ro=21,py=22,Yn=23,gn=25,Xx=1;var ms=7,lf=8,Ha=9,xn=10,uf=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(uf||{});function io(n){return Array.isArray(n)&&typeof n[Xx]=="object"}function _i(n){return Array.isArray(n)&&n[Xx]===!0}function Jx(n){return(n.flags&4)!==0}function Of(n){return n.componentOffset>-1}function F_(n){return(n.flags&1)===1}function ao(n){return!!n.template}function ky(n){return(n[ce]&512)!==0}var Fy=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function eS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Fn(){return tS}function tS(n){return n.type.prototype.ngOnChanges&&(n.setInput=sj),oj}Fn.ngInherit=!0;function oj(){let n=rS(this),e=n?.current;if(e){let t=n.previous;if(t===Ba)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function sj(n,e,t,r,i){let o=this.declaredInputs[r],s=rS(n)||aj(n,{previous:Ba,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Fy(u&&u.currentValue,t,c===Ba),eS(n,e,i,t)}var nS="__ngSimpleChanges__";function rS(n){return n[nS]||null}function aj(n,e){return n[nS]=e}var GT=null;var kr=function(n,e,t){GT?.(n,e,t)},cj="svg",lj="math";function Vr(n){for(;Array.isArray(n);)n=n[yi];return n}function iS(n,e){return Vr(e[n])}function Jn(n,e){return Vr(e[n.index])}function O_(n,e){return n.data[e]}function oS(n,e){return n[e]}function ho(n,e){let t=e[n];return io(t)?t:t[yi]}function uj(n){return(n[ce]&4)===4}function L_(n){return(n[ce]&128)===128}function dj(n){return _i(n[tn])}function df(n,e){return e==null?null:n[e]}function sS(n){n[Fa]=0}function aS(n){n[ce]&1024||(n[ce]|=1024,L_(n)&&Vf(n))}function hj(n,e){for(;n>0;)e=e[Za],n--;return e}function Lf(n){return!!(n[ce]&9216||n[Yn]?.dirty)}function Oy(n){n[Lr].changeDetectionScheduler?.notify(8),n[ce]&64&&(n[ce]|=1024),Lf(n)&&Vf(n)}function Vf(n){n[Lr].changeDetectionScheduler?.notify(0);let e=gs(n);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!L_(e)));)e=gs(e)}function cS(n,e){if((n[ce]&256)===256)throw new z(911,!1);n[ro]===null&&(n[ro]=[]),n[ro].push(e)}function fj(n,e){if(n[ro]===null)return;let t=n[ro].indexOf(e);t!==-1&&n[ro].splice(t,1)}function gs(n){let e=n[tn];return _i(e)?e[tn]:e}var Ie={lFrame:_S(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var lS=!1;function pj(){return Ie.lFrame.elementDepthCount}function mj(){Ie.lFrame.elementDepthCount++}function gj(){Ie.lFrame.elementDepthCount--}function uS(){return Ie.bindingsEnabled}function dS(){return Ie.skipHydrationRootTNode!==null}function vj(n){return Ie.skipHydrationRootTNode===n}function yj(){Ie.skipHydrationRootTNode=null}function Se(){return Ie.lFrame.lView}function St(){return Ie.lFrame.tView}function On(n){return Ie.lFrame.contextLView=n,n[Zn]}function Ln(n){return Ie.lFrame.contextLView=null,n}function nn(){let n=hS();for(;n!==null&&n.type===64;)n=n.parent;return n}function hS(){return Ie.lFrame.currentTNode}function _j(){let n=Ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ou(n,e){let t=Ie.lFrame;t.currentTNode=n,t.isParent=e}function fS(){return Ie.lFrame.isParent}function pS(){Ie.lFrame.isParent=!1}function bj(){return Ie.lFrame.contextLView}function mS(){return lS}function WT(n){lS=n}function wj(){let n=Ie.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ej(n){return Ie.lFrame.bindingIndex=n}function Xa(){return Ie.lFrame.bindingIndex++}function gS(n){let e=Ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Ij(){return Ie.lFrame.inI18n}function Dj(n,e){let t=Ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ly(e)}function Cj(){return Ie.lFrame.currentDirectiveIndex}function Ly(n){Ie.lFrame.currentDirectiveIndex=n}function Tj(n){let e=Ie.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function V_(){return Ie.lFrame.currentQueryIndex}function jf(n){Ie.lFrame.currentQueryIndex=n}function xj(n){let e=n[de];return e.type===2?e.declTNode:e.type===1?n[An]:null}function vS(n,e,t){if(t&Ee.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ee.Host);)if(i=xj(o),i===null||(o=o[Za],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ie.lFrame=yS();return r.currentTNode=e,r.lView=n,!0}function j_(n){let e=yS(),t=n[de];Ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function yS(){let n=Ie.lFrame,e=n===null?null:n.child;return e===null?_S(n):e}function _S(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function bS(){let n=Ie.lFrame;return Ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var wS=bS;function B_(){let n=bS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Sj(n){return(Ie.lFrame.contextLView=hj(n,Ie.lFrame.contextLView))[Zn]}function Is(){return Ie.lFrame.selectedIndex}function vs(n){Ie.lFrame.selectedIndex=n}function Bf(){let n=Ie.lFrame;return O_(n.tView,n.selectedIndex)}function Aj(){return Ie.lFrame.currentNamespace}var ES=!0;function U_(){return ES}function $_(n){ES=n}function Mj(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=tS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function z_(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Xh(n,e,t){IS(n,e,3,t)}function Jh(n,e,t,r){(n[ce]&3)===t&&IS(n,e,t,r)}function my(n,e){let t=n[ce];(t&3)===e&&(t&=16383,t+=1,n[ce]=t)}function IS(n,e,t,r){let i=r!==void 0?n[Fa]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Fa]+=65536),(a<o||o==-1)&&(Rj(n,t,e,c),n[Fa]=(n[Fa]&4294901760)+c+2),c++}function KT(n,e){kr(4,n,e);let t=Re(null);try{e.call(n)}finally{Re(t),kr(5,n,e)}}function Rj(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ce]>>14<n[Fa]>>16&&(n[ce]&3)===e&&(n[ce]+=16384,KT(a,o)):KT(a,o)}var ja=-1,ys=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function Nj(n){return n instanceof ys}function Pj(n){return(n.flags&8)!==0}function kj(n){return(n.flags&16)!==0}var gy={},Vy=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Nf(r);let i=this.injector.get(e,gy,r);return i!==gy||t===gy?i:this.parentInjector.get(e,t,r)}};function DS(n){return n!==ja}function hf(n){return n&32767}function Fj(n){return n>>16}function ff(n,e){let t=Fj(n),r=e;for(;t>0;)r=r[Za],t--;return r}var jy=!0;function pf(n){let e=jy;return jy=n,e}var Oj=256,CS=Oj-1,TS=5,Lj=0,Fr={};function Vj(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ql)&&(r=t[Ql]),r==null&&(r=t[Ql]=Lj++);let i=r&CS,o=1<<i;e.data[n+(i>>TS)]|=o}function mf(n,e){let t=xS(n,e);if(t!==-1)return t;let r=e[de];r.firstCreatePass&&(n.injectorIndex=e.length,vy(r.data,n),vy(e,null),vy(r.blueprint,null));let i=H_(n,e),o=n.injectorIndex;if(DS(i)){let s=hf(i),a=ff(i,e),c=a[de].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function vy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function xS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function H_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=NS(i),r===null)return ja;if(t++,i=i[Za],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ja}function By(n,e,t){Vj(n,e,t)}function jj(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Fx(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function SS(n,e,t){if(t&Ee.Optional||n!==void 0)return n;x_(e,"NodeInjector")}function AS(n,e,t,r){if(t&Ee.Optional&&r===void 0&&(r=null),!(t&(Ee.Self|Ee.Host))){let i=n[za],o=Tn(void 0);try{return i?i.get(e,r,t&Ee.Optional):Ax(e,r,t&Ee.Optional)}finally{Tn(o)}}return SS(r,e,t)}function MS(n,e,t,r=Ee.Default,i){if(n!==null){if(e[ce]&2048&&!(r&Ee.Self)){let s=zj(n,e,t,r,Fr);if(s!==Fr)return s}let o=RS(n,e,t,r,Fr);if(o!==Fr)return o}return AS(e,t,r,i)}function RS(n,e,t,r,i){let o=Uj(t);if(typeof o=="function"){if(!vS(e,n,r))return r&Ee.Host?SS(i,t,r):AS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ee.Optional))x_(t);else return s}finally{wS()}}else if(typeof o=="number"){let s=null,a=xS(n,e),c=ja,u=r&Ee.Host?e[Xn][An]:null;for((a===-1||r&Ee.SkipSelf)&&(c=a===-1?H_(n,e):e[a+8],c===ja||!YT(r,!1)?a=-1:(s=e[de],a=hf(c),e=ff(c,e)));a!==-1;){let d=e[de];if(QT(o,a,d.data)){let f=Bj(a,e,t,s,r,u);if(f!==Fr)return f}c=e[a+8],c!==ja&&YT(r,e[de].data[a+8]===u)&&QT(o,a,e)?(s=d,a=hf(c),e=ff(c,e)):a=-1}}return i}function Bj(n,e,t,r,i,o){let s=e[de],a=s.data[n+8],c=r==null?Of(a)&&jy:r!=s&&(a.type&3)!==0,u=i&Ee.Host&&o===a,d=ef(a,s,t,c,u);return d!==null?_s(e,s,d,a):Fr}function ef(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,m=i?a+d:u;for(let v=f;v<m;v++){let _=s[v];if(v<c&&t===_||v>=c&&_.type===t)return v}if(i){let v=s[c];if(v&&ao(v)&&v.type===t)return c}return null}function _s(n,e,t,r){let i=n[t],o=e.data;if(Nj(i)){let s=i;s.resolving&&vV(gV(o[t]));let a=pf(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Tn(s.injectImpl):null,d=vS(n,r,Ee.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&Mj(t,o[t],e)}finally{u!==null&&Tn(u),pf(a),s.resolving=!1,wS()}}return i}function Uj(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ql)?n[Ql]:void 0;return typeof e=="number"?e>=0?e&CS:$j:e}function QT(n,e,t){let r=1<<n;return!!(t[e+(n>>TS)]&r)}function YT(n,e){return!(n&Ee.Self)&&!(n&Ee.Host&&e)}var hs=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return MS(this._tNode,this._lView,e,Nf(r),t)}};function $j(){return new hs(nn(),Se())}function Ja(n){return ru(()=>{let e=n.prototype.constructor,t=e[rf]||Uy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[rf]||Uy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Uy(n){return Ix(n)?()=>{let e=Uy(fn(n));return e&&e()}:fs(n)}function zj(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ce]&2048&&!(s[ce]&512);){let a=RS(o,s,t,r|Ee.Self,Fr);if(a!==Fr)return a;let c=o.parent;if(!c){let u=s[Zx];if(u){let d=u.get(t,Fr,r);if(d!==Fr)return d}c=NS(s),s=s[Za]}o=c}return i}function NS(n){let e=n[de],t=e.type;return t===2?e.declTNode:t===1?n[An]:null}function ec(n){return jj(nn(),n)}function ZT(n,e=null,t=null,r){let i=PS(n,e,t,r);return i.resolveInjectorInitializers(),i}function PS(n,e=null,t=null,r,i=new Set){let o=[t||pn,N_(n)];return r=r||(typeof n=="object"?void 0:mn(n)),new Xl(o,e||k_(),r||null,i)}var vn=class n{static{this.THROW_IF_NOT_FOUND=Yl}static{this.NULL=new af}static create(e,t){if(Array.isArray(e))return ZT({name:""},t,e,"");{let r=e.name??"";return ZT({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=H({token:n,providedIn:"any",factory:()=>P(Nx)})}static{this.__NG_ELEMENT_ID__=-1}};var Hj=new $("");Hj.__NG_ELEMENT_ID__=n=>{let e=nn();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(n&Ee.Optional)return null;throw new z(204,!1)};var qj="ngOriginalError";function yy(n){return n[qj]}var kS=!0,q_=(()=>{class n{static{this.__NG_ELEMENT_ID__=Gj}static{this.__NG_ENV_ID__=t=>t}}return n})(),$y=class extends q_{constructor(e){super(),this._lView=e}onDestroy(e){return cS(this._lView,e),()=>fj(this._lView,e)}};function Gj(){return new $y(Se())}var tc=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})();var zy=class extends Ce{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Qx()&&(this.destroyRef=L(q_,{optional:!0})??void 0,this.pendingTasks=L(tc,{optional:!0})??void 0)}emit(e){let t=Re(null);try{super.next(e)}finally{Re(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ge&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ye=zy;function gf(...n){}function FS(n){let e,t;function r(){n=gf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function XT(n){return queueMicrotask(()=>n()),()=>{n=gf}}var G_="isAngularZone",vf=G_+"_ID",Wj=0,re=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=kS}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Yj(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(G_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Kj,gf,gf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Kj={};function W_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Qj(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){FS(()=>{n.callbackScheduled=!1,Hy(n),n.isCheckStableRunning=!0,W_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Hy(n)}function Yj(n){let e=()=>{Qj(n)},t=Wj++;n._inner=n._inner.fork({name:"angular",properties:{[G_]:!0,[vf]:t,[vf+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Zj(c))return r.invokeTask(o,s,a,c);try{return JT(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ex(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return JT(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Xj(c)&&e(),ex(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Hy(n),W_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Hy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function JT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ex(n){n._nesting--,W_(n)}var qy=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Zj(n){return OS(n,"__ignore_ng_zone__")}function Xj(n){return OS(n,"__scheduler_tick__")}function OS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var kn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&yy(e);for(;t&&yy(t);)t=yy(t);return t||null}},Jj=new $("",{providedIn:"root",factory:()=>{let n=L(re),e=L(kn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function e2(){return nc(nn(),Se())}function nc(n,e){return new Fe(Jn(n,e))}var Fe=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=e2}}return n})();function LS(n){return n instanceof Fe?n.nativeElement:n}function t2(){return this._results[Symbol.iterator]()}var yf=class n{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=t2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=SV(e);(this._changesDetected=!xV(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function VS(n){return(n.flags&128)===128}var jS=new Map,n2=0;function r2(){return n2++}function i2(n){jS.set(n[Ff],n)}function Gy(n){jS.delete(n[Ff])}var tx="__ngContext__";function bs(n,e){io(e)?(n[tx]=e[Ff],i2(e)):n[tx]=e}function BS(n){return $S(n[eu])}function US(n){return $S(n[yr])}function $S(n){for(;n!==null&&!_i(n);)n=n[yr];return n}var Wy;function zS(n){Wy=n}function o2(){if(Wy!==void 0)return Wy;if(typeof document<"u")return document;throw new z(210,!1)}var su=new $("",{providedIn:"root",factory:()=>s2}),s2="ng",K_=new $(""),rn=new $("",{providedIn:"platform",factory:()=>"unknown"});var Ur=new $(""),au=new $("",{providedIn:"root",factory:()=>o2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var a2="h",c2="b";var l2=()=>null;function Q_(n,e,t=!1){return l2(n,e,t)}var HS=!1,u2=new $("",{providedIn:"root",factory:()=>HS});var qh;function d2(){if(qh===void 0&&(qh=null,en.trustedTypes))try{qh=en.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return qh}function Uf(n){return d2()?.createHTML(n)||n}var Gh;function h2(){if(Gh===void 0&&(Gh=null,en.trustedTypes))try{Gh=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gh}function nx(n){return h2()?.createScriptURL(n)||n}var gi=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wx})`}},Ky=class extends gi{getTypeName(){return"HTML"}},Qy=class extends gi{getTypeName(){return"Style"}},Yy=class extends gi{getTypeName(){return"Script"}},Zy=class extends gi{getTypeName(){return"URL"}},Xy=class extends gi{getTypeName(){return"ResourceURL"}};function _r(n){return n instanceof gi?n.changingThisBreaksApplicationSecurity:n}function fo(n,e){let t=f2(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${wx})`)}return t===e}function f2(n){return n instanceof gi&&n.getTypeName()||null}function qS(n){return new Ky(n)}function GS(n){return new Qy(n)}function WS(n){return new Yy(n)}function KS(n){return new Zy(n)}function QS(n){return new Xy(n)}function p2(n){let e=new e_(n);return m2()?new Jy(e):e}var Jy=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Uf(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},e_=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Uf(e),t}};function m2(){try{return!!new window.DOMParser().parseFromString(Uf(""),"text/html")}catch{return!1}}var g2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $f(n){return n=String(n),n.match(g2)?n:"unsafe:"+n}function bi(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function cu(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var YS=bi("area,br,col,hr,img,wbr"),ZS=bi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XS=bi("rp,rt"),v2=cu(XS,ZS),y2=cu(ZS,bi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_2=cu(XS,bi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rx=cu(YS,y2,_2,v2),JS=bi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),b2=bi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),w2=bi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),E2=cu(JS,b2,w2),I2=bi("script,style,template"),t_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=T2(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=C2(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=ix(e).toLowerCase();if(!rx.hasOwnProperty(t))return this.sanitizedSomething=!0,!I2.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!E2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;JS[a]&&(c=$f(c)),this.buf.push(" ",s,'="',ox(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=ix(e).toLowerCase();rx.hasOwnProperty(t)&&!YS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ox(e))}};function D2(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function C2(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw eA(e);return e}function T2(n){let e=n.firstChild;if(e&&D2(n,e))throw eA(e);return e}function ix(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function eA(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var x2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,S2=/([^\#-~ |!])/g;function ox(n){return n.replace(/&/g,"&amp;").replace(x2,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(S2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Wh;function tA(n,e){let t=null;try{Wh=Wh||p2(n);let r=e?String(e):"";t=Wh.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Wh.getInertBodyElement(r)}while(r!==o);let a=new t_().sanitizeChildren(sx(t)||t);return Uf(a)}finally{if(t){let r=sx(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function sx(n){return"content"in n&&A2(n)?n.content:null}function A2(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var on=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(on||{});function M2(n){let e=rA();return e?e.sanitize(on.URL,n)||"":fo(n,"URL")?_r(n):$f(Rf(n))}function R2(n){let e=rA();if(e)return nx(e.sanitize(on.RESOURCE_URL,n)||"");if(fo(n,"ResourceURL"))return nx(_r(n));throw new z(904,!1)}function N2(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?R2:M2}function nA(n,e,t){return N2(e,t)(n)}function rA(){let n=Se();return n&&n[Lr].sanitizer}function iA(n){return n instanceof Function?n():n}function oA(n){return(n??L(vn)).get(rn)==="browser"}var vi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(vi||{}),P2;function Y_(n,e){return P2(n,e)}function Oa(n,e,t,r,i){if(r!=null){let o,s=!1;_i(r)?o=r:io(r)&&(s=!0,r=r[yi]);let a=Vr(r);n===0&&t!==null?i==null?uA(e,t,a):bf(e,t,a,i||null,!0):n===1&&t!==null?bf(e,t,a,i||null,!0):n===2?G2(e,a,s):n===3&&e.destroyNode(a),o!=null&&K2(e,n,o,t,i)}}function k2(n,e){return n.createText(e)}function F2(n,e,t){n.setValue(e,t)}function sA(n,e,t){return n.createElement(e,t)}function O2(n,e){aA(n,e),e[yi]=null,e[An]=null}function L2(n,e,t,r,i,o){r[yi]=i,r[An]=e,zf(n,r,t,1,i,o)}function aA(n,e){e[Lr].changeDetectionScheduler?.notify(9),zf(n,e,e[yt],2,null,null)}function V2(n){let e=n[eu];if(!e)return _y(n[de],n);for(;e;){let t=null;if(io(e))t=e[eu];else{let r=e[xn];r&&(t=r)}if(!t){for(;e&&!e[yr]&&e!==n;)io(e)&&_y(e[de],e),e=e[tn];e===null&&(e=n),io(e)&&_y(e[de],e),t=e&&e[yr]}e=t}}function j2(n,e,t,r){let i=xn+r,o=t.length;r>0&&(t[i-1][yr]=e),r<o-xn?(e[yr]=t[i],Rx(t,xn+r,e)):(t.push(e),e[yr]=null),e[tn]=t;let s=e[ps];s!==null&&t!==s&&cA(s,e);let a=e[mi];a!==null&&a.insertView(n),Oy(e),e[ce]|=128}function cA(n,e){let t=n[Ha],r=e[tn];if(io(r))n[ce]|=uf.HasTransplantedViews;else{let i=r[tn][Xn];e[Xn]!==i&&(n[ce]|=uf.HasTransplantedViews)}t===null?n[Ha]=[e]:t.push(e)}function Z_(n,e){let t=n[Ha],r=t.indexOf(e);t.splice(r,1)}function _f(n,e){if(n.length<=xn)return;let t=xn+e,r=n[t];if(r){let i=r[ps];i!==null&&i!==n&&Z_(i,r),e>0&&(n[t-1][yr]=r[yr]);let o=sf(n,xn+e);O2(r[de],r);let s=o[mi];s!==null&&s.detachView(o[de]),r[tn]=null,r[yr]=null,r[ce]&=-129}return r}function X_(n,e){if(!(e[ce]&256)){let t=e[yt];t.destroyNode&&zf(n,e,t,3,null,null),V2(e)}}function _y(n,e){if(e[ce]&256)return;let t=Re(null);try{e[ce]&=-129,e[ce]|=256,e[Yn]&&Qv(e[Yn]),U2(n,e),B2(n,e),e[de].type===1&&e[yt].destroy();let r=e[ps];if(r!==null&&_i(e[tn])){r!==e[tn]&&Z_(r,e);let i=e[mi];i!==null&&i.detachView(n)}Gy(e)}finally{Re(t)}}function B2(n,e){let t=n.cleanup,r=e[cf];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[cf]=null);let i=e[ro];if(i!==null){e[ro]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function U2(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ys)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];kr(4,a,c);try{c.call(a)}finally{kr(5,a,c)}}else{kr(4,i,o);try{o.call(i)}finally{kr(5,i,o)}}}}}function lA(n,e,t){return $2(n,e.parent,t)}function $2(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[yi];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Or.None||o===Or.Emulated)return null}return Jn(r,t)}}function bf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function uA(n,e,t){n.appendChild(e,t)}function ax(n,e,t,r,i){r!==null?bf(n,e,t,r,i):uA(n,e,t)}function dA(n,e){return n.parentNode(e)}function z2(n,e){return n.nextSibling(e)}function hA(n,e,t){return q2(n,e,t)}function H2(n,e,t){return n.type&40?Jn(n,t):null}var q2=H2,cx;function J_(n,e,t,r){let i=lA(n,r,e),o=e[yt],s=r.parent||e[An],a=hA(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)ax(o,i,t[c],a,!1);else ax(o,i,t,a,!1);cx!==void 0&&cx(o,r,e,t,i)}function Kl(n,e){if(e!==null){let t=e.type;if(t&3)return Jn(e,n);if(t&4)return n_(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Kl(n,r);{let i=n[e.index];return _i(i)?n_(-1,i):Vr(i)}}else{if(t&128)return Kl(n,e.next);if(t&32)return Y_(e,n)()||Vr(n[e.index]);{let r=fA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=gs(n[Xn]);return Kl(i,r)}else return Kl(n,e.next)}}}return null}function fA(n,e){if(e!==null){let r=n[Xn][An],i=e.projection;return r.projection[i]}return null}function n_(n,e){let t=xn+n+1;if(t<e.length){let r=e[t],i=r[de].firstChild;if(i!==null)return Kl(r,i)}return e[ms]}function G2(n,e,t){n.removeChild(null,e,t)}function eb(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&bs(Vr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)eb(n,e,t.child,r,i,o,!1),Oa(e,n,i,a,o);else if(c&32){let u=Y_(t,r),d;for(;d=u();)Oa(e,n,i,d,o);Oa(e,n,i,a,o)}else c&16?pA(n,e,r,t,i,o):Oa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function zf(n,e,t,r,i,o){eb(t,r,n.firstChild,e,i,o,!1)}function W2(n,e,t){let r=e[yt],i=lA(n,t,e),o=t.parent||e[An],s=hA(o,t,e);pA(r,0,e,t,i,s)}function pA(n,e,t,r,i,o){let s=t[Xn],c=s[An].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Oa(e,n,i,d,o)}else{let u=c,d=s[tn];VS(r)&&(u.flags|=128),eb(n,e,u,d,i,o,!0)}}function K2(n,e,t,r,i){let o=t[ms],s=Vr(t);o!==s&&Oa(e,n,r,o,i);for(let a=xn;a<t.length;a++){let c=t[a];zf(c[de],c,n,e,r,o)}}function Q2(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:vi.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=vi.Important),n.setStyle(t,r,i,o))}}function Y2(n,e,t){n.setAttribute(e,"style",t)}function mA(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function gA(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&My(n,e,r),i!==null&&mA(n,e,i),o!==null&&Y2(n,e,o)}var $r={};function ve(n=1){vA(St(),Se(),Is()+n,!1)}function vA(n,e,t,r){if(!r)if((e[ce]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Xh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Jh(e,o,0,t)}vs(t)}function j(n,e=Ee.Default){let t=Se();if(t===null)return P(n,e);let r=nn();return MS(r,t,fn(n),e)}function Hf(){let n="invalid";throw new Error(n)}function yA(n,e,t,r,i,o){let s=Re(null);try{let a=null;i&oo.SignalBased&&(a=e[r][fr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&oo.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):eS(e,a,r,o)}finally{Re(s)}}function Z2(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)vs(~i);else{let o=i,s=t[++r],a=t[++r];Dj(s,o);let c=e[o];a(2,c)}}}finally{vs(-1)}}function qf(n,e,t,r,i,o,s,a,c,u,d){let f=e.blueprint.slice();return f[yi]=i,f[ce]=r|4|128|8|64,(u!==null||n&&n[ce]&2048)&&(f[ce]|=2048),sS(f),f[tn]=f[Za]=n,f[Zn]=t,f[Lr]=s||n&&n[Lr],f[yt]=a||n&&n[yt],f[za]=c||n&&n[za]||null,f[An]=o,f[Ff]=r2(),f[Jl]=d,f[Zx]=u,f[Xn]=e.type==2?n[Xn]:f,f}function lu(n,e,t,r,i){let o=n.data[e];if(o===null)o=X2(n,e,t,r,i),Ij()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=_j();o.injectorIndex=s===null?-1:s.injectorIndex}return ou(o,!0),o}function X2(n,e,t,r,i){let o=hS(),s=fS(),a=s?o:o&&o.parent,c=n.data[e]=iB(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function _A(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function bA(n,e,t,r,i){let o=Is(),s=r&2;try{vs(-1),s&&e.length>gn&&vA(n,e,gn,!1),kr(s?2:0,i),t(r,i)}finally{vs(o),kr(s?3:1,i)}}function wA(n,e,t){if(Jx(e)){let r=Re(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Re(r)}}}function EA(n,e,t){uS()&&(uB(n,e,t,Jn(t,e)),(t.flags&64)===64&&xA(n,e,t))}function IA(n,e,t=Jn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function DA(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=tb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function tb(n,e,t,r,i,o,s,a,c,u,d){let f=gn+r,m=f+i,v=J2(f,m),_=typeof u=="function"?u():u;return v[de]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:d}}function J2(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:$r);return t}function eB(n,e,t,r){let o=r.get(u2,HS)||t===Or.ShadowDom,s=n.selectRootElement(e,o);return tB(s),s}function tB(n){nB(n)}var nB=()=>null;function rB(n,e,t,r){let i=MA(e);i.push(t),n.firstCreatePass&&RA(n).push(r,i.length-1)}function iB(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return dS()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function lx(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=oo.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?ux(r,t,u,a,c):ux(r,t,u,a)}return r}function ux(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function oB(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,u=null;for(let d=r;d<i;d++){let f=o[d],m=t?t.get(f):null,v=m?m.inputs:null,_=m?m.outputs:null;c=lx(0,f.inputs,d,c,v),u=lx(1,f.outputs,d,u,_);let E=c!==null&&s!==null&&!R_(e)?wB(c,d,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function sB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function nb(n,e,t,r,i,o,s,a){let c=Jn(e,t),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(rb(n,t,d,r,i),Of(e)&&aB(t,e.index)):e.type&3?(r=sB(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function aB(n,e){let t=ho(e,n);t[ce]&16||(t[ce]|=64)}function CA(n,e,t,r){if(uS()){let i=r===null?null:{"":-1},o=hB(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&TA(n,e,t,s,i,a),i&&fB(t,r,i)}t.mergedAttrs=Zl(t.mergedAttrs,t.attrs)}function TA(n,e,t,r,i,o){for(let u=0;u<r.length;u++)By(mf(t,e),n,r[u].type);mB(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=_A(n,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];t.mergedAttrs=Zl(t.mergedAttrs,d.hostAttrs),gB(n,t,e,c,d),pB(c,d,i),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}oB(n,t,o)}function cB(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;lB(s)!=a&&s.push(a),s.push(t,r,o)}}function lB(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function uB(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Of(t)&&vB(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||mf(t,e),bs(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],u=_s(e,n,a,t);if(bs(u,e),s!==null&&bB(e,a-i,u,c,t,s),ao(c)){let d=ho(t.index,e);d[Zn]=_s(e,n,a,t)}}}function xA(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Cj();try{vs(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Ly(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&dB(c,u)}}finally{vs(-1),Ly(s)}}function dB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function hB(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(Lx(e,s.selectors,!1))if(r||(r=[]),ao(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;r_(n,e,c)}else r.unshift(s),r_(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function r_(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function fB(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}}function pB(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ao(e)&&(t[""]=n)}}function mB(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function gB(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=fs(i.type,!0)),s=new ys(o,ao(i),j);n.blueprint[r]=s,t[r]=s,cB(n,e,r,_A(n,t,i.hostVars,$r),i)}function vB(n,e,t){let r=Jn(e,n),i=DA(t),o=n[Lr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Gf(n,qf(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function yB(n,e,t,r,i,o){let s=Jn(n,e);_B(e[yt],s,o,n.value,t,r,i)}function _B(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Rf(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function bB(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],d=s[a++],f=s[a++];yA(r,t,c,u,d,f)}}function wB(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function SA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function AA(n,e){let t=n.contentQueries;if(t!==null){let r=Re(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];jf(o),a.contentQueries(2,e[s],s)}}}finally{Re(r)}}}function Gf(n,e){return n[eu]?n[qT][yr]=e:n[eu]=e,n[qT]=e,e}function i_(n,e,t){jf(0);let r=Re(null);try{e(n,t)}finally{Re(r)}}function MA(n){return n[cf]??=[]}function RA(n){return n.cleanup??=[]}function NA(n,e){let t=n[za],r=t?t.get(kn,null):null;r&&r.handleError(e)}function rb(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],u=e[s],d=n.data[s];yA(d,u,r,a,c,i)}}function EB(n,e,t){let r=iS(e,n);F2(n[yt],r,t)}function IB(n,e){let t=ho(e,n),r=t[de];DB(r,t);let i=t[yi];i!==null&&t[Jl]===null&&(t[Jl]=Q_(i,t[za])),ib(r,t,t[Zn])}function DB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ib(n,e,t){j_(e);try{let r=n.viewQuery;r!==null&&i_(1,r,t);let i=n.template;i!==null&&bA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[mi]?.finishViewCreation(n),n.staticContentQueries&&AA(n,e),n.staticViewQueries&&i_(2,n.viewQuery,t);let o=n.components;o!==null&&CB(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,B_()}}function CB(n,e){for(let t=0;t<e.length;t++)IB(n,e[t])}function ob(n,e,t,r){let i=Re(null);try{let o=e.tView,a=n[ce]&4096?4096:16,c=qf(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[ps]=u;let d=n[mi];return d!==null&&(c[mi]=d.createEmbeddedView(o)),ib(o,c,t),c}finally{Re(i)}}function TB(n,e){let t=xn+e;if(t<n.length)return n[t]}function wf(n,e){return!e||e.firstChild===null||VS(n)}function sb(n,e,t,r=!0){let i=e[de];if(j2(i,e,n,t),r){let s=n_(t,n),a=e[yt],c=dA(a,n[ms]);c!==null&&L2(i,n[An],a,e,c,s)}let o=e[Jl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xB(n,e){let t=_f(n,e);return t!==void 0&&X_(t[de],t),t}function Ef(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Vr(o)),_i(o)&&SB(o,r);let s=t.type;if(s&8)Ef(n,e,t.child,r);else if(s&32){let a=Y_(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=fA(e,t);if(Array.isArray(a))r.push(...a);else{let c=gs(e[Xn]);Ef(c[de],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function SB(n,e){for(let t=xn;t<n.length;t++){let r=n[t],i=r[de].firstChild;i!==null&&Ef(r[de],r,i,e)}n[ms]!==n[yi]&&e.push(n[ms])}var PA=[];function AB(n){return n[Yn]??MB(n)}function MB(n){let e=PA.pop()??Object.create(NB);return e.lView=n,e}function RB(n){n.lView[Yn]!==n&&(n.lView=null,PA.push(n))}var NB=De(B({},Vl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Vf(n.lView)},consumerOnSignalRead(){this.lView[Yn]=this}});function PB(n){let e=n[Yn]??Object.create(kB);return e.lView=n,e}var kB=De(B({},Vl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=gs(n.lView);for(;e&&!kA(e[de]);)e=gs(e);e&&aS(e)},consumerOnSignalRead(){this.lView[Yn]=this}});function kA(n){return n.type!==2}var FB=100;function FA(n,e=!0,t=0){let r=n[Lr],i=r.rendererFactory,o=!1;o||i.begin?.();try{OB(n,t)}catch(s){throw e&&NA(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function OB(n,e){let t=mS();try{WT(!0),o_(n,e);let r=0;for(;Lf(n);){if(r===FB)throw new z(103,!1);r++,o_(n,1)}}finally{WT(t)}}function LB(n,e,t,r){let i=e[ce];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Lr].inlineEffectRunner?.flush(),j_(e);let a=!0,c=null,u=null;o||(kA(n)?(u=AB(e),c=fh(u)):rT()===null?(a=!1,u=PB(e),c=fh(u)):e[Yn]&&(Qv(e[Yn]),e[Yn]=null));try{sS(e),Ej(n.bindingStartIndex),t!==null&&bA(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let v=n.preOrderCheckHooks;v!==null&&Xh(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Jh(e,v,0,null),my(e,0)}if(s||VB(e),OA(e,0),n.contentQueries!==null&&AA(n,e),!o)if(d){let v=n.contentCheckHooks;v!==null&&Xh(e,v)}else{let v=n.contentHooks;v!==null&&Jh(e,v,1),my(e,1)}Z2(n,e);let f=n.components;f!==null&&VA(e,f,0);let m=n.viewQuery;if(m!==null&&i_(2,m,r),!o)if(d){let v=n.viewCheckHooks;v!==null&&Xh(e,v)}else{let v=n.viewHooks;v!==null&&Jh(e,v,2),my(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[py]){for(let v of e[py])v();e[py]=null}o||(e[ce]&=-73)}catch(d){throw o||Vf(e),d}finally{u!==null&&(Wv(u,c),a&&RB(u)),B_()}}function OA(n,e){for(let t=BS(n);t!==null;t=US(t))for(let r=xn;r<t.length;r++){let i=t[r];LA(i,e)}}function VB(n){for(let e=BS(n);e!==null;e=US(e)){if(!(e[ce]&uf.HasTransplantedViews))continue;let t=e[Ha];for(let r=0;r<t.length;r++){let i=t[r];aS(i)}}}function jB(n,e,t){let r=ho(e,n);LA(r,t)}function LA(n,e){L_(n)&&o_(n,e)}function o_(n,e){let r=n[de],i=n[ce],o=n[Yn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Kv(o)),s||=!1,o&&(o.dirty=!1),n[ce]&=-9217,s)LB(r,n,r.template,n[Zn]);else if(i&8192){OA(n,1);let a=r.components;a!==null&&VA(n,a,1)}}function VA(n,e,t){for(let r=0;r<e.length;r++)jB(n,e[r],t)}function ab(n,e){let t=mS()?64:1088;for(n[Lr].changeDetectionScheduler?.notify(e);n;){n[ce]|=t;let r=gs(n);if(ky(n)&&!r)return n;n=r}return null}var ws=class{get rootNodes(){let e=this._lView,t=e[de];return Ef(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(e){this._lView[Zn]=e}get destroyed(){return(this._lView[ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tn];if(_i(e)){let t=e[lf],r=t?t.indexOf(this):-1;r>-1&&(_f(e,r),sf(t,r))}this._attachedToViewContainer=!1}X_(this._lView[de],this._lView)}onDestroy(e){cS(this._lView,e)}markForCheck(){ab(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){Oy(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,FA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ky(this._lView),t=this._lView[ps];t!==null&&!e&&Z_(t,this._lView),aA(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let t=ky(this._lView),r=this._lView[ps];r!==null&&!t&&cA(r,this._lView),Oy(this._lView)}},qa=(()=>{class n{static{this.__NG_ELEMENT_ID__=$B}}return n})(),BB=qa,UB=class extends BB{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=ob(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ws(i)}};function $B(){return Wf(nn(),Se())}function Wf(n,e){return n.type&4?new UB(e,n,nc(n,e)):null}var jX=new RegExp(`^(\\d+)*(${c2}|${a2})*(.*)`);var zB=()=>null;function If(n,e){return zB(n,e)}var Ga=class{},Kf=new $("",{providedIn:"root",factory:()=>!1});var jA=new $(""),BA=new $(""),s_=class{},Df=class{};function HB(n){let e=Error(`No component factory found for ${mn(n)}.`);return e[qB]=n,e}var qB="ngComponent";var a_=class{resolveComponentFactory(e){throw HB(e)}},Wa=class{static{this.NULL=new a_}},co=class{},Ds=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>GB()}}return n})();function GB(){let n=Se(),e=nn(),t=ho(e.index,n);return(io(t)?t:n)[yt]}var WB=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>null})}}return n})();function c_(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ty(i,a);else if(o==2){let c=a,u=e[++s];r=Ty(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Cf=class extends Wa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=so(e);return new Ka(t,this.ngModule)}};function dx(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:oo.None;e?t.push({propName:s,templateName:r,isSignal:(a&oo.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function KB(n){let e=n.toLowerCase();return e==="svg"?cj:e==="math"?lj:null}var Ka=class extends Df{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=dx(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return dx(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=zV(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Re(null);try{i=i||this.ngModule;let s=i instanceof Sn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Vy(e,s):e,c=a.get(co,null);if(c===null)throw new z(407,!1);let u=a.get(WB,null),d=a.get(Ga,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",_=r?eB(m,r,this.componentDef.encapsulation,a):sA(m,v,KB(v)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let T=null;_!==null&&(T=Q_(_,a,!0));let k=tb(0,null,null,1,0,null,null,null,null,null,null),U=qf(null,k,null,E,null,null,f,m,a,null,T);j_(U);let F,G,oe=null;try{let Z=this.componentDef,I,y=null;Z.findHostDirectiveDefs?(I=[],y=new Map,Z.findHostDirectiveDefs(Z,I,y),I.push(Z)):I=[Z];let b=QB(U,_);oe=YB(b,_,Z,I,U,f,m),G=O_(k,gn),_&&JB(m,Z,_,r),t!==void 0&&eU(G,this.ngContentSelectors,t),F=XB(oe,Z,I,y,U,[tU]),ib(k,U,null)}catch(Z){throw oe!==null&&Gy(oe),Gy(U),Z}finally{B_()}return new l_(this.componentType,F,nc(G,U),U,G)}finally{Re(o)}}},l_=class extends s_{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ws(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;rb(o[de],o,i,e,t),this.previousInputValues.set(e,t);let s=ho(this._tNode.index,o);ab(s,1)}}get injector(){return new hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function QB(n,e){let t=n[de],r=gn;return n[r]=e,lu(t,r,2,"#host",null)}function YB(n,e,t,r,i,o,s){let a=i[de];ZB(r,n,e,s);let c=null;e!==null&&(c=Q_(e,i[za]));let u=o.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let f=qf(i,DA(t),null,d,i[n.index],n,o,u,null,null,c);return a.firstCreatePass&&r_(a,n,r.length-1),Gf(i,f),i[n.index]=f}function ZB(n,e,t,r){for(let i of n)e.mergedAttrs=Zl(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(c_(e,e.mergedAttrs,!0),t!==null&&gA(r,t,e))}function XB(n,e,t,r,i,o){let s=nn(),a=i[de],c=Jn(s,i);TA(a,i,s,t,null,r);for(let d=0;d<t.length;d++){let f=s.directiveStart+d,m=_s(i,a,f,s);bs(m,i)}xA(a,i,s),c&&bs(c,i);let u=_s(i,a,s.directiveStart+s.componentOffset,s);if(n[Zn]=i[Zn]=u,o!==null)for(let d of o)d(u,e);return wA(a,s,i),u}function JB(n,e,t,r){if(r)My(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=HV(e.selectors[0]);i&&My(n,t,i),o&&o.length>0&&mA(n,t,o.join(" "))}}function eU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function tU(){let n=nn();z_(Se()[de],n)}var po=(()=>{class n{static{this.__NG_ELEMENT_ID__=nU}}return n})();function nU(){let n=nn();return $A(n,Se())}var rU=po,UA=class extends rU{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return nc(this._hostTNode,this._hostLView)}get injector(){return new hs(this._hostTNode,this._hostLView)}get parentInjector(){let e=H_(this._hostTNode,this._hostLView);if(DS(e)){let t=ff(e,this._hostLView),r=hf(e),i=t[de].data[r+8];return new hs(i,t)}else return new hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=hx(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-xn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=If(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,wf(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!ij(e),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new Ka(so(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?u:this.parentInjector).get(Sn,null);E&&(o=E)}let d=so(c.componentType??{}),f=If(this._lContainer,d?.id??null),m=f?.firstChild??null,v=c.create(u,i,m,o);return this.insertImpl(v.hostView,a,wf(this._hostTNode,f)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(dj(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[tn],u=new UA(c,c[An],c[tn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return sb(s,i,o,r),e.attachToViewContainerRef(),Rx(by(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=hx(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=_f(this._lContainer,t);r&&(sf(by(this._lContainer),t),X_(r[de],r))}detach(e){let t=this._adjustIndex(e,-1),r=_f(this._lContainer,t);return r&&sf(by(this._lContainer),t)!=null?new ws(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function hx(n){return n[lf]}function by(n){return n[lf]||(n[lf]=[])}function $A(n,e){let t,r=e[n.index];return _i(r)?t=r:(t=SA(r,e,null,n),e[n.index]=t,Gf(e,t)),oU(t,e,n,r),new UA(t,n,e)}function iU(n,e){let t=n[yt],r=t.createComment(""),i=Jn(e,n),o=dA(t,i);return bf(t,o,r,z2(t,i),!1),r}var oU=cU,sU=()=>!1;function aU(n,e,t){return sU(n,e,t)}function cU(n,e,t,r){if(n[ms])return;let i;t.type&8?i=Vr(r):i=iU(e,t),n[ms]=i}var u_=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},d_=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)lb(e,t).matches!==null&&this.queries[t].setDirty()}},Tf=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=pU(e):this.predicate=e}},h_=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},f_=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,lU(t,o)),this.matchTNodeWithReadOption(e,t,ef(t,e,o,!1,!1))}else r===qa?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ef(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Fe||i===po||i===qa&&t.type&4)this.addMatch(t.index,-2);else{let o=ef(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function lU(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function uU(n,e){return n.type&11?nc(n,e):n.type&4?Wf(n,e):null}function dU(n,e,t,r){return t===-1?uU(e,n):t===-2?hU(n,e,r):_s(n,n[de],t,e)}function hU(n,e,t){if(t===Fe)return nc(e,n);if(t===qa)return Wf(e,n);if(t===po)return $A(e,n)}function zA(n,e,t,r){let i=e[mi].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(dU(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function p_(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=zA(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let f=xn;f<d.length;f++){let m=d[f];m[ps]===m[tn]&&p_(m[de],m,u,r)}if(d[Ha]!==null){let f=d[Ha];for(let m=0;m<f.length;m++){let v=f[m];p_(v[de],v,u,r)}}}}}return r}function cb(n,e){return n[mi].queries[e].queryList}function HA(n,e,t){let r=new yf((t&4)===4);return rB(n,e,r,r.destroy),(e[mi]??=new d_).queries.push(new u_(r))-1}function fU(n,e,t){let r=St();return r.firstCreatePass&&(GA(r,new Tf(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),HA(r,Se(),e)}function qA(n,e,t,r){let i=St();if(i.firstCreatePass){let o=nn();GA(i,new Tf(e,t,r),o.index),mU(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return HA(i,Se(),t)}function pU(n){return n.split(",").map(e=>e.trim())}function GA(n,e,t){n.queries===null&&(n.queries=new h_),n.queries.track(new f_(e,t))}function mU(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function lb(n,e){return n.queries.getByIndex(e)}function WA(n,e){let t=n[de],r=lb(t,e);return r.crossesNgTemplate?p_(t,n,e,[]):zA(t,n,r,e)}var fx=new Set;function wi(n){fx.has(n)||(fx.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function KA(n){return typeof n=="function"&&n[fr]!==void 0}function mo(n,e){wi("NgSignals");let t=fT(n),r=t[fr];return e?.equal&&(r.equal=e.equal),t.set=i=>Zv(r,i),t.update=i=>pT(r,i),t.asReadonly=gU.bind(t),t}function gU(){let n=this[fr];if(n.readonlyFn===void 0){let e=()=>this();e[fr]=n,n.readonlyFn=e}return n.readonlyFn}function QA(n){return KA(n)&&typeof n.set=="function"}function YA(n,e){let t,r=Yv(()=>{t._dirtyCounter();let i=bU(t,n);if(e&&i===void 0)throw new z(-951,!1);return i});return t=r[fr],t._dirtyCounter=mo(0),t._flatValue=void 0,r}function vU(){return YA(!0,!1)}function yU(){return YA(!0,!0)}function _U(n,e){let t=n[fr];t._lView=Se(),t._queryIndex=e,t._queryList=cb(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function bU(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[ce]&4)return e?void 0:pn;let i=cb(t,r),o=WA(t,r);return i.reset(o,LS),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}function px(n,e){return vU()}function wU(n,e){return yU()}var ZA=(px.required=wU,px);function EU(n){return Object.getPrototypeOf(n.prototype).constructor}function er(n){let e=EU(n.type),t=!0,r=[n];for(;e;){let i;if(ao(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Kh(n.inputs),s.inputTransforms=Kh(n.inputTransforms),s.declaredInputs=Kh(n.declaredInputs),s.outputs=Kh(n.outputs);let a=i.hostBindings;a&&xU(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&CU(n,c),u&&TU(n,u),IU(n,i),cV(n.outputs,i.outputs),ao(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===er&&(t=!1)}}e=Object.getPrototypeOf(e)}DU(r)}function IU(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function DU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zl(i.hostAttrs,t=Zl(t,i.hostAttrs))}}function Kh(n){return n===Ba?{}:n===pn?[]:n}function CU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function TU(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function xU(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function br(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var lo=class{},tu=class{};var m_=class extends lo{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cf(this);let o=$x(e);this._bootstrapComponents=iA(o.bootstrap),this._r3Injector=PS(e,t,[{provide:lo,useValue:this},{provide:Wa,useValue:this.componentFactoryResolver},...r],mn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},g_=class extends tu{constructor(e){super(),this.moduleType=e}create(e){return new m_(this.moduleType,e,[])}};var xf=class extends lo{constructor(e){super(),this.componentFactoryResolver=new Cf(this),this.instance=null;let t=new Xl([...e.providers,{provide:lo,useValue:this},{provide:Wa,useValue:this.componentFactoryResolver}],e.parent||k_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qf(n,e,t=null){return new xf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function SU(n,e,t){return n[e]=t}function Ei(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function AU(n){return(n.flags&32)===32}function MU(n,e,t,r,i,o,s,a,c){let u=e.consts,d=lu(e,n,4,s||null,a||null);CA(e,t,d,df(u,c)),z_(e,d);let f=d.tView=tb(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function XA(n,e,t,r,i,o,s,a,c,u){let d=t+gn,f=e.firstCreatePass?MU(d,e,n,r,i,o,s,a,c):e.data[d];ou(f,!1);let m=RU(e,n,f,t);U_()&&J_(e,n,m,f),bs(m,n);let v=SA(m,n,m,f);return n[d]=v,Gf(n,v),aU(v,f,n),F_(f)&&EA(e,n,f),c!=null&&IA(n,f,u),f}function Ze(n,e,t,r,i,o,s,a){let c=Se(),u=St(),d=df(u.consts,o);return XA(c,u,n,e,t,r,i,d,s,a),Ze}var RU=NU;function NU(n,e,t,r){return $_(!0),e[yt].createComment("")}var La=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(La||{}),JA=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})(),v_=class n{constructor(){this.ngZone=L(re),this.scheduler=L(Ga),this.errorHandler=L(kn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[La.EarlyRead,La.Write,La.MixedReadWrite,La.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}},y_=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function ub(n,e){!e?.injector&&Yx(ub);let t=e?.injector??L(vn);return oA(t)?(wi("NgAfterRender"),eM(n,t,e,!1)):tM}function Yf(n,e){!e?.injector&&Yx(Yf);let t=e?.injector??L(vn);return oA(t)?(wi("NgAfterNextRender"),eM(n,t,e,!0)):tM}function PU(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function eM(n,e,t,r){let i=e.get(JA);i.impl??=e.get(v_);let o=t?.phase??La.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(q_):null,a=new y_(i.impl,PU(n,o),r,s);return i.impl.register(a),a}var tM={destroy(){}};function sn(n,e,t,r){let i=Se(),o=Xa();if(Ei(i,o,e)){let s=St(),a=Bf();yB(a,i,n,e,t,r)}return sn}function kU(n,e,t,r){return Ei(n,Xa(),t)?e+Rf(t)+r:$r}function Qh(n,e){return n<<17|e<<2}function Es(n){return n>>17&32767}function FU(n){return(n&2)==2}function OU(n,e){return n&131071|e<<17}function __(n){return n|2}function Qa(n){return(n&131068)>>2}function wy(n,e){return n&-131069|e<<2}function LU(n){return(n&1)===1}function b_(n){return n|1}function VU(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Es(s),c=Qa(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||iu(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let m=Es(n[a+1]);n[r+1]=Qh(m,a),m!==0&&(n[m+1]=wy(n[m+1],r)),n[a+1]=OU(n[a+1],r)}else n[r+1]=Qh(a,0),a!==0&&(n[a+1]=wy(n[a+1],r)),a=r;else n[r+1]=Qh(c,0),a===0?a=r:n[c+1]=wy(n[c+1],r),c=r;u&&(n[r+1]=__(n[r+1])),mx(n,d,r,!0),mx(n,d,r,!1),jU(e,d,n,r,o),s=Qh(a,c),o?e.classBindings=s:e.styleBindings=s}function jU(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&iu(o,e)>=0&&(t[r+1]=b_(t[r+1]))}function mx(n,e,t,r){let i=n[t+1],o=e===null,s=r?Es(i):Qa(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];BU(c,e)&&(a=!0,n[s+1]=r?b_(u):__(u)),s=r?Es(u):Qa(u)}a&&(n[t+1]=r?__(i):b_(i))}function BU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?iu(n,e)>=0:!1}var vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UU(n){return n.substring(vr.key,vr.keyEnd)}function $U(n){return zU(n),nM(n,rM(n,0,vr.textEnd))}function nM(n,e){let t=vr.textEnd;return t===e?-1:(e=vr.keyEnd=HU(n,vr.key=e,t),rM(n,e,t))}function zU(n){vr.key=0,vr.keyEnd=0,vr.value=0,vr.valueEnd=0,vr.textEnd=n.length}function rM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function HU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function ot(n,e,t){let r=Se(),i=Xa();if(Ei(r,i,e)){let o=St(),s=Bf();nb(o,s,r,n,e,r[yt],t,!1)}return ot}function w_(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";rb(n,t,o[s],s,r)}function ct(n,e){return GU(n,e,null,!0),ct}function rc(n){WU(JU,qU,n,!0)}function qU(n,e){for(let t=$U(e);t>=0;t=nM(e,t))M_(n,UU(e),!0)}function GU(n,e,t,r){let i=Se(),o=St(),s=gS(2);if(o.firstUpdatePass&&oM(o,n,s,r),e!==$r&&Ei(i,s,e)){let a=o.data[Is()];sM(o,a,i,i[yt],n,i[s+1]=t$(e,t),r,s)}}function WU(n,e,t,r){let i=St(),o=gS(2);i.firstUpdatePass&&oM(i,null,o,r);let s=Se();if(t!==$r&&Ei(s,o,t)){let a=i.data[Is()];if(aM(a,r)&&!iM(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Ty(c,t||"")),w_(i,a,s,t,r)}else e$(i,a,s,s[yt],s[o+1],s[o+1]=XU(n,e,t),r,o)}}function iM(n,e){return e>=n.expandoStartIndex}function oM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Is()],s=iM(n,t);aM(o,r)&&e===null&&!s&&(e=!1),e=KU(i,o,e,r),VU(i,o,e,t,s,r)}}function KU(n,e,t,r){let i=Tj(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ey(null,n,e,t,r),t=nu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Ey(i,n,e,t,r),o===null){let c=QU(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Ey(null,n,e,c[1],r),c=nu(c,e.attrs,r),YU(n,e,r,c))}else o=ZU(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function QU(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Qa(r)!==0)return n[Es(r)]}function YU(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Es(i)]=r}function ZU(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=nu(r,s,t)}return nu(r,e.attrs,t)}function Ey(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=nu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function nu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),M_(n,s,t?!0:e[++o]))}return n===void 0?null:n}function XU(n,e,t){if(t==null||t==="")return pn;let r=[],i=_r(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function JU(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&M_(n,r,t)}function e$(n,e,t,r,i,o,s,a){i===$r&&(i=pn);let c=0,u=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let m=c<i.length?i[c+1]:void 0,v=u<o.length?o[u+1]:void 0,_=null,E;d===f?(c+=2,u+=2,m!==v&&(_=f,E=v)):f===null||d!==null&&d<f?(c+=2,_=d):(u+=2,_=f,E=v),_!==null&&sM(n,e,t,r,_,E,s,a),d=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function sM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=LU(u)?gx(c,e,t,i,Qa(u),s):void 0;if(!Sf(d)){Sf(o)||FU(u)&&(o=gx(c,null,t,i,a,s));let f=iS(Is(),t);Q2(r,s,f,i,o)}}function gx(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,m=t[i+1];m===$r&&(m=f?pn:void 0);let v=f?hy(m,r):d===r?m:void 0;if(u&&!Sf(v)&&(v=hy(c,r)),Sf(v)&&(a=v,s))return a;let _=n[i+1];i=s?Es(_):Qa(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=hy(c,r))}return a}function Sf(n){return n!==void 0}function t$(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=mn(_r(n)))),n}function aM(n,e){return(n.flags&(e?8:16))!==0}function yn(n,e){wi("NgControlFlow");let t=Se(),r=Xa(),i=t[r]!==$r?t[r]:-1,o=i!==-1?vx(t,gn+i):void 0,s=0;if(Ei(t,r,n)){let a=Re(null);try{if(o!==void 0&&xB(o,s),n!==-1){let c=gn+n,u=vx(t,c),d=n$(t[de],c),f=If(u,d.tView.ssrId),m=ob(t,d,e,{dehydratedView:f});sb(u,m,s,wf(d,f))}}finally{Re(a)}}else if(o!==void 0){let a=TB(o,s);a!==void 0&&(a[Zn]=e)}}function vx(n,e){return n[e]}function n$(n,e){return O_(n,e)}function r$(n,e,t,r,i,o){let s=e.consts,a=df(s,i),c=lu(e,n,2,r,a);return CA(e,t,c,df(s,o)),c.attrs!==null&&c_(c,c.attrs,!1),c.mergedAttrs!==null&&c_(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ie(n,e,t,r){let i=Se(),o=St(),s=gn+n,a=i[yt],c=o.firstCreatePass?r$(s,o,i,e,t,r):o.data[s],u=i$(o,i,c,a,e,n);i[s]=u;let d=F_(c);return ou(c,!0),gA(a,u,c),!AU(c)&&U_()&&J_(o,i,u,c),pj()===0&&bs(u,i),mj(),d&&(EA(o,i,c),wA(o,c,i)),r!==null&&IA(i,c),ie}function Q(){let n=nn();fS()?pS():(n=n.parent,ou(n,!1));let e=n;vj(e)&&yj(),gj();let t=St();return t.firstCreatePass&&(z_(t,n),Jx(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&Pj(e)&&w_(t,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&kj(e)&&w_(t,e,Se(),e.stylesWithoutHost,!1),Q}function zt(n,e,t,r){return ie(n,e,t,r),Q(),zt}var i$=(n,e,t,r,i,o)=>($_(!0),sA(r,i,Aj()));function go(){return Se()}function ic(n,e,t){let r=Se(),i=Xa();if(Ei(r,i,e)){let o=St(),s=Bf();nb(o,s,r,n,e,r[yt],t,!0)}return ic}var ds=void 0;function o$(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var s$=["en",[["a","p"],["AM","PM"],ds],[["AM","PM"],ds,ds],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ds,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ds,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ds,"{1} 'at' {0}",ds],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",o$],Iy={};function tr(n){let e=a$(n),t=yx(e);if(t)return t;let r=e.split("-")[0];if(t=yx(r),t)return t;if(r==="en")return s$;throw new z(701,!1)}function yx(n){return n in Iy||(Iy[n]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[n]),Iy[n]}var wt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(wt||{});function a$(n){return n.toLowerCase().replace(/_/g,"-")}var Af="en-US";var c$=Af;function l$(n){typeof n=="string"&&(c$=n.toLowerCase().replace(/_/g,"-"))}var u$=(n,e,t)=>{};function Lt(n,e,t,r){let i=Se(),o=St(),s=nn();return cM(o,i,i[yt],s,n,e,r),Lt}function d$(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[cf],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function cM(n,e,t,r,i,o,s){let a=F_(r),u=n.firstCreatePass&&RA(n),d=e[Zn],f=MA(e),m=!0;if(r.type&3||s){let E=Jn(r,e),T=s?s(E):E,k=f.length,U=s?G=>s(Vr(G[r.index])):r.index,F=null;if(!s&&a&&(F=d$(n,e,i,r.index)),F!==null){let G=F.__ngLastListenerFn__||F;G.__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,m=!1}else{o=bx(r,e,d,o),u$(E,i,o);let G=t.listen(T,i,o);f.push(o,G),u&&u.push(i,U,k,k+1)}}else o=bx(r,e,d,o);let v=r.outputs,_;if(m&&v!==null&&(_=v[i])){let E=_.length;if(E)for(let T=0;T<E;T+=2){let k=_[T],U=_[T+1],oe=e[k][U].subscribe(o),Z=f.length;f.push(o,oe),u&&u.push(i,r.index,Z,-(Z+1))}}}function _x(n,e,t,r){let i=Re(null);try{return kr(6,e,t),t(r)!==!1}catch(o){return NA(n,o),!1}finally{kr(7,e,t),Re(i)}}function bx(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?ho(n.index,e):e;ab(s,5);let a=_x(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=_x(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Vt(n=1){return Sj(n)}function h$(n,e){let t=null,r=VV(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?Lx(n,o,!0):UV(r,o))return i}return t}function nr(n){let e=Se()[Xn][An];if(!e.projection){let t=n?n.length:1,r=e.projection=AV(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?h$(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function ht(n,e=0,t,r,i,o){let s=Se(),a=St(),c=r?n+1:null;c!==null&&XA(s,a,c,r,i,o,null,t);let u=lu(a,gn+n,16,null,t||null);u.projection===null&&(u.projection=e),pS();let f=!s[Jl]||dS();s[Xn][An].projection[u.projection]===null&&c!==null?f$(s,a,c):f&&(u.flags&32)!==32&&W2(a,s,u)}function f$(n,e,t){let r=gn+t,i=e.data[r],o=n[r],s=If(o,i.tView.ssrId),a=ob(n,i,void 0,{dehydratedView:s});sb(o,a,0,wf(i,s))}function Ii(n,e,t,r){qA(n,e,t,r)}function wr(n,e,t){fU(n,e,t)}function jt(n){let e=Se(),t=St(),r=V_();jf(r+1);let i=lb(t,r);if(n.dirty&&uj(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=WA(e,r);n.reset(o,LS),n.notifyOnChanges()}return!0}return!1}function Bt(){return cb(Se(),V_())}function lM(n,e,t,r,i){_U(e,qA(n,t,r,i))}function uM(n=1){jf(V_()+n)}function p$(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Cs(n){let e=bj();return oS(e,gn+n)}function ye(n,e=""){let t=Se(),r=St(),i=n+gn,o=r.firstCreatePass?lu(r,i,1,e,null):r.data[i],s=m$(r,t,o,e,n);t[i]=s,U_()&&J_(r,t,s,o),ou(o,!1)}var m$=(n,e,t,r,i)=>($_(!0),k2(e[yt],r));function Ts(n){return xs("",n,""),Ts}function xs(n,e,t){let r=Se(),i=kU(r,n,e,t);return i!==$r&&EB(r,Is(),i),xs}function vo(n,e,t){QA(e)&&(e=e());let r=Se(),i=Xa();if(Ei(r,i,e)){let o=St(),s=Bf();nb(o,s,r,n,e,r[yt],t,!1)}return vo}function Ss(n,e){let t=QA(n);return t&&n.set(e),t}function yo(n,e){let t=Se(),r=St(),i=nn();return cM(r,t,t[yt],i,n,e),yo}function g$(n,e,t){let r=St();if(r.firstCreatePass){let i=ao(n);E_(t,r.data,r.blueprint,i,!0),E_(e,r.data,r.blueprint,i,!1)}}function E_(n,e,t,r,i){if(n=fn(n),Array.isArray(n))for(let o=0;o<n.length;o++)E_(n[o],e,t,r,i);else{let o=St(),s=Se(),a=nn(),c=$a(n)?n:fn(n.provide),u=Kx(n),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if($a(n)||!n.multi){let v=new ys(u,i,j),_=Cy(c,e,i?d:d+m,f);_===-1?(By(mf(a,s),o,c),Dy(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[_]=v,s[_]=v)}else{let v=Cy(c,e,d+m,f),_=Cy(c,e,d,d+m),E=v>=0&&t[v],T=_>=0&&t[_];if(i&&!T||!i&&!E){By(mf(a,s),o,c);let k=_$(i?y$:v$,t.length,i,r,u);!i&&T&&(t[_].providerFactory=k),Dy(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=dM(t[i?_:v],u,!i&&r);Dy(o,n,v>-1?v:_,k)}!i&&r&&T&&t[_].componentProviders++}}}function Dy(n,e,t,r){let i=$a(e),o=ZV(e);if(i||o){let c=(o?fn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function dM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Cy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function v$(n,e,t,r){return I_(this.multi,[])}function y$(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=_s(t,t[de],this.providerFactory.index,r);o=a.slice(0,s),I_(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],I_(i,o);return o}function I_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function _$(n,e,t,r,i){let o=new ys(n,t,j);return o.multi=[],o.index=e,o.componentProviders=0,dM(o,i,r&&!t),o}function rr(n,e=[]){return t=>{t.providersResolver=(r,i)=>g$(r,i?i(n):n,e)}}var b$=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=qx(!1,t.type),i=r.length>0?Qf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(P(Sn))})}}return n})();function He(n){wi("NgStandalone"),n.getStandaloneInjector=e=>e.get(b$).getOrCreateStandaloneInjector(n)}function w$(n,e){let t=n[e];return t===$r?void 0:t}function E$(n,e,t,r,i,o){let s=e+t;return Ei(n,s,i)?SU(n,s+1,o?r.call(o,i):r(i)):w$(n,s+1)}function hM(n,e){let t=St(),r,i=n+gn;t.firstCreatePass?(r=I$(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=fs(r.type,!0)),s,a=Tn(j);try{let c=pf(!1),u=o();return pf(c),p$(t,Se(),i,u),u}finally{Tn(a)}}function I$(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function fM(n,e,t){let r=n+gn,i=Se(),o=oS(i,r);return D$(i,r)?E$(i,wj(),e,o.transform,t,o):o.transform(t)}function D$(n,e){return n[de].data[e].pure}function pM(n,e){return Wf(n,e)}var jr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},mM=new jr("18.2.13");var Zf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var db=new $(""),uu=new $(""),Xf=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,hb||(C$(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(P(re),P(Jf),P(uu))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Jf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return hb?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function C$(n){hb=n}var hb;function As(n){return!!n&&typeof n.then=="function"}function gM(n){return!!n&&typeof n.subscribe=="function"}var ep=new $(""),vM=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=L(ep,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(As(o))t.push(o);else if(gM(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tp=new $("");function T$(){hT(()=>{throw new z(600,!1)})}function x$(n){return n.isBoundToModule}var S$=10;function A$(n,e,t){try{let r=t();return As(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var _o=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(Jj),this.afterRenderManager=L(JA),this.zonelessEnabled=L(Kf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ce,this.afterTick=new Ce,this.componentTypes=[],this.components=[],this.isStable=L(tc).hasPendingTasks.pipe(Y(t=>!t)),this._injector=L(Sn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Df;if(!this._injector.get(vM).done){let m=!i&&Ux(t),v=!1;throw new z(405,v)}let s;i?s=t:s=this._injector.get(Wa).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=x$(s)?void 0:this._injector.get(lo),c=r||s.selector,u=s.create(vn.NULL,[],c,a),d=u.location.nativeElement,f=u.injector.get(db,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),tf(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let t=Re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Re(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(co,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<S$;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)M$(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Lf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;tf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(tp,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>tf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function M$(n,e,t,r){if(!t&&!Lf(n))return;FA(n,e,t&&!r?0:1)}var D_=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},np=(()=>{class n{compileModuleSync(t){return new g_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=$x(t),o=iA(i.declarations).reduce((s,a)=>{let c=so(a);return c&&s.push(new Ka(c)),s},[]);return new D_(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var R$=(()=>{class n{constructor(){this.zone=L(re),this.changeDetectionScheduler=L(Ga),this.applicationRef=L(_o)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),N$=new $("",{factory:()=>!1});function yM({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new re(De(B({},bM()),{scheduleInRootZone:t})),[{provide:re,useFactory:n},{provide:Ua,multi:!0,useFactory:()=>{let r=L(R$,{optional:!0});return()=>r.initialize()}},{provide:Ua,multi:!0,useFactory:()=>{let r=L(P$);return()=>{r.initialize()}}},e===!0?{provide:jA,useValue:!0}:[],{provide:BA,useValue:t??kS}]}function _M(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=yM({ngZoneFactory:()=>{let i=bM(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&wi("NgZone_CoalesceEvent"),new re(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Pf([{provide:N$,useValue:!0},{provide:Kf,useValue:!1},r])}function bM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var P$=(()=>{class n{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=L(re),this.pendingTasks=L(tc)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{re.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{re.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var k$=(()=>{class n{constructor(){this.appRef=L(_o),this.taskService=L(tc),this.ngZone=L(re),this.zonelessEnabled=L(Kf),this.disableScheduling=L(jA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ge,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(BA,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof qy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?XT:FS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,XT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function F$(){return typeof $localize<"u"&&$localize.locale||Af}var du=new $("",{providedIn:"root",factory:()=>L(du,Ee.Optional|Ee.SkipSelf)||F$()});var C_=new $("");function Yh(n){return!n.moduleRef}function O$(n){let e=Yh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(re);return t.run(()=>{Yh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(kn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Yh(n)){let o=()=>e.destroy(),s=n.platformInjector.get(C_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(C_);s.add(o),n.moduleRef.onDestroy(()=>{tf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return A$(r,t,()=>{let o=e.get(vM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(du,Af);if(l$(s||Af),Yh(n)){let a=e.get(_o);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return L$(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function L$(n,e){let t=n.injector.get(_o);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new z(-403,!1);e.push(n)}var nf=null;function V$(n=[],e){return vn.create({name:e,providers:[{provide:kf,useValue:"platform"},{provide:C_,useValue:new Set([()=>nf=null])},...n]})}function j$(n=[]){if(nf)return nf;let e=V$(n);return nf=e,T$(),B$(e),e}function B$(n){n.get(K_,null)?.forEach(t=>t())}function fb(){return!1}var zr=(()=>{class n{static{this.__NG_ELEMENT_ID__=U$}}return n})();function U$(n){return $$(nn(),Se(),(n&16)===16)}function $$(n,e,t){if(Of(n)&&!t){let r=ho(n.index,e);return new ws(r,r)}else if(n.type&175){let r=e[Xn];return new ws(r,e)}return null}var wM=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(P(_o))}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({})}}return n})();function EM(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=j$(r),o=[yM({}),{provide:Ga,useExisting:k$},...t||[]],s=new xf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return O$({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Wt(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Di(n,e){wi("NgSignals");let t=Yv(n);return e?.equal&&(t[fr].equal=e.equal),t}function Hr(n){let e=Re(null);try{return n()}finally{Re(e)}}function IM(n){let e=so(n);if(!e)return null;let t=new Ka(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var SM=null;function qr(){return SM}function AM(n){SM??=n}var dp=class{};var Oe=new $(""),bb=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>L(H$),providedIn:"platform"})}}return n})(),MM=new $(""),H$=(()=>{class n extends bb{constructor(){super(),this._doc=L(Oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qr().getBaseHref(this._doc)}onPopState(t){let r=qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=qr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function wb(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function DM(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ti(n){return n&&n[0]!=="?"?"?"+n:n}var Si=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>L(Eb),providedIn:"root"})}}return n})(),RM=new $(""),Eb=(()=>{class n extends Si{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return wb(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ti(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ti(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ti(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(P(bb),P(RM,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NM=(()=>{class n extends Si{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=wb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ti(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ti(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(P(bb),P(RM,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),oc=(()=>{class n{constructor(t){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=W$(DM(CM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ti(r))}normalize(t){return n.stripTrailingSlash(G$(this._basePath,CM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ti(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ti(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Ti}static{this.joinWithSlash=wb}static{this.stripTrailingSlash=DM}static{this.\u0275fac=function(r){return new(r||n)(P(Si))}}static{this.\u0275prov=H({token:n,factory:()=>q$(),providedIn:"root"})}}return n})();function q$(){return new oc(P(Si))}function G$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function CM(n){return n.replace(/\/index.html$/,"")}function W$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var _n=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(_n||{}),Ke=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ke||{}),Vn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Vn||{}),bo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function K$(n){return tr(n)[wt.LocaleId]}function Q$(n,e,t){let r=tr(n),i=[r[wt.DayPeriodsFormat],r[wt.DayPeriodsStandalone]],o=ir(i,e);return ir(o,t)}function Y$(n,e,t){let r=tr(n),i=[r[wt.DaysFormat],r[wt.DaysStandalone]],o=ir(i,e);return ir(o,t)}function Z$(n,e,t){let r=tr(n),i=[r[wt.MonthsFormat],r[wt.MonthsStandalone]],o=ir(i,e);return ir(o,t)}function X$(n,e){let r=tr(n)[wt.Eras];return ir(r,e)}function rp(n,e){let t=tr(n);return ir(t[wt.DateFormat],e)}function ip(n,e){let t=tr(n);return ir(t[wt.TimeFormat],e)}function op(n,e){let r=tr(n)[wt.DateTimeFormat];return ir(r,e)}function pp(n,e){let t=tr(n),r=t[wt.NumberSymbols][e];if(typeof r>"u"){if(e===bo.CurrencyDecimal)return t[wt.NumberSymbols][bo.Decimal];if(e===bo.CurrencyGroup)return t[wt.NumberSymbols][bo.Group]}return r}function PM(n){if(!n[wt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[wt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function J$(n){let e=tr(n);return PM(e),(e[wt.ExtraData][2]||[]).map(r=>typeof r=="string"?pb(r):[pb(r[0]),pb(r[1])])}function ez(n,e,t){let r=tr(n);PM(r);let i=[r[wt.ExtraData][0],r[wt.ExtraData][1]],o=ir(i,e)||[];return ir(o,t)||[]}function ir(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function pb(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var tz=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,sp={},nz=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,xi=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(xi||{}),Be=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Be||{}),je=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(je||{});function rz(n,e,t,r){let i=hz(n);e=Ci(t,e)||e;let s=[],a;for(;e;)if(a=nz.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=FM(r,c),i=dz(i,r,!0));let u="";return s.forEach(d=>{let f=lz(d);u+=f?f(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function hp(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ci(n,e){let t=K$(n);if(sp[t]??={},sp[t][e])return sp[t][e];let r="";switch(e){case"shortDate":r=rp(n,Vn.Short);break;case"mediumDate":r=rp(n,Vn.Medium);break;case"longDate":r=rp(n,Vn.Long);break;case"fullDate":r=rp(n,Vn.Full);break;case"shortTime":r=ip(n,Vn.Short);break;case"mediumTime":r=ip(n,Vn.Medium);break;case"longTime":r=ip(n,Vn.Long);break;case"fullTime":r=ip(n,Vn.Full);break;case"short":let i=Ci(n,"shortTime"),o=Ci(n,"shortDate");r=ap(op(n,Vn.Short),[i,o]);break;case"medium":let s=Ci(n,"mediumTime"),a=Ci(n,"mediumDate");r=ap(op(n,Vn.Medium),[s,a]);break;case"long":let c=Ci(n,"longTime"),u=Ci(n,"longDate");r=ap(op(n,Vn.Long),[c,u]);break;case"full":let d=Ci(n,"fullTime"),f=Ci(n,"fullDate");r=ap(op(n,Vn.Full),[d,f]);break}return r&&(sp[t][e]=r),r}function ap(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Er(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function iz(n,e){return Er(n,3).substring(0,e)}function At(n,e,t=0,r=!1,i=!1){return function(o,s){let a=oz(n,o);if((t>0||a>-t)&&(a+=t),n===Be.Hours)a===0&&t===-12&&(a=12);else if(n===Be.FractionalSeconds)return iz(a,e);let c=pp(s,bo.MinusSign);return Er(a,e,c,r,i)}}function oz(n,e){switch(n){case Be.FullYear:return e.getFullYear();case Be.Month:return e.getMonth();case Be.Date:return e.getDate();case Be.Hours:return e.getHours();case Be.Minutes:return e.getMinutes();case Be.Seconds:return e.getSeconds();case Be.FractionalSeconds:return e.getMilliseconds();case Be.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Xe(n,e,t=_n.Format,r=!1){return function(i,o){return sz(i,o,n,e,t,r)}}function sz(n,e,t,r,i,o){switch(t){case je.Months:return Z$(e,i,r)[n.getMonth()];case je.Days:return Y$(e,i,r)[n.getDay()];case je.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let u=J$(e),d=ez(e,i,r),f=u.findIndex(m=>{if(Array.isArray(m)){let[v,_]=m,E=s>=v.hours&&a>=v.minutes,T=s<_.hours||s===_.hours&&a<_.minutes;if(v.hours<_.hours){if(E&&T)return!0}else if(E||T)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return Q$(e,i,r)[s<12?0:1];case je.Eras:return X$(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function cp(n){return function(e,t,r){let i=-1*r,o=pp(t,bo.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case xi.Short:return(i>=0?"+":"")+Er(s,2,o)+Er(Math.abs(i%60),2,o);case xi.ShortGMT:return"GMT"+(i>=0?"+":"")+Er(s,1,o);case xi.Long:return"GMT"+(i>=0?"+":"")+Er(s,2,o)+":"+Er(Math.abs(i%60),2,o);case xi.Extended:return r===0?"Z":(i>=0?"+":"")+Er(s,2,o)+":"+Er(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var az=0,up=4;function cz(n){let e=hp(n,az,1).getDay();return hp(n,0,1+(e<=up?up:up+7)-e)}function kM(n){let e=n.getDay(),t=e===0?-3:up-e;return hp(n.getFullYear(),n.getMonth(),n.getDate()+t)}function mb(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=kM(t),s=cz(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Er(i,n,pp(r,bo.MinusSign))}}function lp(n,e=!1){return function(t,r){let o=kM(t).getFullYear();return Er(o,n,pp(r,bo.MinusSign),e)}}var gb={};function lz(n){if(gb[n])return gb[n];let e;switch(n){case"G":case"GG":case"GGG":e=Xe(je.Eras,Ke.Abbreviated);break;case"GGGG":e=Xe(je.Eras,Ke.Wide);break;case"GGGGG":e=Xe(je.Eras,Ke.Narrow);break;case"y":e=At(Be.FullYear,1,0,!1,!0);break;case"yy":e=At(Be.FullYear,2,0,!0,!0);break;case"yyy":e=At(Be.FullYear,3,0,!1,!0);break;case"yyyy":e=At(Be.FullYear,4,0,!1,!0);break;case"Y":e=lp(1);break;case"YY":e=lp(2,!0);break;case"YYY":e=lp(3);break;case"YYYY":e=lp(4);break;case"M":case"L":e=At(Be.Month,1,1);break;case"MM":case"LL":e=At(Be.Month,2,1);break;case"MMM":e=Xe(je.Months,Ke.Abbreviated);break;case"MMMM":e=Xe(je.Months,Ke.Wide);break;case"MMMMM":e=Xe(je.Months,Ke.Narrow);break;case"LLL":e=Xe(je.Months,Ke.Abbreviated,_n.Standalone);break;case"LLLL":e=Xe(je.Months,Ke.Wide,_n.Standalone);break;case"LLLLL":e=Xe(je.Months,Ke.Narrow,_n.Standalone);break;case"w":e=mb(1);break;case"ww":e=mb(2);break;case"W":e=mb(1,!0);break;case"d":e=At(Be.Date,1);break;case"dd":e=At(Be.Date,2);break;case"c":case"cc":e=At(Be.Day,1);break;case"ccc":e=Xe(je.Days,Ke.Abbreviated,_n.Standalone);break;case"cccc":e=Xe(je.Days,Ke.Wide,_n.Standalone);break;case"ccccc":e=Xe(je.Days,Ke.Narrow,_n.Standalone);break;case"cccccc":e=Xe(je.Days,Ke.Short,_n.Standalone);break;case"E":case"EE":case"EEE":e=Xe(je.Days,Ke.Abbreviated);break;case"EEEE":e=Xe(je.Days,Ke.Wide);break;case"EEEEE":e=Xe(je.Days,Ke.Narrow);break;case"EEEEEE":e=Xe(je.Days,Ke.Short);break;case"a":case"aa":case"aaa":e=Xe(je.DayPeriods,Ke.Abbreviated);break;case"aaaa":e=Xe(je.DayPeriods,Ke.Wide);break;case"aaaaa":e=Xe(je.DayPeriods,Ke.Narrow);break;case"b":case"bb":case"bbb":e=Xe(je.DayPeriods,Ke.Abbreviated,_n.Standalone,!0);break;case"bbbb":e=Xe(je.DayPeriods,Ke.Wide,_n.Standalone,!0);break;case"bbbbb":e=Xe(je.DayPeriods,Ke.Narrow,_n.Standalone,!0);break;case"B":case"BB":case"BBB":e=Xe(je.DayPeriods,Ke.Abbreviated,_n.Format,!0);break;case"BBBB":e=Xe(je.DayPeriods,Ke.Wide,_n.Format,!0);break;case"BBBBB":e=Xe(je.DayPeriods,Ke.Narrow,_n.Format,!0);break;case"h":e=At(Be.Hours,1,-12);break;case"hh":e=At(Be.Hours,2,-12);break;case"H":e=At(Be.Hours,1);break;case"HH":e=At(Be.Hours,2);break;case"m":e=At(Be.Minutes,1);break;case"mm":e=At(Be.Minutes,2);break;case"s":e=At(Be.Seconds,1);break;case"ss":e=At(Be.Seconds,2);break;case"S":e=At(Be.FractionalSeconds,1);break;case"SS":e=At(Be.FractionalSeconds,2);break;case"SSS":e=At(Be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=cp(xi.Short);break;case"ZZZZZ":e=cp(xi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=cp(xi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=cp(xi.Long);break;default:return null}return gb[n]=e,e}function FM(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function uz(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function dz(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=FM(e,i);return uz(n,r*(o-i))}function hz(n){if(TM(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return hp(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(tz))return fz(r)}let e=new Date(n);if(!TM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function fz(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function TM(n){return n instanceof Date&&!isNaN(n.valueOf())}function OM(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var wo=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new vb,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(j(po),j(qa))}}static{this.\u0275dir=Ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),vb=class{constructor(){this.$implicit=null,this.ngIf=null}};function xM(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${mn(e)}'.`)}var LM=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(j(po))}}static{this.\u0275dir=Ae({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Fn]})}}return n})();function pz(n,e){return new z(2100,!1)}var mz="mediumDate",gz=new $(""),vz=new $(""),VM=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??mz,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return rz(t,s,o||this.locale,a)}catch(s){throw pz(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(j(du,16),j(gz,24),j(vz,24))}}static{this.\u0275pipe=Vx({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var Mn=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({})}}return n})(),Ib="browser",yz="server";function Db(n){return n===Ib}function Ms(n){return n===yz}var jM=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>Db(L(rn))?new yb(L(Oe),window):new _b})}}return n})(),yb=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=_z(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function _z(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var _b=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},fp=class{};var Tb=class{};var sc=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var xb=class{encodeKey(e){return BM(e)}encodeValue(e){return BM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function bz(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var wz=/%(\d[a-f0-9])/gi,Ez={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BM(n){return encodeURIComponent(n).replace(wz,(e,t)=>Ez[t]??e)}function mp(n){return`${n}`}var Eo=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xb,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=bz(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(mp):[mp(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(mp(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(mp(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Sb=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Iz(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function UM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function $M(n){return typeof Blob<"u"&&n instanceof Blob}function zM(n){return typeof FormData<"u"&&n instanceof FormData}function Dz(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var fu=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Iz(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new sc,this.context??=new Sb,!this.params)this.params=new Eo,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||UM(this.body)||$M(this.body)||zM(this.body)||Dz(this.body)?this.body:this.body instanceof Eo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zM(this.body)?null:$M(this.body)?this.body.type||null:UM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Eo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((m,v)=>m.set(v,e.setHeaders[v]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,v)=>m.set(v,e.setParams[v]),d)),new n(t,r,s,{params:d,headers:u,context:f,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},HM=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(HM||{}),Ab=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new sc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Mb=class n extends Ab{constructor(e={}){super(e),this.type=HM.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function Cb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var qM=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof fu)o=t;else{let c;i.headers instanceof sc?c=i.headers:c=new sc(i.headers);let u;i.params&&(i.params instanceof Eo?u=i.params:u=new Eo({fromObject:i.params})),o=new fu(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ee(o).pipe(fi(c=>this.handler.handle(c)));if(t instanceof fu||i.observe==="events")return s;let a=s.pipe(at(c=>c instanceof Mb));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Y(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Y(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Y(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Y(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Eo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Cb(i,r))}post(t,r,i={}){return this.request("POST",t,Cb(i,r))}put(t,r,i={}){return this.request("PUT",t,Cb(i,r))}static{this.\u0275fac=function(r){return new(r||n)(P(Tb))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();var Pb=class extends dp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},kb=class n extends Pb{static makeCurrent(){AM(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Tz();return t==null?null:xz(t)}resetBaseElement(){pu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return OM(document.cookie,e)}},pu=null;function Tz(){return pu=pu||document.querySelector("base"),pu?pu.getAttribute("href"):null}function xz(n){return new URL(n,document.baseURI).pathname}var Fb=class{addToWindow(e){en.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new z(5103,!1);return o},en.getAllAngularTestabilities=()=>e.getAllTestabilities(),en.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=en.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};en.frameworkStabilizers||(en.frameworkStabilizers=[]),en.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?qr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},Sz=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Ob=new $(""),KM=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(P(Ob),P(re))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),gp=class{constructor(e){this._doc=e}},Rb="ng-app-id",QM=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ms(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Rb}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Rb),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Rb,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(P(Oe),P(su),P(au,8),P(rn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Nb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vb=/%COMP%/g,YM="%COMP%",Az=`_nghost-${YM}`,Mz=`_ngcontent-${YM}`,Rz=!0,Nz=new $("",{providedIn:"root",factory:()=>Rz});function Pz(n){return Mz.replace(Vb,n)}function kz(n){return Az.replace(Vb,n)}function ZM(n,e){return e.map(t=>t.replace(Vb,n))}var vp=(()=>{class n{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ms(a),this.defaultRenderer=new mu(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Or.ShadowDom&&(r=De(B({},r),{encapsulation:Or.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof yp?i.applyToHost(t):i instanceof gu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Or.Emulated:o=new yp(c,u,r,this.appId,d,s,a,f);break;case Or.ShadowDom:return new Lb(c,u,t,r,s,a,this.nonce,f);default:o=new gu(c,u,r,d,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(P(KM),P(QM),P(su),P(Nz),P(Oe),P(rn),P(re),P(au))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),mu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Nb[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(GM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(GM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Nb[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Nb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(vi.DashCase|vi.Important)?e.style.setProperty(t,r,i&vi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&vi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=qr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function GM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Lb=class extends mu{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=ZM(i.id,i.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gu=class extends mu{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?ZM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},yp=class extends gu{constructor(e,t,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,c,u),this.contentAttr=Pz(u),this.hostAttr=kz(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Fz=(()=>{class n extends gp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(P(Oe))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),WM=["alt","control","meta","shift"],Oz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lz={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Vz=(()=>{class n extends gp{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),WM.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=Oz[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),WM.forEach(s=>{if(s!==i){let a=Lz[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(P(Oe))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function XM(n,e){return EM(B({rootComponent:n},jz(e)))}function jz(n){return{appProviders:[...JM,...n?.providers??[]],platformProviders:zz}}function Bz(){kb.makeCurrent()}function Uz(){return new kn}function $z(){return zS(document),document}var zz=[{provide:rn,useValue:Ib},{provide:K_,useValue:Bz,multi:!0},{provide:Oe,useFactory:$z,deps:[]}];var Hz=new $(""),qz=[{provide:uu,useClass:Fb,deps:[]},{provide:db,useClass:Xf,deps:[re,Jf,uu]},{provide:Xf,useClass:Xf,deps:[re,Jf,uu]}],JM=[{provide:kf,useValue:"root"},{provide:kn,useFactory:Uz,deps:[]},{provide:Ob,useClass:Fz,multi:!0,deps:[Oe,re,rn]},{provide:Ob,useClass:Vz,multi:!0,deps:[Oe]},vp,QM,KM,{provide:co,useExisting:vp},{provide:fp,useClass:Sz,deps:[]},[]],eR=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:su,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(P(Hz,12))}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({providers:[...JM,...qz],imports:[Mn,wM]})}}return n})();var tR=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(P(Oe))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=P(Gz),i},providedIn:"root"})}}return n})(),Gz=(()=>{class n extends jb{constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case on.NONE:return r;case on.HTML:return fo(r,"HTML")?_r(r):tA(this._doc,String(r)).toString();case on.STYLE:return fo(r,"Style")?_r(r):r;case on.SCRIPT:if(fo(r,"Script"))return _r(r);throw new z(5200,!1);case on.URL:return fo(r,"URL")?_r(r):$f(String(r));case on.RESOURCE_URL:if(fo(r,"ResourceURL"))return _r(r);throw new z(5201,!1);default:throw new z(5202,!1)}}bypassSecurityTrustHtml(t){return qS(t)}bypassSecurityTrustStyle(t){return GS(t)}bypassSecurityTrustScript(t){return WS(t)}bypassSecurityTrustUrl(t){return KS(t)}bypassSecurityTrustResourceUrl(t){return QS(t)}static{this.\u0275fac=function(r){return new(r||n)(P(Oe))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var we="primary",Ru=Symbol("RouteTitle"),Hb=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function hc(n){return new Hb(n)}function Wz(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Kz(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gr(n[t],e[t]))return!1;return!0}function Gr(n,e){let t=n?qb(n):void 0,r=e?qb(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!fR(n[i],e[i]))return!1;return!0}function qb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function fR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function pR(n){return n.length>0?n[n.length-1]:null}function Co(n){return Oh(n)?n:As(n)?Te(Promise.resolve(n)):ee(n)}var Qz={exact:gR,subset:vR},mR={exact:Yz,subset:Zz,ignored:()=>!0};function rR(n,e,t){return Qz[t.paths](n.root,e.root,t.matrixParams)&&mR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Yz(n,e){return Gr(n,e)}function gR(n,e,t){if(!Ns(n.segments,e.segments)||!wp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!gR(n.children[r],e.children[r],t))return!1;return!0}function Zz(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fR(n[t],e[t]))}function vR(n,e,t){return yR(n,e,e.segments,t)}function yR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ns(i,t)||e.hasChildren()||!wp(i,t,r))}else if(n.segments.length===t.length){if(!Ns(n.segments,t)||!wp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!vR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ns(n.segments,i)||!wp(n.segments,i,r)||!n.children[we]?!1:yR(n.children[we],e,o,r)}}function wp(n,e,t){return e.every((r,i)=>mR[t](n[i].parameters,r.parameters))}var Mi=class{constructor(e=new Ue([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=hc(this.queryParams),this._queryParamMap}toString(){return e4.serialize(this)}},Ue=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ep(this)}},Rs=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=hc(this.parameters),this._parameterMap}toString(){return bR(this)}};function Xz(n,e){return Ns(n,e)&&n.every((t,r)=>Gr(t.parameters,e[r].parameters))}function Ns(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Jz(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===we&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==we&&(t=t.concat(e(i,r)))}),t}var Nu=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>new fc,providedIn:"root"})}}return n})(),fc=class{parse(e){let t=new Wb(e);return new Mi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${vu(e.root,!0)}`,r=r4(e.queryParams),i=typeof e.fragment=="string"?`#${t4(e.fragment)}`:"";return`${t}${r}${i}`}},e4=new fc;function Ep(n){return n.segments.map(e=>bR(e)).join("/")}function vu(n,e){if(!n.hasChildren())return Ep(n);if(e){let t=n.children[we]?vu(n.children[we],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${vu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Jz(n,(r,i)=>i===we?[vu(n.children[we],!1)]:[`${i}:${vu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[we]!=null?`${Ep(n)}/${t[0]}`:`${Ep(n)}/(${t.join("//")})`}}function _R(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _p(n){return _R(n).replace(/%3B/gi,";")}function t4(n){return encodeURI(n)}function Gb(n){return _R(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ip(n){return decodeURIComponent(n)}function iR(n){return Ip(n.replace(/\+/g,"%20"))}function bR(n){return`${Gb(n.path)}${n4(n.parameters)}`}function n4(n){return Object.entries(n).map(([e,t])=>`;${Gb(e)}=${Gb(t)}`).join("")}function r4(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${_p(t)}=${_p(i)}`).join("&"):`${_p(t)}=${_p(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var i4=/^[^\/()?;#]+/;function Bb(n){let e=n.match(i4);return e?e[0]:""}var o4=/^[^\/()?;=#]+/;function s4(n){let e=n.match(o4);return e?e[0]:""}var a4=/^[^=?&#]+/;function c4(n){let e=n.match(a4);return e?e[0]:""}var l4=/^[^&#]+/;function u4(n){let e=n.match(l4);return e?e[0]:""}var Wb=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[we]=new Ue(e,t)),r}parseSegment(){let e=Bb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Rs(Ip(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=s4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Bb(this.remaining);i&&(r=i,this.capture(r))}e[Ip(t)]=Ip(r)}parseQueryParam(e){let t=c4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=u4(this.remaining);s&&(r=s,this.capture(r))}let i=iR(t),o=iR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Bb(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=we);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[we]:new Ue([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function wR(n){return n.segments.length>0?new Ue([],{[we]:n}):n}function ER(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=ER(i);if(r===we&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ue(n.segments,e);return d4(t)}function d4(n){if(n.numberOfChildren===1&&n.children[we]){let e=n.children[we];return new Ue(n.segments.concat(e.segments),e.children)}return n}function Ps(n){return n instanceof Mi}function h4(n,e,t=null,r=null){let i=IR(n);return DR(i,e,t,r)}function IR(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Ue(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=wR(r);return e??i}function DR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Ub(i,i,i,t,r);let o=f4(e);if(o.toRoot())return Ub(i,i,new Ue([],{}),t,r);let s=p4(o,i,n),a=s.processChildren?bu(s.segmentGroup,s.index,o.commands):TR(s.segmentGroup,s.index,o.commands);return Ub(i,s.segmentGroup,a,t,r)}function Dp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Iu(n){return typeof n=="object"&&n!=null&&n.outlets}function Ub(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=CR(n,e,t);let a=wR(ER(s));return new Mi(a,o,i)}function CR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=CR(o,e,t)}),new Ue(n.segments,r)}var Cp=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Dp(r[0]))throw new z(4003,!1);let i=r.find(Iu);if(i&&i!==pR(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function f4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Cp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Cp(t,e,r)}var lc=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function p4(n,e,t){if(n.isAbsolute)return new lc(e,!0,0);if(!t)return new lc(e,!1,NaN);if(t.parent===null)return new lc(t,!0,0);let r=Dp(n.commands[0])?0:1,i=t.segments.length-1+r;return m4(t,i,n.numberOfDoubleDots)}function m4(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new lc(r,!1,i-o)}function g4(n){return Iu(n[0])?n[0].outlets:{[we]:n}}function TR(n,e,t){if(n??=new Ue([],{}),n.segments.length===0&&n.hasChildren())return bu(n,e,t);let r=v4(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ue(n.segments.slice(0,r.pathIndex),{});return o.children[we]=new Ue(n.segments.slice(r.pathIndex),n.children),bu(o,0,i)}else return r.match&&i.length===0?new Ue(n.segments,{}):r.match&&!n.hasChildren()?Kb(n,e,t):r.match?bu(n,0,i):Kb(n,e,t)}function bu(n,e,t){if(t.length===0)return new Ue(n.segments,{});{let r=g4(t),i={};if(Object.keys(r).some(o=>o!==we)&&n.children[we]&&n.numberOfChildren===1&&n.children[we].segments.length===0){let o=bu(n.children[we],e,t);return new Ue(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ue(n.segments,i)}}function v4(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Iu(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!sR(c,u,s))return o;r+=2}else{if(!sR(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Kb(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Iu(o)){let c=y4(o.outlets);return new Ue(r,c)}if(i===0&&Dp(t[0])){let c=n.segments[e];r.push(new Rs(c.path,oR(t[0]))),i++;continue}let s=Iu(o)?o.outlets[we]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Dp(a)?(r.push(new Rs(s,oR(a))),i+=2):(r.push(new Rs(s,{})),i++)}return new Ue(r,{})}function y4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Kb(new Ue([],{}),0,r))}),e}function oR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function sR(n,e,t){return n==t.path&&Gr(e,t.parameters)}var wu="imperative",Ht=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ht||{}),or=class{constructor(e,t){this.id=e,this.url=t}},pc=class extends or{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Ht.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wr=class extends or{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Bn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Bn||{}),Tp=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Tp||{}),Ai=class extends or{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Io=class extends or{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ht.NavigationSkipped}},Du=class extends or{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xp=class extends or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qb=class extends or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yb=class extends or{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zb=class extends or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xb=class extends or{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jb=class{constructor(e){this.route=e,this.type=Ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ew=class{constructor(e){this.route=e,this.type=Ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},tw=class{constructor(e){this.snapshot=e,this.type=Ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nw=class{constructor(e){this.snapshot=e,this.type=Ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rw=class{constructor(e){this.snapshot=e,this.type=Ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iw=class{constructor(e){this.snapshot=e,this.type=Ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sp=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Ht.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Cu=class{},mc=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function _4(n,e){return n.providers&&!n._injector&&(n._injector=Qf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ir(n){return n.outlet||we}function b4(n,e){let t=n.filter(r=>Ir(r)===e);return t.push(...n.filter(r=>Ir(r)!==e)),t}function Pu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ow=class{get injector(){return Pu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ku(this.rootInjector),this.attachRef=null}},ku=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ow(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(P(Sn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ap=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=sw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=sw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=aw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return aw(e,this._root).map(t=>t.value)}};function sw(n,e){if(n===e.value)return e;for(let t of e.children){let r=sw(n,t);if(r)return r}return null}function aw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=aw(n,t);if(r.length)return r.unshift(e),r}return[]}var jn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function cc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Mp=class extends Ap{constructor(e,t){super(e),this.snapshot=t,gw(this,e)}toString(){return this.snapshot.toString()}};function xR(n){let e=w4(n),t=new Ot([new Rs("",{})]),r=new Ot({}),i=new Ot({}),o=new Ot({}),s=new Ot(""),a=new Do(t,r,o,s,i,we,n,e.root);return a.snapshot=e.root,new Mp(new jn(a,[]),e)}function w4(n){let e={},t={},r={},i="",o=new uc([],e,r,i,t,we,n,null,{});return new Np("",new jn(o,[]))}var Do=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(u=>u[Ru]))??ee(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>hc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>hc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B(B(B({},n.data),e.data),i?.data),n._resolvedData)}:r={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},i&&AR(i)&&(r.resolve[Ru]=i.title),r}var uc=class{get title(){return this.data?.[Ru]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Np=class extends Ap{constructor(e,t){super(t),this.url=e,gw(this,t)}toString(){return SR(this._root)}};function gw(n,e){e.value._routerState=n,e.children.forEach(t=>gw(n,t))}function SR(n){let e=n.children.length>0?` { ${n.children.map(SR).join(", ")} } `:"";return`${n.value}${e}`}function $b(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Gr(e.params,t.params)||n.paramsSubject.next(t.params),Kz(e.url,t.url)||n.urlSubject.next(t.url),Gr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function cw(n,e){let t=Gr(n.params,e.params)&&Xz(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||cw(n.parent,e.parent))}function AR(n){return typeof n.title=="string"||n.title===null}var vw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=L(ku),this.location=L(po),this.changeDetector=L(zr),this.inputBinder=L(Op,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new lw(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fn]})}}return n})(),lw=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Do?this.route:e===ku?this.childContexts:this.parent.get(e,t)}},Op=new $(""),aR=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ls([r.queryParams,r.params,r.data]).pipe(dt(([o,s,a],c)=>(a=B(B(B({},o),s),a),c===0?ee(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=IM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function E4(n,e,t){let r=Tu(n,e._root,t?t._root:void 0);return new Mp(r,e)}function Tu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=I4(n,e,t);return new jn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Tu(n,a)),s}}let r=D4(e.value),i=e.children.map(o=>Tu(n,o));return new jn(r,i)}}function I4(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Tu(n,r,i);return Tu(n,r)})}function D4(n){return new Do(new Ot(n.url),new Ot(n.params),new Ot(n.queryParams),new Ot(n.fragment),new Ot(n.data),n.outlet,n.component,n)}var xu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},MR="ngNavigationCancelingError";function Pp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ps(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RR(!1,Bn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function RR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[MR]=!0,t.cancellationCode=e,t}function C4(n){return NR(n)&&Ps(n.url)}function NR(n){return!!n&&n[MR]}var T4=(n,e,t,r)=>Y(i=>(new uw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),uw=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),$b(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=cc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=cc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=cc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=cc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new iw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new nw(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if($b(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$b(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},kp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},dc=class{constructor(e,t){this.component=e,this.route=t}};function x4(n,e,t){let r=n._root,i=e?e._root:null;return yu(r,i,t,[r.value])}function S4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function vc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Dx(n)?n:e.get(n):r}function yu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=cc(e);return n.children.forEach(s=>{A4(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Eu(a,t.getContext(s),i)),i}function A4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=M4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new kp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yu(n,e,a?a.children:null,r,i):yu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new dc(a.outlet.component,s))}else s&&Eu(e,a,i),i.canActivateChecks.push(new kp(r)),o.component?yu(n,null,a?a.children:null,r,i):yu(n,null,t,r,i);return i}function M4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ns(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ns(n.url,e.url)||!Gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cw(n,e)||!Gr(n.queryParams,e.queryParams);case"paramsChange":default:return!cw(n,e)}}function Eu(n,e,t){let r=cc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Eu(s,e.children.getContext(o),t):Eu(s,null,t):Eu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new dc(e.outlet.component,i)):t.canDeactivateChecks.push(new dc(null,i)):t.canDeactivateChecks.push(new dc(null,i))}function Fu(n){return typeof n=="function"}function R4(n){return typeof n=="boolean"}function N4(n){return n&&Fu(n.canLoad)}function P4(n){return n&&Fu(n.canActivate)}function k4(n){return n&&Fu(n.canActivateChild)}function F4(n){return n&&Fu(n.canDeactivate)}function O4(n){return n&&Fu(n.canMatch)}function PR(n){return n instanceof hi||n?.name==="EmptyError"}var bp=Symbol("INITIAL_VALUE");function gc(){return dt(n=>ls(n.map(e=>e.pipe(Cn(1),pi(bp)))).pipe(Y(e=>{for(let t of e)if(t!==!0){if(t===bp)return bp;if(t===!1||L4(t))return t}return!0}),at(e=>e!==bp),Cn(1)))}function L4(n){return Ps(n)||n instanceof xu}function V4(n,e){return xt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ee(De(B({},t),{guardsResult:!0})):j4(s,r,i,n).pipe(xt(a=>a&&R4(a)?B4(r,o,n,e):ee(a)),Y(a=>De(B({},t),{guardsResult:a})))})}function j4(n,e,t,r){return Te(n).pipe(xt(i=>q4(i.component,i.route,t,e,r)),Kn(i=>i!==!0,!0))}function B4(n,e,t,r){return Te(e).pipe(fi(i=>Ji($4(i.route.parent,r),U4(i.route,r),H4(n,i.path,t),z4(n,i.route,t))),Kn(i=>i!==!0,!0))}function U4(n,e){return n!==null&&e&&e(new rw(n)),ee(!0)}function $4(n,e){return n!==null&&e&&e(new tw(n)),ee(!0)}function z4(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(o=>Bh(()=>{let s=Pu(e)??t,a=vc(o,s),c=P4(a)?a.canActivate(e,n):Br(s,()=>a(e,n));return Co(c).pipe(Kn())}));return ee(i).pipe(gc())}function H4(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>S4(s)).filter(s=>s!==null).map(s=>Bh(()=>{let a=s.guards.map(c=>{let u=Pu(s.node)??t,d=vc(c,u),f=k4(d)?d.canActivateChild(r,n):Br(u,()=>d(r,n));return Co(f).pipe(Kn())});return ee(a).pipe(gc())}));return ee(o).pipe(gc())}function q4(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let c=Pu(e)??i,u=vc(a,c),d=F4(u)?u.canDeactivate(n,e,t,r):Br(c,()=>u(n,e,t,r));return Co(d).pipe(Kn())});return ee(s).pipe(gc())}function G4(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let o=i.map(s=>{let a=vc(s,n),c=N4(a)?a.canLoad(e,t):Br(n,()=>a(e,t));return Co(c)});return ee(o).pipe(gc(),kR(r))}function kR(n){return ry(it(e=>{if(typeof e!="boolean")throw Pp(n,e)}),Y(e=>e===!0))}function W4(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let o=i.map(s=>{let a=vc(s,n),c=O4(a)?a.canMatch(e,t):Br(n,()=>a(e,t));return Co(c)});return ee(o).pipe(gc(),kR(r))}var Su=class{constructor(e){this.segmentGroup=e||null}},Au=class extends Error{constructor(e){super(),this.urlTree=e}};function ac(n){return Zi(new Su(n))}function K4(n){return Zi(new z(4e3,!1))}function Q4(n){return Zi(RR(!1,Bn.GuardRejected))}var dw=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[we])return K4(`${e.redirectTo}`);i=i.children[we]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,params:v,data:_,title:E}=i,T=Br(o,()=>a({params:v,data:_,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,title:E}));if(T instanceof Mi)throw new Au(T);t=T}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Au(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Mi(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ue(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},hw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y4(n,e,t,r,i){let o=FR(n,e,t);return o.matched?(r=_4(e,r),W4(r,e,t,i).pipe(Y(s=>s===!0?o:B({},hw)))):ee(o)}function FR(n,e,t){if(e.path==="**")return Z4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?B({},hw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Wz)(t,n,e);if(!i)return B({},hw);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Z4(n){return{matched:!0,parameters:n.length>0?pR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function cR(n,e,t,r){return t.length>0&&eH(n,t,r)?{segmentGroup:new Ue(e,J4(r,new Ue(t,n.children))),slicedSegments:[]}:t.length===0&&tH(n,t,r)?{segmentGroup:new Ue(n.segments,X4(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ue(n.segments,n.children),slicedSegments:t}}function X4(n,e,t,r){let i={};for(let o of t)if(Lp(n,e,o)&&!r[Ir(o)]){let s=new Ue([],{});i[Ir(o)]=s}return B(B({},r),i)}function J4(n,e){let t={};t[we]=e;for(let r of n)if(r.path===""&&Ir(r)!==we){let i=new Ue([],{});t[Ir(r)]=i}return t}function eH(n,e,t){return t.some(r=>Lp(n,e,r)&&Ir(r)!==we)}function tH(n,e,t){return t.some(r=>Lp(n,e,r))}function Lp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function nH(n,e,t){return e.length===0&&!n.children[t]}var fw=class{};function rH(n,e,t,r,i,o,s="emptyOnly"){return new pw(n,e,t,r,i,s,o).recognize()}var iH=31,pw=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new dw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=cR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:t,rootSnapshot:r})=>{let i=new jn(r,t),o=new Np("",i),s=h4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new uc([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,we,t).pipe(Y(r=>({children:r,rootSnapshot:t})),Pr(r=>{if(r instanceof Au)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Su?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Y(s=>s instanceof jn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Te(o).pipe(fi(s=>{let a=r.children[s],c=b4(t,s);return this.processSegmentGroup(e,c,a,s,i)}),us((s,a)=>(s.push(...a),s)),eo(null),uy(),xt(s=>{if(s===null)return ac(r);let a=OR(s);return oH(a),ee(a)}))}processSegment(e,t,r,i,o,s,a){return Te(t).pipe(fi(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Pr(u=>{if(u instanceof Su)return ee(null);throw u}))),Kn(c=>!!c),Pr(c=>{if(PR(c))return nH(r,i,o)?ee(new fw):ac(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Ir(r)!==s&&(s===we||!Lp(i,o,r))?ac(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):ac(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=FR(t,i,o);if(!c)return ac(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iH&&(this.allowRedirects=!1));let v=new uc(o,u,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,lR(i),Ir(i),i.component??i._loadedComponent??null,i,uR(i)),_=Rp(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(_.params),v.data=Object.freeze(_.data);let E=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,v,e);return this.applyRedirects.lineralizeSegments(i,E).pipe(xt(T=>this.processSegment(e,r,t,T.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Y4(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(dt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(dt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:v}=c,_=new uc(m,f,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,lR(r),Ir(r),r.component??r._loadedComponent??null,r,uR(r)),E=Rp(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(E.params),_.data=Object.freeze(E.data);let{segmentGroup:T,slicedSegments:k}=cR(t,m,v,u);if(k.length===0&&T.hasChildren())return this.processChildren(d,u,T,_).pipe(Y(F=>new jn(_,F)));if(u.length===0&&k.length===0)return ee(new jn(_,[]));let U=Ir(r)===o;return this.processSegment(d,u,T,k,U?we:o,!0,_).pipe(Y(F=>new jn(_,F instanceof jn?[F]:[])))}))):ac(t)))}getChildConfig(e,t,r){return t.children?ee({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ee({routes:t._loadedRoutes,injector:t._loadedInjector}):G4(e,t,r,this.urlSerializer).pipe(xt(i=>i?this.configLoader.loadChildren(e,t).pipe(it(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Q4(t))):ee({routes:[],injector:e})}};function oH(n){n.sort((e,t)=>e.value.outlet===we?-1:t.value.outlet===we?1:e.value.outlet.localeCompare(t.value.outlet))}function sH(n){let e=n.value.routeConfig;return e&&e.path===""}function OR(n){let e=[],t=new Set;for(let r of n){if(!sH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=OR(r.children);e.push(new jn(r.value,i))}return e.filter(r=>!t.has(r))}function lR(n){return n.data||{}}function uR(n){return n.resolve||{}}function aH(n,e,t,r,i,o){return xt(s=>rH(n,e,t,r,s.extractedUrl,i,o).pipe(Y(({state:a,tree:c})=>De(B({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function cH(n,e){return xt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ee(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of LR(c))s.add(u);let a=0;return Te(s).pipe(fi(c=>o.has(c)?lH(c,r,n,e):(c.data=Rp(c,c.parent,n).resolve,ee(void 0))),it(()=>a++),Na(1),xt(c=>a===s.size?ee(t):Gt))})}function LR(n){let e=n.children.map(t=>LR(t)).flat();return[n,...e]}function lH(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!AR(i)&&(o[Ru]=i.title),uH(o,n,e,r).pipe(Y(s=>(n._resolvedData=s,n.data=Rp(n,n.parent,t).resolve,null)))}function uH(n,e,t,r){let i=qb(n);if(i.length===0)return ee({});let o={};return Te(i).pipe(xt(s=>dH(n[s],e,t,r).pipe(Kn(),it(a=>{if(a instanceof xu)throw Pp(new fc,a);o[s]=a}))),Na(1),ly(o),Pr(s=>PR(s)?Gt:Zi(s)))}function dH(n,e,t,r){let i=Pu(e)??r,o=vc(n,i),s=o.resolve?o.resolve(e,t):Br(i,()=>o(e,t));return Co(s)}function zb(n){return dt(e=>{let t=n(e);return t?Te(t).pipe(Y(()=>e)):ee(e)})}var VR=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(t){return t.data[Ru]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>L(hH),providedIn:"root"})}}return n})(),hH=(()=>{class n extends VR{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(P(tR))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ou=new $("",{providedIn:"root",factory:()=>({})}),fH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["ng-component"]],standalone:!0,features:[He],decls:1,vars:0,template:function(r,i){r&1&&zt(0,"router-outlet")},dependencies:[vw],encapsulation:2})}}return n})();function yw(n){let e=n.children&&n.children.map(yw),t=e?De(B({},n),{children:e}):B({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==we&&(t.component=fH),t}var Mu=new $(""),_w=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(np)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Co(t.loadComponent()).pipe(Y(jR),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),to(()=>{this.componentLoaders.delete(t)})),i=new Sa(r,()=>new Ce).pipe(xa());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=pH(r,this.compiler,t,this.onLoadEndListener).pipe(to(()=>{this.childrenLoaders.delete(r)})),s=new Sa(o,()=>new Ce).pipe(xa());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pH(n,e,t,r){return Co(n.loadChildren()).pipe(Y(jR),xt(i=>i instanceof tu||Array.isArray(i)?ee(i):Te(e.compileModuleAsync(i))),Y(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Mu,[],{optional:!0,self:!0}).flat()),{routes:s.map(yw),injector:o}}))}function mH(n){return n&&typeof n=="object"&&"default"in n}function jR(n){return mH(n)?n.default:n}var bw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>L(gH),providedIn:"root"})}}return n})(),gH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BR=new $(""),UR=new $("");function vH(n,e,t){let r=n.get(UR),i=n.get(Oe);return n.get(re).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),yH(n))),{onViewTransitionCreated:c}=r;return c&&Br(n,()=>c({transition:a,from:e,to:t})),s})}function yH(n){return new Promise(e=>{Yf({read:()=>setTimeout(e)},{injector:n})})}var _H=new $(""),ww=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ce,this.transitionAbortSubject=new Ce,this.configLoader=L(_w),this.environmentInjector=L(Sn),this.urlSerializer=L(Nu),this.rootContexts=L(ku),this.location=L(oc),this.inputBindingEnabled=L(Op,{optional:!0})!==null,this.titleStrategy=L(VR),this.options=L(Ou,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(bw),this.createViewTransition=L(BR,{optional:!0}),this.navigationErrorHandler=L(_H,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Jb(i)),r=i=>this.events.next(new ew(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(De(B(B({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ot({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(at(o=>o.id!==0),Y(o=>De(B({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),dt(o=>{let s=!1,a=!1;return ee(o).pipe(dt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Bn.SupersededByNewNavigation),Gt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?De(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Io(c.id,this.urlSerializer.serialize(c.rawUrl),f,Tp.IgnoredSameUrlNavigation)),c.resolve(!1),Gt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ee(c).pipe(dt(f=>{let m=this.transitions?.getValue();return this.events.next(new pc(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?Gt:Promise.resolve(f)}),aH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),it(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=De(B({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new xp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:m,source:v,restoredState:_,extras:E}=c,T=new pc(f,this.urlSerializer.serialize(m),v,_);this.events.next(T);let k=xR(this.rootComponentType).snapshot;return this.currentTransition=o=De(B({},c),{targetSnapshot:k,urlAfterRedirects:m,extras:De(B({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ee(o)}else{let f="";return this.events.next(new Io(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Tp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Gt}}),it(c=>{let u=new Qb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Y(c=>(this.currentTransition=o=De(B({},c),{guards:x4(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),V4(this.environmentInjector,c=>this.events.next(c)),it(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Pp(this.urlSerializer,c.guardsResult);let u=new Yb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),at(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Bn.GuardRejected),!1)),zb(c=>{if(c.guards.canActivateChecks.length)return ee(c).pipe(it(u=>{let d=new Zb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),dt(u=>{let d=!1;return ee(u).pipe(cH(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Bn.NoDataFromResolver)}}))}),it(u=>{let d=new Xb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),zb(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(it(m=>{d.component=m}),Y(()=>{})));for(let m of d.children)f.push(...u(m));return f};return ls(u(c.targetSnapshot.root)).pipe(eo(null),Cn(1))}),zb(()=>this.afterPreactivation()),dt(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Te(d).pipe(Y(()=>o)):ee(o)}),Y(c=>{let u=E4(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=De(B({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),it(()=>{this.events.next(new Cu)}),T4(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Cn(1),it({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Qn(this.transitionAbortSubject.pipe(it(c=>{throw c}))),to(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Bn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Pr(c=>{if(a=!0,NR(c))this.events.next(new Ai(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),C4(c)?this.events.next(new mc(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Du(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=Br(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof xu){let{message:f,cancellationCode:m}=Pp(this.urlSerializer,d);this.events.next(new Ai(o.id,this.urlSerializer.serialize(o.extractedUrl),f,m)),this.events.next(new mc(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=t.errorHandler(c);o.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return Gt}))}))}cancelNavigationTransition(t,r,i){let o=new Ai(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bH(n){return n!==wu}var wH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>L(EH),providedIn:"root"})}}return n})(),mw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},EH=(()=>{class n extends mw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$R=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>L(IH),providedIn:"root"})}}return n})(),IH=(()=>{class n extends $R{constructor(){super(...arguments),this.location=L(oc),this.urlSerializer=L(Nu),this.options=L(Ou,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(bw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof pc)this.stateMemento=this.createStateMemento();else if(t instanceof Io)this.rawUrlTree=r.initialUrl;else if(t instanceof xp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Cu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Ai&&(t.code===Bn.GuardRejected||t.code===Bn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Du?this.restoreHistory(r,!0):t instanceof Wr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Mi?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=B(B({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_u=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(_u||{});function zR(n,e){n.events.pipe(at(t=>t instanceof Wr||t instanceof Ai||t instanceof Du||t instanceof Io),Y(t=>t instanceof Wr||t instanceof Io?_u.COMPLETE:(t instanceof Ai?t.code===Bn.Redirect||t.code===Bn.SupersededByNewNavigation:!1)?_u.REDIRECTING:_u.FAILED),at(t=>t!==_u.REDIRECTING),Cn(1)).subscribe(()=>{e()})}function DH(n){throw n}var CH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(Zf),this.stateManager=L($R),this.options=L(Ou,{optional:!0})||{},this.pendingTasks=L(tc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(ww),this.urlSerializer=L(Nu),this.location=L(oc),this.urlHandlingStrategy=L(bw),this._events=new Ce,this.errorHandler=this.options.errorHandler||DH,this.navigated=!1,this.routeReuseStrategy=L(wH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(Mu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(Op,{optional:!0}),this.eventsSubscription=new Ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ai&&r.code!==Bn.Redirect&&r.code!==Bn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wr)this.navigated=!0;else if(r instanceof mc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bH(i.source)},s);this.scheduleNavigation(a,wu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}SH(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=B({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(yw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=IR(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return DR(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ps(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,wu,null,r)}navigate(t,r={skipLocationChange:!1}){return xH(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=B({},CH):r===!1?i=B({},TH):i=r,Ps(t))return rR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return rR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,m)=>{a=f,c=m});let d=this.pendingTasks.add();return zR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xH(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}function SH(n){return!(n instanceof Cu)&&!(n instanceof mc)}var HR=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Ce,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Wr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ps(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:nA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ps(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(j(Kt),j(Do),ec("tabindex"),j(Ds),j(Fe),j(Si))}}static{this.\u0275dir=Ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Lt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&sn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wt],replaceUrl:[2,"replaceUrl","replaceUrl",Wt],routerLink:"routerLink"},standalone:!0,features:[br,Fn]})}}return n})();var Fp=class{};var AH=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(at(t=>t instanceof Wr),fi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Qf(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Te(i).pipe(Xi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ee(null);let o=i.pipe(xt(s=>s===null?ee(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Te([o,s]).pipe(Xi())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(P(Kt),P(np),P(Sn),P(Fp),P(_w))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qR=new $(""),MH=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Io&&t.code===Tp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Sp&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sp(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){Hf()}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function GR(n,...e){return Pf([{provide:Mu,multi:!0,useValue:n},[],{provide:Do,useFactory:WR,deps:[Kt]},{provide:tp,multi:!0,useFactory:KR},e.map(t=>t.\u0275providers)])}function WR(n){return n.routerState.root}function Lu(n,e){return{\u0275kind:n,\u0275providers:e}}function KR(){let n=L(vn);return e=>{let t=n.get(_o);if(e!==t.components[0])return;let r=n.get(Kt),i=n.get(QR);n.get(Ew)===1&&r.initialNavigation(),n.get(YR,null,Ee.Optional)?.setUpPreloading(),n.get(qR,null,Ee.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var QR=new $("",{factory:()=>new Ce}),Ew=new $("",{providedIn:"root",factory:()=>1});function RH(){return Lu(2,[{provide:Ew,useValue:0},{provide:ep,multi:!0,deps:[vn],useFactory:e=>{let t=e.get(MM,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Kt),o=e.get(QR);zR(i,()=>{r(!0)}),e.get(ww).afterPreactivation=()=>(r(!0),o.closed?ee(void 0):o),i.initialNavigation()}))}}])}function NH(){return Lu(3,[{provide:ep,multi:!0,useFactory:()=>{let e=L(Kt);return()=>{e.setUpLocationChangeListener()}}},{provide:Ew,useValue:2}])}var YR=new $("");function PH(n){return Lu(0,[{provide:YR,useExisting:AH},{provide:Fp,useExisting:n}])}function kH(){return Lu(8,[aR,{provide:Op,useExisting:aR}])}function FH(n){let e=[{provide:BR,useValue:vH},{provide:UR,useValue:B({skipNextTransition:!!n?.skipInitialTransition},n)}];return Lu(9,e)}var dR=new $("ROUTER_FORROOT_GUARD"),OH=[oc,{provide:Nu,useClass:fc},Kt,ku,{provide:Do,useFactory:WR,deps:[Kt]},_w,[]],ZR=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[OH,[],{provide:Mu,multi:!0,useValue:t},{provide:dR,useFactory:BH,deps:[[Kt,new Ya,new S_]]},{provide:Ou,useValue:r||{}},r?.useHash?VH():jH(),LH(),r?.preloadingStrategy?PH(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?UH(r):[],r?.bindToComponentInputs?kH().\u0275providers:[],r?.enableViewTransitions?FH().\u0275providers:[],$H()]}}static forChild(t){return{ngModule:n,providers:[{provide:Mu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(P(dR,8))}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({})}}return n})();function LH(){return{provide:qR,useFactory:()=>{let n=L(jM),e=L(re),t=L(Ou),r=L(ww),i=L(Nu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new MH(i,r,n,e,t)}}}function VH(){return{provide:Si,useClass:NM}}function jH(){return{provide:Si,useClass:Eb}}function BH(n){return"guarded"}function UH(n){return[n.initialNavigation==="disabled"?NH().\u0275providers:[],n.initialNavigation==="enabledBlocking"?RH().\u0275providers:[]]}var hR=new $("");function $H(){return[{provide:hR,useFactory:KR},{provide:tp,multi:!0,useExisting:hR}]}var oN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(j(Ds),j(Fe))}}static{this.\u0275dir=Ae({type:n})}}return n})(),zH=(()=>{class n extends oN{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})()}static{this.\u0275dir=Ae({type:n,features:[er]})}}return n})(),sN=new $("");var HH={provide:sN,useExisting:uo(()=>bc),multi:!0};function qH(){let n=qr()?qr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var GH=new $(""),bc=(()=>{class n extends oN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!qH())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(j(Ds),j(Fe),j(GH,8))}}static{this.\u0275dir=Ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Lt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[rr([HH]),er]})}}return n})();function To(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function aN(n){return n!=null&&typeof n.length=="number"}var Zp=new $(""),Tw=new $(""),WH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bp=class{static min(e){return KH(e)}static max(e){return QH(e)}static required(e){return cN(e)}static requiredTrue(e){return YH(e)}static email(e){return ZH(e)}static minLength(e){return XH(e)}static maxLength(e){return JH(e)}static pattern(e){return eq(e)}static nullValidator(e){return Up(e)}static compose(e){return pN(e)}static composeAsync(e){return mN(e)}};function KH(n){return e=>{if(To(e.value)||To(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function QH(n){return e=>{if(To(e.value)||To(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function cN(n){return To(n.value)?{required:!0}:null}function YH(n){return n.value===!0?null:{required:!0}}function ZH(n){return To(n.value)||WH.test(n.value)?null:{email:!0}}function XH(n){return e=>To(e.value)||!aN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function JH(n){return e=>aN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function eq(n){if(!n)return Up;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(To(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Up(n){return null}function lN(n){return n!=null}function uN(n){return As(n)?Te(n):n}function dN(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function hN(n,e){return e.map(t=>t(n))}function tq(n){return!n.validate}function fN(n){return n.map(e=>tq(e)?e:t=>e.validate(t))}function pN(n){if(!n)return null;let e=n.filter(lN);return e.length==0?null:function(t){return dN(hN(t,e))}}function xw(n){return n!=null?pN(fN(n)):null}function mN(n){if(!n)return null;let e=n.filter(lN);return e.length==0?null:function(t){let r=hN(t,e).map(uN);return $l(r).pipe(Y(dN))}}function Sw(n){return n!=null?mN(fN(n)):null}function XR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gN(n){return n._rawValidators}function vN(n){return n._rawAsyncValidators}function Iw(n){return n?Array.isArray(n)?n:[n]:[]}function $p(n,e){return Array.isArray(n)?n.includes(e):n===e}function JR(n,e){let t=Iw(e);return Iw(n).forEach(i=>{$p(t,i)||t.push(i)}),t}function eN(n,e){return Iw(e).filter(t=>!$p(n,t))}var zp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},xo=class extends zp{get formDirective(){return null}get path(){return null}},ks=class extends zp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Hp=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},nq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},see=De(B({},nq),{"[class.ng-submitted]":"isSubmitted"}),Xp=(()=>{class n extends Hp{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(j(ks,2))}}static{this.\u0275dir=Ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ct("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[er]})}}return n})(),Jp=(()=>{class n extends Hp{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(j(xo,10))}}static{this.\u0275dir=Ae({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ct("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[er]})}}return n})();var Vu="VALID",jp="INVALID",yc="PENDING",ju="DISABLED",So=class{},qp=class extends So{constructor(e,t){super(),this.value=e,this.source=t}},Uu=class extends So{constructor(e,t){super(),this.pristine=e,this.source=t}},$u=class extends So{constructor(e,t){super(),this.touched=e,this.source=t}},_c=class extends So{constructor(e,t){super(),this.status=e,this.source=t}},Dw=class extends So{constructor(e){super(),this.source=e}},Cw=class extends So{constructor(e){super(),this.source=e}};function yN(n){return(em(n)?n.validators:n)||null}function rq(n){return Array.isArray(n)?xw(n):n||null}function _N(n,e){return(em(e)?e.asyncValidators:n)||null}function iq(n){return Array.isArray(n)?Sw(n):n||null}function em(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function oq(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[t])throw new z(1001,"")}function sq(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new z(1002,"")})}var Gp=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Di(()=>this.statusReactive()),this.statusReactive=mo(void 0),this._pristine=Di(()=>this.pristineReactive()),this.pristineReactive=mo(!0),this._touched=Di(()=>this.touchedReactive()),this.touchedReactive=mo(!1),this._events=new Ce,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Hr(this.statusReactive)}set status(e){Hr(()=>this.statusReactive.set(e))}get valid(){return this.status===Vu}get invalid(){return this.status===jp}get pending(){return this.status==yc}get disabled(){return this.status===ju}get enabled(){return this.status!==ju}get pristine(){return Hr(this.pristineReactive)}set pristine(e){Hr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Hr(this.touchedReactive)}set touched(e){Hr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(eN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(eN(e,this._rawAsyncValidators))}hasValidator(e){return $p(this._rawValidators,e)}hasAsyncValidator(e){return $p(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(De(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $u(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new $u(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(De(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Uu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Uu(!0,r))}markAsPending(e={}){this.status=yc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _c(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(De(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ju,this.errors=null,this._forEachChild(i=>{i.disable(De(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qp(this.value,r)),this._events.next(new _c(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Vu,this._forEachChild(r=>{r.enable(De(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(De(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vu||this.status===yc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qp(this.value,t)),this._events.next(new _c(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(De(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ju:Vu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=yc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=uN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new _c(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?ju:this.errors?jp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yc)?yc:this._anyControlsHaveStatus(jp)?jp:Vu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Uu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new $u(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){em(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=rq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=iq(this._rawAsyncValidators)}},Wp=class extends Gp{constructor(e,t,r){super(yN(t),_N(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){sq(this,!0,e),Object.keys(e).forEach(r=>{oq(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var tm=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Aw}),Aw="always";function aq(n,e){return[...e.path,n]}function Kp(n,e,t=Aw){Mw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),lq(n,e),dq(n,e),uq(n,e),cq(n,e)}function tN(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Yp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cq(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Mw(n,e){let t=gN(n);e.validator!==null?n.setValidators(XR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=vN(n);e.asyncValidator!==null?n.setAsyncValidators(XR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Qp(e._rawValidators,i),Qp(e._rawAsyncValidators,i)}function Yp(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=gN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=vN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Qp(e._rawValidators,r),Qp(e._rawAsyncValidators,r),t}function lq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&bN(n,e)})}function uq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&bN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function bN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dq(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function wN(n,e){n==null,Mw(n,e)}function hq(n,e){return Yp(n,e)}function fq(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function pq(n){return Object.getPrototypeOf(n.constructor)===zH}function EN(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function mq(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===bc?t=o:pq(o)?r=o:i=o}),i||r||t||null}function gq(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var vq={provide:xo,useExisting:uo(()=>Fs)},Bu=Promise.resolve(),Fs=(()=>{class n extends xo{get submitted(){return Hr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Di(()=>this.submittedReactive()),this.submittedReactive=mo(!1),this._directives=new Set,this.ngSubmit=new Ye,this.form=new Wp({},xw(t),Sw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Bu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Kp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Bu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Bu.then(()=>{let r=this._findContainer(t.path),i=new Wp({});wN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Bu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Bu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),EN(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(j(Zp,10),j(Tw,10),j(tm,8))}}static{this.\u0275dir=Ae({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Lt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[rr([vq]),er]})}}return n})();function nN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function rN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var IN=class extends Gp{constructor(e=null,t,r){super(yN(t),_N(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),em(t)&&(t.nonNullable||t.initialValueIsDefault)&&(rN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){rN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var yq=n=>n instanceof IN;var _q={provide:ks,useExisting:uo(()=>zu)},iN=Promise.resolve(),zu=(()=>{class n extends ks{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new IN,this._registered=!1,this.name="",this.update=new Ye,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mq(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),fq(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Kp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){iN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Wt(r);iN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?aq(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(j(xo,9),j(Zp,10),j(Tw,10),j(sN,10),j(zr,8),j(tm,8))}}static{this.\u0275dir=Ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[rr([_q]),er,Fn]})}}return n})(),nm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ae({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var bq={provide:xo,useExisting:uo(()=>Rw)},Rw=(()=>{class n extends xo{get submitted(){return Hr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Di(()=>this._submittedReactive()),this._submittedReactive=mo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Kp(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){tN(t.control||null,t,!1),gq(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),EN(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Dw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Cw(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(tN(r||null,t),yq(i)&&(Kp(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);wN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&hq(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mw(this.form,this),this._oldForm&&Yp(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(j(Zp,10),j(Tw,10),j(tm,8))}}static{this.\u0275dir=Ae({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Lt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[rr([bq]),er,Fn]})}}return n})();var wq=(()=>{class n{constructor(){this._validator=Up}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Up,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ae({type:n,features:[Fn]})}}return n})();var Eq={provide:Zp,useExisting:uo(()=>Hu),multi:!0};var Hu=(()=>{class n extends wq{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Wt,this.createValidator=t=>cN}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})()}static{this.\u0275dir=Ae({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&sn("required",i._enabled?"":null)},inputs:{required:"required"},features:[rr([Eq]),er]})}}return n})();var Iq=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({})}}return n})();var rm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:tm,useValue:t.callSetDisabledState??Aw}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({imports:[Iq]})}}return n})();var kw;try{kw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{kw=!1}var Et=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Db(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||kw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)(P(rn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var wc,DN=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Fw(){if(wc)return wc;if(typeof document!="object"||!document)return wc=new Set(DN),wc;let n=document.createElement("input");return wc=new Set(DN.filter(e=>(n.setAttribute("type",e),n.type===e))),wc}var qu;function Dq(){if(qu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qu=!0}))}finally{qu=qu||!1}return qu}function Ao(n){return Dq()?n:!!n.capture}var Pw;function Cq(){if(Pw==null){let n=typeof document<"u"?document.head:null;Pw=!!(n&&(n.createShadowRoot||n.attachShadow))}return Pw}function CN(n){if(Cq()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ri(n){return n.composedPath?n.composedPath()[0]:n.target}function TN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Os(n){return n!=null&&`${n}`!="false"}function Ow(n){return Array.isArray(n)?n:[n]}function Kr(n){return n instanceof Fe?n.nativeElement:n}var Tq=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xN=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({providers:[Tq]})}}return n})();var SN=new Set,Ls,xq=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Aq}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&Sq(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(r){return new(r||n)(P(Et),P(au,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sq(n,e){if(!SN.has(n))try{Ls||(Ls=document.createElement("style"),e&&Ls.setAttribute("nonce",e),Ls.setAttribute("type","text/css"),document.head.appendChild(Ls)),Ls.sheet&&(Ls.sheet.insertRule(`@media ${n} {body{ }}`,0),SN.add(n))}catch(t){console.error(t)}}function Aq(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var MN=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ce}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return AN(Ow(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=AN(Ow(t)).map(s=>this._registerQuery(s).observable),o=ls(i);return o=Ji(o.pipe(Cn(1)),o.pipe(Wl(1),Uh(0))),o.pipe(Y(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new pe(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(pi(r),Y(({matches:s})=>({query:t,matches:s})),Qn(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static{this.\u0275fac=function(r){return new(r||n)(P(xq),P(re))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function AN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Vw(n){return n.buttons===0||n.detail===0}function jw(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Mq=new $("cdk-input-modality-detector-options"),Rq={ignoreKeys:[18,17,224,91,16]},PN=650,Ec=Ao({passive:!0,capture:!0}),Nq=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Ot(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ri(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<PN||(this._modality.next(Vw(s)?"keyboard":"mouse"),this._mostRecentTarget=Ri(s))},this._onTouchstart=s=>{if(jw(s)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ri(s)},this._options=B(B({},Rq),o),this.modalityDetected=this._modality.pipe(Wl(1)),this.modalityChanged=this.modalityDetected.pipe(Hl()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Ec),i.addEventListener("mousedown",this._onMousedown,Ec),i.addEventListener("touchstart",this._onTouchstart,Ec)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ec),document.removeEventListener("mousedown",this._onMousedown,Ec),document.removeEventListener("touchstart",this._onTouchstart,Ec))}static{this.\u0275fac=function(r){return new(r||n)(P(Et),P(re),P(Oe),P(Mq,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var om=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(om||{}),Pq=new $("cdk-focus-monitor-default-options"),im=Ao({passive:!0,capture:!0}),kN=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ce,this._rootNodeFocusAndBlurListener=a=>{let c=Ri(a);for(let u=c;u;u=u.parentElement)a.type==="focus"?this._onFocus(a,u):this._onBlur(a,u)},this._document=o,this._detectionMode=s?.detectionMode||om.IMMEDIATE}monitor(t,r=!1){let i=Kr(t);if(!this._platform.isBrowser||i.nodeType!==1)return ee();let o=CN(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new Ce,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=Kr(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=Kr(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===om.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===om.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?PN:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=Ri(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,im),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,im)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,im),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,im),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static{this.\u0275fac=function(r){return new(r||n)(P(re),P(Et),P(Nq),P(Oe,8),P(Pq,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vs=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Vs||{}),RN="cdk-high-contrast-black-on-white",NN="cdk-high-contrast-white-on-black",Lw="cdk-high-contrast-active",FN=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=L(MN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Vs.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Vs.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Vs.BLACK_ON_WHITE}return Vs.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Lw,RN,NN),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Vs.BLACK_ON_WHITE?t.add(Lw,RN):r===Vs.WHITE_ON_BLACK&&t.add(Lw,NN)}}static{this.\u0275fac=function(r){return new(r||n)(P(Et),P(Oe))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Fq=new $("cdk-dir-doc",{providedIn:"root",factory:Oq});function Oq(){return L(Oe)}var Lq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Vq(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Lq.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var ON=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Ye,t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=Vq(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)(P(Fq,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Bw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({})}}return n})();function Uq(){return!0}var $q=new $("mat-sanity-checks",{providedIn:"root",factory:Uq}),Mt=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return TN()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}static{this.\u0275fac=function(r){return new(r||n)(P(FN),P($q,8),P(Oe))}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({imports:[Bw,Bw]})}}return n})();var am=class{constructor(e,t,r,i,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=o,this.errorState=!1}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isErrorState(i,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var qN=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var sr=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(sr||{}),zw=class{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=sr.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},LN=Ao({passive:!0,capture:!0}),Hw=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=Ri(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,LN)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,LN)))}},VN={enterDuration:225,exitDuration:150},zq=800,jN=Ao({passive:!0,capture:!0}),BN=["mousedown","touchstart"],UN=["mouseup","mouseleave","touchend","touchcancel"],qw=class n{static{this._eventManager=new Hw}constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Kr(r))}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=B(B({},VN),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||Hq(e,t,i),a=e-i.left,c=t-i.top,u=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),m=f.transitionProperty,v=f.transitionDuration,_=m==="none"||v==="0s"||v==="0s, 0s"||i.width===0&&i.height===0,E=new zw(this,d,r,_);d.style.transform="scale3d(1, 1, 1)",E.state=sr.FADING_IN,r.persistent||(this._mostRecentTransientRipple=E);let T=null;return!_&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let k=()=>{T&&(T.fallbackTimer=null),clearTimeout(F),this._finishRippleTransition(E)},U=()=>this._destroyRipple(E),F=setTimeout(U,u+100);d.addEventListener("transitionend",k),d.addEventListener("transitioncancel",U),T={onTransitionEnd:k,onTransitionCancel:U,fallbackTimer:F}}),this._activeRipples.set(E,T),(_||!u)&&this._finishRippleTransition(E),E}fadeOutRipple(e){if(e.state===sr.FADING_OUT||e.state===sr.HIDDEN)return;let t=e.element,r=B(B({},VN),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=sr.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Kr(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,BN.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{UN.forEach(t=>{this._triggerElement.addEventListener(t,this,jN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===sr.FADING_IN?this._startFadeOutTransition(e):e.state===sr.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=sr.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=sr.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Vw(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+zq;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!jw(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===sr.VISIBLE||e.config.terminateOnPointerUp&&e.state===sr.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(BN.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(UN.forEach(t=>e.removeEventListener(t,this,jN)),this._pointerUpEventsRegistered=!1))}};function Hq(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var GN=new $("mat-ripple-global-options"),qq=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new qw(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:B(B(B({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,B(B({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,B(B({},this.rippleConfig),t))}static{this.\u0275fac=function(r){return new(r||n)(j(Fe),j(re),j(Et),j(GN,8),j(Ur,8))}}static{this.\u0275dir=Ae({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&ct("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),WN=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({imports:[Mt,Mt]})}}return n})();var $N={capture:!0},zN=["focus","mousedown","mouseenter","touchstart"],Uw="mat-ripple-loader-uninitialized",$w="mat-ripple-loader-class-name",HN="mat-ripple-loader-centered",sm="mat-ripple-loader-disabled",KN=(()=>{class n{constructor(){this._document=L(Oe,{optional:!0}),this._animationMode=L(Ur,{optional:!0}),this._globalRippleOptions=L(GN,{optional:!0}),this._platform=L(Et),this._ngZone=L(re),this._hosts=new Map,this._onInteraction=t=>{let r=Ri(t);if(r instanceof HTMLElement){let i=r.closest(`[${Uw}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}},this._ngZone.runOutsideAngular(()=>{for(let t of zN)this._document?.addEventListener(t,this._onInteraction,$N)})}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);for(let r of zN)this._document?.removeEventListener(r,this._onInteraction,$N)}configureRipple(t,r){t.setAttribute(Uw,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute($w))&&t.setAttribute($w,r.className||""),r.centered&&t.setAttribute(HN,""),r.disabled&&t.setAttribute(sm,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,r){let i=this._hosts.get(t);if(i){i.disabled=r;return}r?t.setAttribute(sm,""):t.removeAttribute(sm)}_createRipple(t){if(!this._document)return;let r=this._hosts.get(t);if(r)return r;t.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute($w)),t.append(i);let o=new qq(new Fe(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(HN),o.disabled=t.hasAttribute(sm),this.attachRipple(t,o),o}attachRipple(t,r){t.removeAttribute(Uw),this._hosts.set(t,r)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Wq=["*"];var Kq=new $("MAT_CARD_CONFIG"),Ic=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(r){return new(r||n)(j(Kq,8))}}static{this.\u0275cmp=ze({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,i){r&2&&ct("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[He],ngContentSelectors:Wq,decls:1,vars:0,template:function(r,i){r&1&&(nr(),ht(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})();var Dc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({imports:[Mt,Mn,Mt]})}}return n})();var Ww=class{constructor(e){this._box=e,this._destroyed=new Ce,this._resizeSubject=new Ce,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new pe(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(at(t=>t.some(r=>r.target===e)),Pa({bufferSize:1,refCount:!0}),Qn(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},QN=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=L(re),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new Ww(i)),this._observers.get(i).observe(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _e=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(_e||{}),Qr="*";function YN(n,e){return{type:_e.Trigger,name:n,definitions:e,options:{}}}function ZN(n,e=null){return{type:_e.Animate,styles:e,timings:n}}function XN(n,e=null){return{type:_e.Sequence,steps:n,options:e}}function Cc(n){return{type:_e.Style,styles:n,offset:null}}function JN(n,e,t){return{type:_e.State,name:n,styles:e,options:t}}function eP(n,e,t=null){return{type:_e.Transition,expr:n,animation:e,options:t}}var Ro=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Gu=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},cm="!";var Qq=["notch"],Yq=["matFormFieldNotchedOutline",""],Zq=["*"],Xq=["textField"],Jq=["iconPrefixContainer"],e3=["textPrefixContainer"],t3=["iconSuffixContainer"],n3=["textSuffixContainer"],r3=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],i3=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function o3(n,e){n&1&&zt(0,"span",21)}function s3(n,e){if(n&1&&(ie(0,"label",20),ht(1,1),Ze(2,o3,1,0,"span",21),Q()),n&2){let t=Vt(2);ot("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),sn("for",t._control.disableAutomaticLabeling?null:t._control.id),ve(2),yn(!t.hideRequiredMarker&&t._control.required?2:-1)}}function a3(n,e){if(n&1&&Ze(0,s3,3,5,"label",20),n&2){let t=Vt();yn(t._hasFloatingLabel()?0:-1)}}function c3(n,e){n&1&&zt(0,"div",7)}function l3(n,e){}function u3(n,e){if(n&1&&Ze(0,l3,0,0,"ng-template",13),n&2){Vt(2);let t=Cs(1);ot("ngTemplateOutlet",t)}}function d3(n,e){if(n&1&&(ie(0,"div",9),Ze(1,u3,1,1,null,13),Q()),n&2){let t=Vt();ot("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),ve(),yn(t._forceDisplayInfixLabel()?-1:1)}}function h3(n,e){n&1&&(ie(0,"div",10,2),ht(2,2),Q())}function f3(n,e){n&1&&(ie(0,"div",11,3),ht(2,3),Q())}function p3(n,e){}function m3(n,e){if(n&1&&Ze(0,p3,0,0,"ng-template",13),n&2){Vt();let t=Cs(1);ot("ngTemplateOutlet",t)}}function g3(n,e){n&1&&(ie(0,"div",14,4),ht(2,4),Q())}function v3(n,e){n&1&&(ie(0,"div",15,5),ht(2,5),Q())}function y3(n,e){n&1&&zt(0,"div",16)}function _3(n,e){if(n&1&&(ie(0,"div",18),ht(1,6),Q()),n&2){let t=Vt();ot("@transitionMessages",t._subscriptAnimationState)}}function b3(n,e){if(n&1&&(ie(0,"mat-hint",22),ye(1),Q()),n&2){let t=Vt(2);ot("id",t._hintLabelId),ve(),Ts(t.hintLabel)}}function w3(n,e){if(n&1&&(ie(0,"div",19),Ze(1,b3,2,2,"mat-hint",22),ht(2,7),zt(3,"div",23),ht(4,8),Q()),n&2){let t=Vt();ot("@transitionMessages",t._subscriptAnimationState),ve(),yn(t.hintLabel?1:-1)}}var Tc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ae({type:n,selectors:[["mat-label"]],standalone:!0})}}return n})();var E3=new $("MatError");var I3=0,tP=(()=>{class n{constructor(){this.align="start",this.id=`mat-mdc-hint-${I3++}`}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ae({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){r&2&&(ic("id",i.id),sn("align",null),ct("mat-mdc-form-field-hint-end",i.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0})}}return n})(),D3=new $("MatPrefix");var C3=new $("MatSuffix");var lP=new $("FloatingLabelParent"),nP=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=L(QN),this._ngZone=L(re),this._parent=L(lP),this._resizeSubscription=new Ge}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return T3(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(r){return new(r||n)(j(Fe))}}static{this.\u0275dir=Ae({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){r&2&&ct("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return n})();function T3(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let r=t.scrollWidth;return t.remove(),r}var rP="mdc-line-ripple--active",lm="mdc-line-ripple--deactivating",iP=(()=>{class n{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{let o=this._elementRef.nativeElement.classList,s=o.contains(lm);i.propertyName==="opacity"&&s&&o.remove(rP,lm)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(lm),t.add(rP)}deactivate(){this._elementRef.nativeElement.classList.add(lm)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(r){return new(r||n)(j(Fe),j(re))}}static{this.\u0275dir=Ae({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return n})(),oP=(()=>{class n{constructor(t,r){this._elementRef=t,this._ngZone=r,this.open=!1}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static{this.\u0275fac=function(r){return new(r||n)(j(Fe),j(re))}}static{this.\u0275cmp=ze({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(r&1&&wr(Qq,5),r&2){let o;jt(o=Bt())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){r&2&&ct("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[He],attrs:Yq,ngContentSelectors:Zq,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){r&1&&(nr(),zt(0,"div",1),ie(1,"div",2,0),ht(3),Q(),zt(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})(),x3={transitionMessages:YN("transitionMessages",[JN("enter",Cc({opacity:1,transform:"translateY(0%)"})),eP("void => enter",[Cc({opacity:0,transform:"translateY(-5px)"}),ZN("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Kw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ae({type:n})}}return n})();var Qw=new $("MatFormField"),S3=new $("MAT_FORM_FIELD_DEFAULT_OPTIONS"),sP=0,aP="fill",A3="auto",cP="fixed",M3="translateY(-50%)",um=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Os(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||A3}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){let r=this._appearance,i=t||this._defaults?.appearance||aP;this._appearance=i,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||cP}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||cP}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,i,o,s,a,c,u){this._elementRef=t,this._changeDetectorRef=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._labelChild=ZA(Tc),this._hideRequiredMarker=!1,this.color="primary",this._appearance=aP,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${sP++}`,this._hintLabelId=`mat-mdc-hint-${sP++}`,this._subscriptAnimationState="",this._destroyed=new Ce,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=L(vn),this.getLabelId=Di(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Di(()=>!!this._labelChild()),a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let r=this._control,i="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(i+t.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(i+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(Qn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),zl(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),ub(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Qn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,i=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=r?.getBoundingClientRect().width??0,c=i?.getBoundingClientRect().width??0,u=o?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,f=this._dir.value==="rtl"?"-1":"1",m=`${a+c}px`,_=`calc(${f} * (${m} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${M3} translateX(${_})
    )`;let E=a+c+u+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${E}px)`)}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}static{this.\u0275fac=function(r){return new(r||n)(j(Fe),j(zr),j(re),j(ON),j(Et),j(S3,8),j(Ur,8),j(Oe))}}static{this.\u0275cmp=ze({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(r&1&&(lM(o,i._labelChild,Tc,5),Ii(o,Kw,5),Ii(o,D3,5),Ii(o,C3,5),Ii(o,E3,5),Ii(o,tP,5)),r&2){uM();let s;jt(s=Bt())&&(i._formFieldControl=s.first),jt(s=Bt())&&(i._prefixChildren=s),jt(s=Bt())&&(i._suffixChildren=s),jt(s=Bt())&&(i._errorChildren=s),jt(s=Bt())&&(i._hintChildren=s)}},viewQuery:function(r,i){if(r&1&&(wr(Xq,5),wr(Jq,5),wr(e3,5),wr(t3,5),wr(n3,5),wr(nP,5),wr(oP,5),wr(iP,5)),r&2){let o;jt(o=Bt())&&(i._textField=o.first),jt(o=Bt())&&(i._iconPrefixContainer=o.first),jt(o=Bt())&&(i._textPrefixContainer=o.first),jt(o=Bt())&&(i._iconSuffixContainer=o.first),jt(o=Bt())&&(i._textSuffixContainer=o.first),jt(o=Bt())&&(i._floatingLabel=o.first),jt(o=Bt())&&(i._notchedOutline=o.first),jt(o=Bt())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,i){r&2&&ct("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations",i._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",i.appearance=="fill")("mat-form-field-appearance-outline",i.appearance=="outline")("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary",i.color!=="accent"&&i.color!=="warn")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[rr([{provide:Qw,useExisting:n},{provide:lP,useExisting:n}]),He],ngContentSelectors:i3,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(r&1){let o=go();nr(r3),Ze(0,a3,1,1,"ng-template",null,0,pM),ie(2,"div",6,1),Lt("click",function(a){return On(o),Ln(i._control.onContainerClick(a))}),Ze(4,c3,1,0,"div",7),ie(5,"div",8),Ze(6,d3,2,2,"div",9)(7,h3,3,0,"div",10)(8,f3,3,0,"div",11),ie(9,"div",12),Ze(10,m3,1,1,null,13),ht(11),Q(),Ze(12,g3,3,0,"div",14)(13,v3,3,0,"div",15),Q(),Ze(14,y3,1,0,"div",16),Q(),ie(15,"div",17),Ze(16,_3,2,1,"div",18)(17,w3,5,2,"div",19),Q()}if(r&2){let o;ve(2),ct("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),ve(2),yn(!i._hasOutline()&&!i._control.disabled?4:-1),ve(2),yn(i._hasOutline()?6:-1),ve(),yn(i._hasIconPrefix?7:-1),ve(),yn(i._hasTextPrefix?8:-1),ve(2),yn(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),ve(2),yn(i._hasTextSuffix?12:-1),ve(),yn(i._hasIconSuffix?13:-1),ve(),yn(i._hasOutline()?-1:14),ve(),ct("mat-mdc-form-field-subscript-dynamic-size",i.subscriptSizing==="dynamic"),ve(),yn((o=i._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[nP,oP,LM,iP,tP],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[x3.transitionMessages]},changeDetection:0})}}return n})(),js=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({imports:[Mt,Mn,xN,Mt]})}}return n})();var dP=Ao({passive:!0}),hP=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Gt;let r=Kr(t),i=this._monitoredElements.get(r);if(i)return i.subject;let o=new Ce,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(s)?(r.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,dP),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",a,dP)}}),o}stopMonitoring(t){let r=Kr(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}static{this.\u0275fac=function(r){return new(r||n)(P(Et),P(re))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({})}}return n})();var N3=new $("MAT_INPUT_VALUE_ACCESSOR"),P3=["button","checkbox","file","hidden","image","radio","range","reset","submit"],k3=0,dm=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Os(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Bp.required)??!1}set required(t){this._required=Os(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Fw().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Os(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,r,i,o,s,a,c,u,d,f){this._elementRef=t,this._platform=r,this.ngControl=i,this._autofillMonitor=u,this._ngZone=d,this._formField=f,this._uid=`mat-input-${k3++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Ce,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(_=>Fw().has(_)),this._iOSKeyupListener=_=>{let E=_.target;!E.value&&E.selectionStart===0&&E.selectionEnd===0&&(E.setSelectionRange(1,1),E.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let m=this._elementRef.nativeElement,v=m.nodeName.toLowerCase();this._inputValueAccessor=c||m,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&d.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new am(a,i,s,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=v==="select",this._isTextarea=v==="textarea",this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){P3.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(r){return new(r||n)(j(Fe),j(Et),j(ks,10),j(Fs,8),j(Rw,8),j(qN),j(N3,10),j(hP),j(re),j(Qw,8))}}static{this.\u0275dir=Ae({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,i){r&1&&Lt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),r&2&&(ic("id",i.id)("disabled",i.disabled)("required",i.required),sn("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),ct("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[rr([{provide:Kw,useExisting:n}]),Fn]})}}return n})(),hm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({imports:[Mt,js,js,fP,Mt]})}}return n})();var F3=["mat-button",""],O3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],L3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var V3=new $("MAT_BUTTON_CONFIG");var j3=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],B3=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,r,i,o){this._elementRef=t,this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=L(kN),this._rippleLoader=L(KN),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let s=L(V3,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(let{attribute:u,mdcClasses:d}of j3)a.hasAttribute(u)&&c.add(...d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(r){Hf()}}static{this.\u0275dir=Ae({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Wt],disabled:[2,"disabled","disabled",Wt],ariaDisabled:[2,"aria-disabled","ariaDisabled",Wt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Wt]},features:[br]})}}return n})();var xc=(()=>{class n extends B3{constructor(t,r,i,o){super(t,r,i,o)}static{this.\u0275fac=function(r){return new(r||n)(j(Fe),j(Et),j(re),j(Ur,8))}}static{this.\u0275cmp=ze({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){r&2&&(sn("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),rc(i.color?"mat-"+i.color:""),ct("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[er,He],attrs:F3,ngContentSelectors:L3,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(nr(O3),zt(0,"span",0),ht(1),ie(2,"span",1),ht(3,1),Q(),ht(4,2),zt(5,"span",2)(6,"span",3)),r&2&&ct("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})();var Sc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({imports:[Mt,WN,Mt]})}}return n})();var U3="firebase",$3="10.14.1";Yi(U3,$3,"app");var Us=new jr("ANGULARFIRE2_VERSION");var z3=(n,e)=>{let t=e?[e]:tT(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Bs=class{constructor(){return z3(H3)}},H3="app-check";function Yw(){}var fm=class{zone;delegate;constructor(e,t=ay){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Zw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yw,{},Yw,Yw)),t.pipe(it({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},pm=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new fm(Zone.current)),this.insideAngular=t.run(()=>new fm(Zone.current,cs)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(P(re))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q3(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Rn(n){return G3(q3())(n)}function G3(n){return function(t){return t=t.lift(new Zw(n.ngZone)),t.pipe(mr(n.outsideAngular),Wn(n.insideAngular))}}var Q3=new Map,Y3={activated:!1,tokenObservers:[]},Z3={initialized:!1,enabled:!1};function Dr(n){return Q3.get(n)||Object.assign({},Y3)}function wP(){return Z3}var X3="https://content-firebaseappcheck.googleapis.com/v1";var J3="exchangeDebugToken",vP={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Yne=24*60*60*1e3;var Jw=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return N(this,null,function*(){this.stop();try{this.pending=new Uv,this.pending.promise.catch(t=>{}),yield eG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Uv,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function eG(n){return new Promise(e=>{setTimeout(e,n)})}var tG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},No=new JC("appCheck","AppCheck",tG);function EP(n){if(!Dr(n).activated)throw No.create("use-before-activation",{appName:n.name})}function IP(r,i){return N(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(v){throw No.create("fetch-network-error",{originalErrorMessage:v?.message})}if(c.status!==200)throw No.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(v){throw No.create("fetch-parse-error",{originalErrorMessage:v?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw No.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,m=Date.now();return{token:u.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function DP(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${X3}/projects/${t}/apps/${r}:${J3}?key=${i}`,body:{debug_token:e}}}var nG="firebase-app-check-database",rG=1,eE="firebase-app-check-store";var mm=null;function iG(){return mm||(mm=new Promise((n,e)=>{try{let t=indexedDB.open(nG,rG);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(No.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(eE,{keyPath:"compositeKey"})}}}catch(t){e(No.create("storage-open",{originalErrorMessage:t?.message}))}}),mm)}function oG(n,e){return sG(aG(n),e)}function sG(n,e){return N(this,null,function*(){let r=(yield iG()).transaction(eE,"readwrite"),o=r.objectStore(eE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(No.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function aG(n){return`${n.options.appId}-${n.name}`}var tE=new lh("@firebase/app-check");function Xw(n,e){return ch()?oG(n,e).catch(t=>{tE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function CP(){return wP().enabled}function TP(){return N(this,null,function*(){let n=wP();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var cG={error:"UNKNOWN_ERROR"};function lG(n){return YC.encodeString(JSON.stringify(n),!1)}function nE(n,e=!1){return N(this,null,function*(){let t=n.app;EP(t);let r=Dr(t),i=r.token,o;if(i&&!Wu(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(Wu(c)?i=c:yield Xw(t,void 0))}if(!e&&i&&Wu(i))return{token:i.token};let s=!1;if(CP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=IP(DP(t,yield TP()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield Xw(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Dr(t).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?tE.warn(c.message):tE.error(c),o=c}let a;return i?o?Wu(i)?a={token:i.token,internalError:o}:a=_P(o):(a={token:i.token},r.token=i,yield Xw(t,i)):a=_P(o),s&&fG(t,a),a})}function uG(n){return N(this,null,function*(){let e=n.app;EP(e);let{provider:t}=Dr(e);if(CP()){let r=yield TP(),{token:i}=yield IP(DP(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function dG(n,e,t,r){let{app:i}=n,o=Dr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Wu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),yP(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>yP(n))}function xP(n,e){let t=Dr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function yP(n){let{app:e}=n,t=Dr(e),r=t.tokenRefresher;r||(r=hG(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function hG(n){let{app:e}=n;return new Jw(()=>N(this,null,function*(){let t=Dr(e),r;if(t.token?r=yield nE(n,!0):r=yield nE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Dr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vP.RETRIAL_MIN_WAIT,vP.RETRIAL_MAX_WAIT)}function fG(n,e){let t=Dr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Wu(n){return n.expireTimeMillis-Date.now()>0}function _P(n){return{token:lG(cG),error:n}}var rE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Dr(this.app);for(let t of e)xP(this.app,t.next);return Promise.resolve()}};function pG(n,e){return new rE(n,e)}function mG(n){return{getToken:e=>nE(n,e),getLimitedUseToken:()=>uG(n),addTokenListener:e=>dG(n,"INTERNAL",e),removeTokenListener:e=>xP(n.app,e)}}var gG="@firebase/app-check",vG="0.8.8";var yG="app-check",bP="app-check-internal";function _G(){Ol(new is(yG,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return pG(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bP).initialize()})),Ol(new is(bP,n=>{let e=n.getProvider("app-check").getImmediate();return mG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Yi(gG,vG)}_G();var bG=["localhost","0.0.0.0","127.0.0.1"],cre=typeof window<"u"&&bG.includes(window.location.hostname);var wG="firebase",EG="10.14.1";dn.registerVersion(wG,EG,"app-compat");var IG=["ngOnDestroy"],MP=(n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(IG.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(u=>t.run(()=>u)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,u)=>s.then(d=>{let f=d?.(...u);return r?.spy?.apply&&r.spy.apply(o,u,f),f})})})});var gm=class{constructor(e){return e}},Ac=new $("angularfire2.app.options"),Mc=new $("angularfire2.app.name");function Ku(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let s=dn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>dn.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;DG("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new gm(s)}var DG=(n,...e)=>{fb()&&typeof console<"u"&&console[n](...e)},CG={provide:gm,useFactory:Ku,deps:[Ac,re,[new Ya,Mc]]},RP=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Ac,useValue:t},{provide:Mc,useValue:r}]}}constructor(t){dn.registerVersion("angularfire",Us.full,"core"),dn.registerVersion("angularfire",Us.full,"app-compat"),dn.registerVersion("angular",mM.full,t.toString())}static \u0275fac=function(r){return new(r||n)(P(rn))};static \u0275mod=fe({type:n});static \u0275inj=he({providers:[CG]})}return n})();function vm(n,e,t,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return TG(i,s)||(AP("error",`${e} was already initialized on the ${t} Firebase App with different settings.${xG?" You may need to reload as Firebase is not HMR aware.":""}`),AP("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}function TG(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var xG=typeof module<"u"&&!!module.hot,AP=(n,...e)=>{fb()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var iE=new $("angularfire2.auth.use-emulator"),oE=new $("angularfire2.auth.settings"),sE=new $("angularfire2.auth.tenant-id"),aE=new $("angularfire2.auth.langugage-code"),cE=new $("angularfire2.auth.use-device-language"),lE=new $("angularfire.auth.persistence"),uE=(n,e,t,r,i,o,s,a)=>vm(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[u,d]of Object.entries(s))c.settings[u]=d;return a&&c.setPersistence(a),c},[t,r,i,o,s,a]),Qu=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,c,u,d,f,m,v){let _=new Ce,E=ee(void 0).pipe(Wn(s.outsideAngular),dt(()=>o.runOutsideAngular(()=>import("./chunk-SJDVR6DC.js"))),Y(()=>Ku(t,o,r)),Y(T=>uE(T,o,a,u,d,f,c,m)),Pa({bufferSize:1,refCount:!1}));if(Ms(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ee(null);else{E.pipe(Kn()).subscribe();let T=E.pipe(dt(F=>F.getRedirectResult().then(G=>G,()=>null)),Rn,Pa({bufferSize:1,refCount:!1})),k=E.pipe(dt(F=>new pe(G=>({unsubscribe:o.runOutsideAngular(()=>F.onAuthStateChanged(oe=>G.next(oe),oe=>G.error(oe),()=>G.complete()))})))),U=E.pipe(dt(F=>new pe(G=>({unsubscribe:o.runOutsideAngular(()=>F.onIdTokenChanged(oe=>G.next(oe),oe=>G.error(oe),()=>G.complete()))}))));this.authState=T.pipe(zh(k),mr(s.outsideAngular),Wn(s.insideAngular)),this.user=T.pipe(zh(U),mr(s.outsideAngular),Wn(s.insideAngular)),this.idToken=this.user.pipe(dt(F=>F?Te(F.getIdToken()):ee(null))),this.idTokenResult=this.user.pipe(dt(F=>F?Te(F.getIdTokenResult()):ee(null))),this.credential=zl(T,_,this.authState.pipe(at(F=>!F))).pipe(Y(F=>F?.user?F:null),mr(s.outsideAngular),Wn(s.insideAngular))}return MP(this,E,o,{spy:{apply:(T,k,U)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&U.then(F=>_.next(F))}}})}static \u0275fac=function(r){return new(r||n)(P(Ac),P(Mc,8),P(rn),P(re),P(pm),P(iE,8),P(oE,8),P(sE,8),P(aE,8),P(cE,8),P(lE,8),P(Bs,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),NP=(()=>{class n{constructor(){dn.registerVersion("angularfire",Us.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({providers:[Qu]})}return n})();var kP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},FP={};var Po,dE;(function(){var n;function e(I,y){function b(){}b.prototype=y.prototype,I.D=y.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(D,C,S){for(var w=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)w[qn-2]=arguments[qn];return y.prototype[C].apply(D,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,b){b||(b=0);var D=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)D[C]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(C=0;16>C;++C)D[C]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=I.g[0],b=I.g[1],C=I.g[2];var S=I.g[3],w=y+(S^b&(C^S))+D[0]+3614090360&4294967295;y=b+(w<<7&4294967295|w>>>25),w=S+(C^y&(b^C))+D[1]+3905402710&4294967295,S=y+(w<<12&4294967295|w>>>20),w=C+(b^S&(y^b))+D[2]+606105819&4294967295,C=S+(w<<17&4294967295|w>>>15),w=b+(y^C&(S^y))+D[3]+3250441966&4294967295,b=C+(w<<22&4294967295|w>>>10),w=y+(S^b&(C^S))+D[4]+4118548399&4294967295,y=b+(w<<7&4294967295|w>>>25),w=S+(C^y&(b^C))+D[5]+1200080426&4294967295,S=y+(w<<12&4294967295|w>>>20),w=C+(b^S&(y^b))+D[6]+2821735955&4294967295,C=S+(w<<17&4294967295|w>>>15),w=b+(y^C&(S^y))+D[7]+4249261313&4294967295,b=C+(w<<22&4294967295|w>>>10),w=y+(S^b&(C^S))+D[8]+1770035416&4294967295,y=b+(w<<7&4294967295|w>>>25),w=S+(C^y&(b^C))+D[9]+2336552879&4294967295,S=y+(w<<12&4294967295|w>>>20),w=C+(b^S&(y^b))+D[10]+4294925233&4294967295,C=S+(w<<17&4294967295|w>>>15),w=b+(y^C&(S^y))+D[11]+2304563134&4294967295,b=C+(w<<22&4294967295|w>>>10),w=y+(S^b&(C^S))+D[12]+1804603682&4294967295,y=b+(w<<7&4294967295|w>>>25),w=S+(C^y&(b^C))+D[13]+4254626195&4294967295,S=y+(w<<12&4294967295|w>>>20),w=C+(b^S&(y^b))+D[14]+2792965006&4294967295,C=S+(w<<17&4294967295|w>>>15),w=b+(y^C&(S^y))+D[15]+1236535329&4294967295,b=C+(w<<22&4294967295|w>>>10),w=y+(C^S&(b^C))+D[1]+4129170786&4294967295,y=b+(w<<5&4294967295|w>>>27),w=S+(b^C&(y^b))+D[6]+3225465664&4294967295,S=y+(w<<9&4294967295|w>>>23),w=C+(y^b&(S^y))+D[11]+643717713&4294967295,C=S+(w<<14&4294967295|w>>>18),w=b+(S^y&(C^S))+D[0]+3921069994&4294967295,b=C+(w<<20&4294967295|w>>>12),w=y+(C^S&(b^C))+D[5]+3593408605&4294967295,y=b+(w<<5&4294967295|w>>>27),w=S+(b^C&(y^b))+D[10]+38016083&4294967295,S=y+(w<<9&4294967295|w>>>23),w=C+(y^b&(S^y))+D[15]+3634488961&4294967295,C=S+(w<<14&4294967295|w>>>18),w=b+(S^y&(C^S))+D[4]+3889429448&4294967295,b=C+(w<<20&4294967295|w>>>12),w=y+(C^S&(b^C))+D[9]+568446438&4294967295,y=b+(w<<5&4294967295|w>>>27),w=S+(b^C&(y^b))+D[14]+3275163606&4294967295,S=y+(w<<9&4294967295|w>>>23),w=C+(y^b&(S^y))+D[3]+4107603335&4294967295,C=S+(w<<14&4294967295|w>>>18),w=b+(S^y&(C^S))+D[8]+1163531501&4294967295,b=C+(w<<20&4294967295|w>>>12),w=y+(C^S&(b^C))+D[13]+2850285829&4294967295,y=b+(w<<5&4294967295|w>>>27),w=S+(b^C&(y^b))+D[2]+4243563512&4294967295,S=y+(w<<9&4294967295|w>>>23),w=C+(y^b&(S^y))+D[7]+1735328473&4294967295,C=S+(w<<14&4294967295|w>>>18),w=b+(S^y&(C^S))+D[12]+2368359562&4294967295,b=C+(w<<20&4294967295|w>>>12),w=y+(b^C^S)+D[5]+4294588738&4294967295,y=b+(w<<4&4294967295|w>>>28),w=S+(y^b^C)+D[8]+2272392833&4294967295,S=y+(w<<11&4294967295|w>>>21),w=C+(S^y^b)+D[11]+1839030562&4294967295,C=S+(w<<16&4294967295|w>>>16),w=b+(C^S^y)+D[14]+4259657740&4294967295,b=C+(w<<23&4294967295|w>>>9),w=y+(b^C^S)+D[1]+2763975236&4294967295,y=b+(w<<4&4294967295|w>>>28),w=S+(y^b^C)+D[4]+1272893353&4294967295,S=y+(w<<11&4294967295|w>>>21),w=C+(S^y^b)+D[7]+4139469664&4294967295,C=S+(w<<16&4294967295|w>>>16),w=b+(C^S^y)+D[10]+3200236656&4294967295,b=C+(w<<23&4294967295|w>>>9),w=y+(b^C^S)+D[13]+681279174&4294967295,y=b+(w<<4&4294967295|w>>>28),w=S+(y^b^C)+D[0]+3936430074&4294967295,S=y+(w<<11&4294967295|w>>>21),w=C+(S^y^b)+D[3]+3572445317&4294967295,C=S+(w<<16&4294967295|w>>>16),w=b+(C^S^y)+D[6]+76029189&4294967295,b=C+(w<<23&4294967295|w>>>9),w=y+(b^C^S)+D[9]+3654602809&4294967295,y=b+(w<<4&4294967295|w>>>28),w=S+(y^b^C)+D[12]+3873151461&4294967295,S=y+(w<<11&4294967295|w>>>21),w=C+(S^y^b)+D[15]+530742520&4294967295,C=S+(w<<16&4294967295|w>>>16),w=b+(C^S^y)+D[2]+3299628645&4294967295,b=C+(w<<23&4294967295|w>>>9),w=y+(C^(b|~S))+D[0]+4096336452&4294967295,y=b+(w<<6&4294967295|w>>>26),w=S+(b^(y|~C))+D[7]+1126891415&4294967295,S=y+(w<<10&4294967295|w>>>22),w=C+(y^(S|~b))+D[14]+2878612391&4294967295,C=S+(w<<15&4294967295|w>>>17),w=b+(S^(C|~y))+D[5]+4237533241&4294967295,b=C+(w<<21&4294967295|w>>>11),w=y+(C^(b|~S))+D[12]+1700485571&4294967295,y=b+(w<<6&4294967295|w>>>26),w=S+(b^(y|~C))+D[3]+2399980690&4294967295,S=y+(w<<10&4294967295|w>>>22),w=C+(y^(S|~b))+D[10]+4293915773&4294967295,C=S+(w<<15&4294967295|w>>>17),w=b+(S^(C|~y))+D[1]+2240044497&4294967295,b=C+(w<<21&4294967295|w>>>11),w=y+(C^(b|~S))+D[8]+1873313359&4294967295,y=b+(w<<6&4294967295|w>>>26),w=S+(b^(y|~C))+D[15]+4264355552&4294967295,S=y+(w<<10&4294967295|w>>>22),w=C+(y^(S|~b))+D[6]+2734768916&4294967295,C=S+(w<<15&4294967295|w>>>17),w=b+(S^(C|~y))+D[13]+1309151649&4294967295,b=C+(w<<21&4294967295|w>>>11),w=y+(C^(b|~S))+D[4]+4149444226&4294967295,y=b+(w<<6&4294967295|w>>>26),w=S+(b^(y|~C))+D[11]+3174756917&4294967295,S=y+(w<<10&4294967295|w>>>22),w=C+(y^(S|~b))+D[2]+718787259&4294967295,C=S+(w<<15&4294967295|w>>>17),w=b+(S^(C|~y))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var b=y-this.blockSize,D=this.B,C=this.h,S=0;S<y;){if(C==0)for(;S<=b;)i(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<y;)if(D[C++]=I.charCodeAt(S++),C==this.blockSize){i(this,D),C=0;break}}else for(;S<y;)if(D[C++]=I[S++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var b=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=b&255,b/=256;for(this.u(I),I=Array(16),y=b=0;4>y;++y)for(var D=0;32>D;D+=8)I[b++]=this.g[y]>>>D&255;return I};function o(I,y){var b=a;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=y(I)}function s(I,y){this.h=y;for(var b=[],D=!0,C=I.length-1;0<=C;C--){var S=I[C]|0;D&&S==y||(b[C]=S,D=!1)}this.g=b}var a={};function c(I){return-128<=I&&128>I?o(I,function(y){return new s([y|0],0>y?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return T(u(-I));for(var y=[],b=1,D=0;I>=b;D++)y[D]=I/b|0,b*=4294967296;return new s(y,0)}function d(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return T(d(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(y,8)),D=f,C=0;C<I.length;C+=8){var S=Math.min(8,I.length-C),w=parseInt(I.substring(C,C+S),y);8>S?(S=u(Math.pow(y,S)),D=D.j(S).add(u(w))):(D=D.j(b),D=D.add(u(w)))}return D}var f=c(0),m=c(1),v=c(16777216);n=s.prototype,n.m=function(){if(E(this))return-T(this).m();for(var I=0,y=1,b=0;b<this.g.length;b++){var D=this.i(b);I+=(0<=D?D:4294967296+D)*y,y*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(E(this))return"-"+T(this).toString(I);for(var y=u(Math.pow(I,6)),b=this,D="";;){var C=G(b,y).g;b=k(b,C.j(y));var S=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=C,_(b))return S+D;for(;6>S.length;)S="0"+S;D=S+D}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function E(I){return I.h==-1}n.l=function(I){return I=k(this,I),E(I)?-1:_(I)?0:1};function T(I){for(var y=I.g.length,b=[],D=0;D<y;D++)b[D]=~I.g[D];return new s(b,~I.h).add(m)}n.abs=function(){return E(this)?T(this):this},n.add=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],D=0,C=0;C<=y;C++){var S=D+(this.i(C)&65535)+(I.i(C)&65535),w=(S>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);D=w>>>16,S&=65535,w&=65535,b[C]=w<<16|S}return new s(b,b[b.length-1]&-2147483648?-1:0)};function k(I,y){return I.add(T(y))}n.j=function(I){if(_(this)||_(I))return f;if(E(this))return E(I)?T(this).j(T(I)):T(T(this).j(I));if(E(I))return T(this.j(T(I)));if(0>this.l(v)&&0>I.l(v))return u(this.m()*I.m());for(var y=this.g.length+I.g.length,b=[],D=0;D<2*y;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<I.g.length;C++){var S=this.i(D)>>>16,w=this.i(D)&65535,qn=I.i(C)>>>16,Hi=I.i(C)&65535;b[2*D+2*C]+=w*Hi,U(b,2*D+2*C),b[2*D+2*C+1]+=S*Hi,U(b,2*D+2*C+1),b[2*D+2*C+1]+=w*qn,U(b,2*D+2*C+1),b[2*D+2*C+2]+=S*qn,U(b,2*D+2*C+2)}for(D=0;D<y;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=y;D<2*y;D++)b[D]=0;return new s(b,0)};function U(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function F(I,y){this.g=I,this.h=y}function G(I,y){if(_(y))throw Error("division by zero");if(_(I))return new F(f,f);if(E(I))return y=G(T(I),y),new F(T(y.g),T(y.h));if(E(y))return y=G(I,T(y)),new F(T(y.g),y.h);if(30<I.g.length){if(E(I)||E(y))throw Error("slowDivide_ only works with positive integers.");for(var b=m,D=y;0>=D.l(I);)b=oe(b),D=oe(D);var C=Z(b,1),S=Z(D,1);for(D=Z(D,2),b=Z(b,2);!_(D);){var w=S.add(D);0>=w.l(I)&&(C=C.add(b),S=w),D=Z(D,1),b=Z(b,1)}return y=k(I,C.j(y)),new F(C,y)}for(C=f;0<=I.l(y);){for(b=Math.max(1,Math.floor(I.m()/y.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),S=u(b),w=S.j(y);E(w)||0<w.l(I);)b-=D,S=u(b),w=S.j(y);_(S)&&(S=m),C=C.add(S),I=k(I,w)}return new F(C,I)}n.A=function(I){return G(this,I).h},n.and=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],D=0;D<y;D++)b[D]=this.i(D)&I.i(D);return new s(b,this.h&I.h)},n.or=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],D=0;D<y;D++)b[D]=this.i(D)|I.i(D);return new s(b,this.h|I.h)},n.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],D=0;D<y;D++)b[D]=this.i(D)^I.i(D);return new s(b,this.h^I.h)};function oe(I){for(var y=I.g.length+1,b=[],D=0;D<y;D++)b[D]=I.i(D)<<1|I.i(D-1)>>>31;return new s(b,I.h)}function Z(I,y){var b=y>>5;y%=32;for(var D=I.g.length-b,C=[],S=0;S<D;S++)C[S]=0<y?I.i(S+b)>>>y|I.i(S+b+1)<<32-y:I.i(S+b);return new s(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dE=FP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Po=FP.Integer=s}).apply(typeof kP<"u"?kP:typeof self<"u"?self:typeof window<"u"?window:{});var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ni={};var hE,SG,Rc,fE,Yu,_m,pE,mE,gE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ym=="object"&&ym];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var g=0;g<l.length-1;g++){var x=l[g];if(!(x in p))break e;p=p[x]}l=l[l.length-1],g=p[l],h=h(g),h!=g&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,g=!1,x={next:function(){if(!g&&p<l.length){var M=p++;return{value:h(M,l[M]),done:!1}}return g=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,g),l.apply(h,x)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function v(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function _(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(g,x,M){for(var q=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)q[qe-2]=arguments[qe];return h.prototype[x].apply(g,q)}}function E(l){let h=l.length;if(0<h){let p=Array(h);for(let g=0;g<h;g++)p[g]=l[g];return p}return[]}function T(l,h){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(c(g)){let x=l.length||0,M=g.length||0;l.length=x+M;for(let q=0;q<M;q++)l[x+q]=g[q]}else l.push(g)}}class k{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function U(l){return/^[\s\xa0]*$/.test(l)}function F(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function G(l){return G[" "](l),l}G[" "]=function(){};var oe=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function Z(l,h,p){for(let g in l)h.call(p,l[g],g,l)}function I(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function y(l){let h={};for(let p in l)h[p]=l[p];return h}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,h){let p,g;for(let x=1;x<arguments.length;x++){g=arguments[x];for(p in g)l[p]=g[p];for(let M=0;M<b.length;M++)p=b[M],Object.prototype.hasOwnProperty.call(g,p)&&(l[p]=g[p])}}function C(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function S(l){a.setTimeout(()=>{throw l},0)}function w(){var l=xe;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class qn{constructor(){this.h=this.g=null}add(h,p){let g=Hi.get();g.set(h,p),this.h?this.h.next=g:this.g=g,this.h=g}}var Hi=new k(()=>new J,l=>l.reset());class J{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ae=!1,xe=new qn,bt=()=>{let l=a.Promise.resolve(void 0);ne=()=>{l.then(Gn)}};var Gn=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(p){S(p)}var h=Hi;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}ae=!1};function mt(){this.s=this.s,this.C=this.C}mt.prototype.s=!1,mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function qi(l,h){if(et.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(oe){e:{try{G(h.nodeName);var x=!0;break e}catch{}x=!1}x||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:pv[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&qi.aa.h.call(this)}}_(qi,et);var pv={2:"touch",3:"pen",4:"mouse"};qi.prototype.h=function(){qi.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),ai=0;function In(l,h,p,g,x){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!g,this.ha=x,this.key=++ai,this.da=this.fa=!1}function ci(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Gi(l){this.src=l,this.g={},this.h=0}Gi.prototype.add=function(l,h,p,g,x){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var q=gv(l,h,g,x);return-1<q?(h=l[q],p||(h.fa=!1)):(h=new In(h,this.src,M,!!g,x),h.fa=p,l.push(h)),h};function mv(l,h){var p=h.type;if(p in l.g){var g=l.g[p],x=Array.prototype.indexOf.call(g,h,void 0),M;(M=0<=x)&&Array.prototype.splice.call(g,x,1),M&&(ci(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function gv(l,h,p,g){for(var x=0;x<l.length;++x){var M=l[x];if(!M.da&&M.listener==h&&M.capture==!!p&&M.ha==g)return x}return-1}var vv="closure_lm_"+(1e6*Math.random()|0),yv={};function WD(l,h,p,g,x){if(g&&g.once)return QD(l,h,p,g,x);if(Array.isArray(h)){for(var M=0;M<h.length;M++)WD(l,h[M],p,g,x);return null}return p=Ev(p),l&&l[gt]?l.K(h,p,u(g)?!!g.capture:!!g,x):KD(l,h,p,!1,g,x)}function KD(l,h,p,g,x,M){if(!h)throw Error("Invalid event type");var q=u(x)?!!x.capture:!!x,qe=bv(l);if(qe||(l[vv]=qe=new Gi(l)),p=qe.add(h,p,g,q,M),p.proxy)return p;if(g=oL(),p.proxy=g,g.src=l,g.listener=p,l.addEventListener)tt||(x=q),x===void 0&&(x=!1),l.addEventListener(h.toString(),g,x);else if(l.attachEvent)l.attachEvent(ZD(h.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function oL(){function l(p){return h.call(l.src,l.listener,p)}let h=sL;return l}function QD(l,h,p,g,x){if(Array.isArray(h)){for(var M=0;M<h.length;M++)QD(l,h[M],p,g,x);return null}return p=Ev(p),l&&l[gt]?l.L(h,p,u(g)?!!g.capture:!!g,x):KD(l,h,p,!0,g,x)}function YD(l,h,p,g,x){if(Array.isArray(h))for(var M=0;M<h.length;M++)YD(l,h[M],p,g,x);else g=u(g)?!!g.capture:!!g,p=Ev(p),l&&l[gt]?(l=l.i,h=String(h).toString(),h in l.g&&(M=l.g[h],p=gv(M,p,g,x),-1<p&&(ci(M[p]),Array.prototype.splice.call(M,p,1),M.length==0&&(delete l.g[h],l.h--)))):l&&(l=bv(l))&&(h=l.g[h.toString()],l=-1,h&&(l=gv(h,p,g,x)),(p=-1<l?h[l]:null)&&_v(p))}function _v(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[gt])mv(h.i,l);else{var p=l.type,g=l.proxy;h.removeEventListener?h.removeEventListener(p,g,l.capture):h.detachEvent?h.detachEvent(ZD(p),g):h.addListener&&h.removeListener&&h.removeListener(g),(p=bv(h))?(mv(p,l),p.h==0&&(p.src=null,h[vv]=null)):ci(l)}}}function ZD(l){return l in yv?yv[l]:yv[l]="on"+l}function sL(l,h){if(l.da)l=!0;else{h=new qi(h,this);var p=l.listener,g=l.ha||l.src;l.fa&&_v(l),l=p.call(g,h)}return l}function bv(l){return l=l[vv],l instanceof Gi?l:null}var wv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ev(l){return typeof l=="function"?l:(l[wv]||(l[wv]=function(h){return l.handleEvent(h)}),l[wv])}function Zt(){mt.call(this),this.i=new Gi(this),this.M=this,this.F=null}_(Zt,mt),Zt.prototype[gt]=!0,Zt.prototype.removeEventListener=function(l,h,p,g){YD(this,l,h,p,g)};function ln(l,h){var p,g=l.F;if(g)for(p=[];g;g=g.F)p.push(g);if(l=l.M,g=h.type||h,typeof h=="string")h=new et(h,l);else if(h instanceof et)h.target=h.target||l;else{var x=h;h=new et(g,l),D(h,x)}if(x=!0,p)for(var M=p.length-1;0<=M;M--){var q=h.g=p[M];x=Gd(q,g,!0,h)&&x}if(q=h.g=l,x=Gd(q,g,!0,h)&&x,x=Gd(q,g,!1,h)&&x,p)for(M=0;M<p.length;M++)q=h.g=p[M],x=Gd(q,g,!1,h)&&x}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],g=0;g<p.length;g++)ci(p[g]);delete l.g[h],l.h--}}this.F=null},Zt.prototype.K=function(l,h,p,g){return this.i.add(String(l),h,!1,p,g)},Zt.prototype.L=function(l,h,p,g){return this.i.add(String(l),h,!0,p,g)};function Gd(l,h,p,g){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var x=!0,M=0;M<h.length;++M){var q=h[M];if(q&&!q.da&&q.capture==p){var qe=q.listener,qt=q.ha||q.src;q.fa&&mv(l.i,q),x=qe.call(qt,g)!==!1&&x}}return x&&!g.defaultPrevented}function XD(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function JD(l){l.g=XD(()=>{l.g=null,l.i&&(l.i=!1,JD(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class aL extends mt{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:JD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wl(l){mt.call(this),this.h=l,this.g={}}_(wl,mt);var eC=[];function tC(l){Z(l.g,function(h,p){this.g.hasOwnProperty(p)&&_v(h)},l),l.g={}}wl.prototype.N=function(){wl.aa.N.call(this),tC(this)},wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Iv=a.JSON.stringify,cL=a.JSON.parse,lL=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Dv(){}Dv.prototype.h=null;function nC(l){return l.h||(l.h=l.i())}function rC(){}var El={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cv(){et.call(this,"d")}_(Cv,et);function Tv(){et.call(this,"c")}_(Tv,et);var es={},iC=null;function Wd(){return iC=iC||new Zt}es.La="serverreachability";function oC(l){et.call(this,es.La,l)}_(oC,et);function Il(l){let h=Wd();ln(h,new oC(h))}es.STAT_EVENT="statevent";function sC(l,h){et.call(this,es.STAT_EVENT,l),this.stat=h}_(sC,et);function un(l){let h=Wd();ln(h,new sC(h,l))}es.Ma="timingevent";function aC(l,h){et.call(this,es.Ma,l),this.size=h}_(aC,et);function Dl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Cl(){this.g=!0}Cl.prototype.xa=function(){this.g=!1};function uL(l,h,p,g,x,M){l.info(function(){if(l.g)if(M)for(var q="",qe=M.split("&"),qt=0;qt<qe.length;qt++){var Ve=qe[qt].split("=");if(1<Ve.length){var Xt=Ve[0];Ve=Ve[1];var Jt=Xt.split("_");q=2<=Jt.length&&Jt[1]=="type"?q+(Xt+"="+Ve+"&"):q+(Xt+"=redacted&")}}else q=null;else q=M;return"XMLHTTP REQ ("+g+") [attempt "+x+"]: "+h+`
`+p+`
`+q})}function dL(l,h,p,g,x,M,q){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+x+"]: "+h+`
`+p+`
`+M+" "+q})}function _a(l,h,p,g){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+fL(l,p)+(g?" "+g:"")})}function hL(l,h){l.info(function(){return"TIMEOUT: "+h})}Cl.prototype.info=function(){};function fL(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var g=p[l];if(!(2>g.length)){var x=g[1];if(Array.isArray(x)&&!(1>x.length)){var M=x[0];if(M!="noop"&&M!="stop"&&M!="close")for(var q=1;q<x.length;q++)x[q]=""}}}}return Iv(p)}catch{return h}}var Kd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xv;function Qd(){}_(Qd,Dv),Qd.prototype.g=function(){return new XMLHttpRequest},Qd.prototype.i=function(){return{}},xv=new Qd;function Wi(l,h,p,g){this.j=l,this.i=h,this.l=p,this.R=g||1,this.U=new wl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lC}function lC(){this.i=null,this.g="",this.h=!1}var uC={},Sv={};function Av(l,h,p){l.L=1,l.v=Jd(li(h)),l.m=p,l.P=!0,dC(l,null)}function dC(l,h){l.F=Date.now(),Yd(l),l.A=li(l.v);var p=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),CC(p.i,"t",g),l.C=0,p=l.j.J,l.h=new lC,l.g=zC(l.j,p?h:null,!l.m),0<l.O&&(l.M=new aL(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,g=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(eC[0]=x.toString()),x=eC);for(var M=0;M<x.length;M++){var q=WD(p,x[M],g||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Il(),uL(l.i,l.u,l.A,l.l,l.R,l.m)}Wi.prototype.ca=function(l){l=l.target;let h=this.M;h&&ui(l)==3?h.j():this.Y(l)},Wi.prototype.Y=function(l){try{if(l==this.g)e:{let Jt=ui(this.g);var h=this.g.Ba();let Ea=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||NC(this.g)))){this.J||Jt!=4||h==7||(h==8||0>=Ea?Il(3):Il(2)),Mv(this);var p=this.g.Z();this.X=p;t:if(hC(this)){var g=NC(this.g);l="";var x=g.length,M=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ts(this),Tl(this);var q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<x;h++)this.h.h=!0,l+=this.h.i.decode(g[h],{stream:!(M&&h==x-1)});g.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=p==200,dL(this.i,this.u,this.A,this.l,this.R,Jt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,qt=this.g;if((qe=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(qe)){var Ve=qe;break t}}Ve=null}if(p=Ve)_a(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rv(this,p);else{this.o=!1,this.s=3,un(12),ts(this),Tl(this);break e}}if(this.P){p=!0;let hr;for(;!this.J&&this.C<q.length;)if(hr=pL(this,q),hr==Sv){Jt==4&&(this.s=4,un(14),p=!1),_a(this.i,this.l,null,"[Incomplete Response]");break}else if(hr==uC){this.s=4,un(15),_a(this.i,this.l,q,"[Invalid Chunk]"),p=!1;break}else _a(this.i,this.l,hr,null),Rv(this,hr);if(hC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||q.length!=0||this.h.h||(this.s=1,un(16),p=!1),this.o=this.o&&p,!p)_a(this.i,this.l,q,"[Invalid Chunked Response]"),ts(this),Tl(this);else if(0<q.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Lv(Xt),Xt.M=!0,un(11))}}else _a(this.i,this.l,q,null),Rv(this,q);Jt==4&&ts(this),this.o&&!this.J&&(Jt==4?jC(this.j,this):(this.o=!1,Yd(this)))}else RL(this.g),p==400&&0<q.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),ts(this),Tl(this)}}}catch{}finally{}};function hC(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function pL(l,h){var p=l.C,g=h.indexOf(`
`,p);return g==-1?Sv:(p=Number(h.substring(p,g)),isNaN(p)?uC:(g+=1,g+p>h.length?Sv:(h=h.slice(g,g+p),l.C=g+p,h)))}Wi.prototype.cancel=function(){this.J=!0,ts(this)};function Yd(l){l.S=Date.now()+l.I,fC(l,l.I)}function fC(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Dl(m(l.ba,l),h)}function Mv(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Wi.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(hL(this.i,this.A),this.L!=2&&(Il(),un(17)),ts(this),this.s=2,Tl(this)):fC(this,this.S-l)};function Tl(l){l.j.G==0||l.J||jC(l.j,l)}function ts(l){Mv(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,tC(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Rv(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Nv(p.h,l))){if(!l.K&&Nv(p.h,l)&&p.G==3){try{var g=p.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var x=g;if(x[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)ih(p),nh(p);else break e;Ov(p),un(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=Dl(m(p.Za,p),6e3));if(1>=gC(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else rs(p,11)}else if((l.K||p.g==l)&&ih(p),!U(h))for(x=p.Da.g.parse(h),h=0;h<x.length;h++){let Ve=x[h];if(p.T=Ve[0],Ve=Ve[1],p.G==2)if(Ve[0]=="c"){p.K=Ve[1],p.ia=Ve[2];let Xt=Ve[3];Xt!=null&&(p.la=Xt,p.j.info("VER="+p.la));let Jt=Ve[4];Jt!=null&&(p.Aa=Jt,p.j.info("SVER="+p.Aa));let Ea=Ve[5];Ea!=null&&typeof Ea=="number"&&0<Ea&&(g=1.5*Ea,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let hr=l.g;if(hr){let sh=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sh){var M=g.h;M.g||sh.indexOf("spdy")==-1&&sh.indexOf("quic")==-1&&sh.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Pv(M,M.h),M.h=null))}if(g.D){let Vv=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Vv&&(g.ya=Vv,nt(g.I,g.D,Vv))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var q=l;if(g.qa=$C(g,g.J?g.ia:null,g.W),q.K){vC(g.h,q);var qe=q,qt=g.L;qt&&(qe.I=qt),qe.B&&(Mv(qe),Yd(qe)),g.g=q}else LC(g);0<p.i.length&&rh(p)}else Ve[0]!="stop"&&Ve[0]!="close"||rs(p,7);else p.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?rs(p,7):Fv(p):Ve[0]!="noop"&&p.l&&p.l.ta(Ve),p.v=0)}}Il(4)}catch{}}var mL=class{constructor(l,h){this.g=l,this.map=h}};function pC(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mC(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function gC(l){return l.h?1:l.g?l.g.size:0}function Nv(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Pv(l,h){l.g?l.g.add(h):l.h=h}function vC(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}pC.prototype.cancel=function(){if(this.i=yC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function yC(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return E(l.i)}function gL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,g=0;g<p;g++)h.push(l[g]);return h}h=[],p=0;for(g in l)h[p++]=l[g];return h}function vL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let g in l)h[p++]=g;return h}}}function _C(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=vL(l),g=gL(l),x=g.length,M=0;M<x;M++)h.call(void 0,g[M],p&&p[M],l)}var bC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yL(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var g=l[p].indexOf("="),x=null;if(0<=g){var M=l[p].substring(0,g);x=l[p].substring(g+1)}else M=l[p];h(M,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ns(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ns){this.h=l.h,Zd(this,l.j),this.o=l.o,this.g=l.g,Xd(this,l.s),this.l=l.l;var h=l.i,p=new Al;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),wC(this,p),this.m=l.m}else l&&(h=String(l).match(bC))?(this.h=!1,Zd(this,h[1]||"",!0),this.o=xl(h[2]||""),this.g=xl(h[3]||"",!0),Xd(this,h[4]),this.l=xl(h[5]||"",!0),wC(this,h[6]||"",!0),this.m=xl(h[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}ns.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Sl(h,EC,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Sl(h,EC,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Sl(p,p.charAt(0)=="/"?wL:bL,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Sl(p,IL)),l.join("")};function li(l){return new ns(l)}function Zd(l,h,p){l.j=p?xl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Xd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function wC(l,h,p){h instanceof Al?(l.i=h,DL(l.i,l.h)):(p||(h=Sl(h,EL)),l.i=new Al(h,l.h))}function nt(l,h,p){l.i.set(h,p)}function Jd(l){return nt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function xl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Sl(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,_L),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function _L(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var EC=/[#\/\?@]/g,bL=/[#\?:]/g,wL=/[#\?]/g,EL=/[#\?@]/g,IL=/#/g;function Al(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Ki(l){l.g||(l.g=new Map,l.h=0,l.i&&yL(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Al.prototype,n.add=function(l,h){Ki(this),this.i=null,l=ba(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function IC(l,h){Ki(l),h=ba(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function DC(l,h){return Ki(l),h=ba(l,h),l.g.has(h)}n.forEach=function(l,h){Ki(this),this.g.forEach(function(p,g){p.forEach(function(x){l.call(h,x,g,this)},this)},this)},n.na=function(){Ki(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let g=0;g<h.length;g++){let x=l[g];for(let M=0;M<x.length;M++)p.push(h[g])}return p},n.V=function(l){Ki(this);let h=[];if(typeof l=="string")DC(this,l)&&(h=h.concat(this.g.get(ba(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},n.set=function(l,h){return Ki(this),this.i=null,l=ba(this,l),DC(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function CC(l,h,p){IC(l,h),0<p.length&&(l.i=null,l.g.set(ba(l,h),E(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var g=h[p];let M=encodeURIComponent(String(g)),q=this.V(g);for(g=0;g<q.length;g++){var x=M;q[g]!==""&&(x+="="+encodeURIComponent(String(q[g]))),l.push(x)}}return this.i=l.join("&")};function ba(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function DL(l,h){h&&!l.j&&(Ki(l),l.i=null,l.g.forEach(function(p,g){var x=g.toLowerCase();g!=x&&(IC(this,g),CC(this,x,p))},l)),l.j=h}function CL(l,h){let p=new Cl;if(a.Image){let g=new Image;g.onload=v(Qi,p,"TestLoadImage: loaded",!0,h,g),g.onerror=v(Qi,p,"TestLoadImage: error",!1,h,g),g.onabort=v(Qi,p,"TestLoadImage: abort",!1,h,g),g.ontimeout=v(Qi,p,"TestLoadImage: timeout",!1,h,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else h(!1)}function TL(l,h){let p=new Cl,g=new AbortController,x=setTimeout(()=>{g.abort(),Qi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:g.signal}).then(M=>{clearTimeout(x),M.ok?Qi(p,"TestPingServer: ok",!0,h):Qi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(x),Qi(p,"TestPingServer: error",!1,h)})}function Qi(l,h,p,g,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),g(p)}catch{}}function xL(){this.g=new lL}function SL(l,h,p){let g=p||"";try{_C(l,function(x,M){let q=x;u(x)&&(q=Iv(x)),h.push(g+M+"="+encodeURIComponent(q))})}catch(x){throw h.push(g+"type="+encodeURIComponent("_badmap")),x}}function Ml(l){this.l=l.Ub||null,this.j=l.eb||!1}_(Ml,Dv),Ml.prototype.g=function(){return new eh(this.l,this.j)},Ml.prototype.i=function(l){return function(){return l}}({});function eh(l,h){Zt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(eh,Zt),n=eh.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Nl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;TC(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function TC(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Rl(this):Nl(this),this.readyState==3&&TC(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Rl(this))},n.Qa=function(l){this.g&&(this.response=l,Rl(this))},n.ga=function(){this.g&&Rl(this)};function Rl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Nl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Nl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function xC(l){let h="";return Z(l,function(p,g){h+=g,h+=":",h+=p,h+=`\r
`}),h}function kv(l,h,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=xC(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):nt(l,h,p))}function vt(l){Zt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(vt,Zt);var AL=/^https?$/i,ML=["POST","PUT"];n=vt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xv.g(),this.v=this.o?nC(this.o):nC(xv),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(M){SC(this,M);return}if(l=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var x in g)p.set(x,g[x]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let M of g.keys())p.set(M,g.get(M));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),x=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ML,h,void 0))||g||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,q]of p)this.g.setRequestHeader(M,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{RC(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){SC(this,M)}};function SC(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,AC(l),th(l)}function AC(l){l.A||(l.A=!0,ln(l,"complete"),ln(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ln(this,"complete"),ln(this,"abort"),th(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),th(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?MC(this):this.bb())},n.bb=function(){MC(this)};function MC(l){if(l.h&&typeof s<"u"&&(!l.v[1]||ui(l)!=4||l.Z()!=2)){if(l.u&&ui(l)==4)XD(l.Ea,0,l);else if(ln(l,"readystatechange"),ui(l)==4){l.h=!1;try{let q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var g;if(g=q===0){var x=String(l.D).match(bC)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),g=!AL.test(x?x.toLowerCase():"")}p=g}if(p)ln(l,"complete"),ln(l,"success");else{l.m=6;try{var M=2<ui(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",AC(l)}}finally{th(l)}}}}function th(l,h){if(l.g){RC(l);let p=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||ln(l,"ready");try{p.onreadystatechange=g}catch{}}}function RC(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function ui(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),cL(h)}};function NC(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function RL(l){let h={};l=(l.g&&2<=ui(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(U(l[g]))continue;var p=C(l[g]);let x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let M=h[x]||[];h[x]=M,M.push(p)}I(h,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pl(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function PC(l){this.Aa=0,this.i=[],this.j=new Cl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pl("baseRetryDelayMs",5e3,l),this.cb=Pl("retryDelaySeedMs",1e4,l),this.Wa=Pl("forwardChannelMaxRetries",2,l),this.wa=Pl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new pC(l&&l.concurrentRequestLimit),this.Da=new xL,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=PC.prototype,n.la=8,n.G=1,n.connect=function(l,h,p,g){un(0),this.W=l,this.H=h||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=$C(this,null,this.W),rh(this)};function Fv(l){if(kC(l),l.G==3){var h=l.U++,p=li(l.I);if(nt(p,"SID",l.K),nt(p,"RID",h),nt(p,"TYPE","terminate"),kl(l,p),h=new Wi(l,l.j,h),h.L=2,h.v=Jd(li(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=zC(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Yd(h)}UC(l)}function nh(l){l.g&&(Lv(l),l.g.cancel(),l.g=null)}function kC(l){nh(l),l.u&&(a.clearTimeout(l.u),l.u=null),ih(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function rh(l){if(!mC(l.h)&&!l.s){l.s=!0;var h=l.Ga;ne||bt(),ae||(ne(),ae=!0),xe.add(h,l),l.B=0}}function NL(l,h){return gC(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Dl(m(l.Ga,l,h),BC(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let x=new Wi(this,this.j,l),M=this.o;if(this.S&&(M?(M=y(M),D(M,this.S)):M=this.S),this.m!==null||this.O||(x.H=M,M=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=OC(this,x,h),p=li(this.I),nt(p,"RID",l),nt(p,"CVER",22),this.D&&nt(p,"X-HTTP-Session-Id",this.D),kl(this,p),M&&(this.O?h="headers="+encodeURIComponent(String(xC(M)))+"&"+h:this.m&&kv(p,this.m,M)),Pv(this.h,x),this.Ua&&nt(p,"TYPE","init"),this.P?(nt(p,"$req",h),nt(p,"SID","null"),x.T=!0,Av(x,p,null)):Av(x,p,h),this.G=2}}else this.G==3&&(l?FC(this,l):this.i.length==0||mC(this.h)||FC(this))};function FC(l,h){var p;h?p=h.l:p=l.U++;let g=li(l.I);nt(g,"SID",l.K),nt(g,"RID",p),nt(g,"AID",l.T),kl(l,g),l.m&&l.o&&kv(g,l.m,l.o),p=new Wi(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=OC(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Pv(l.h,p),Av(p,g,h)}function kl(l,h){l.H&&Z(l.H,function(p,g){nt(h,g,p)}),l.l&&_C({},function(p,g){nt(h,g,p)})}function OC(l,h,p){p=Math.min(l.i.length,p);var g=l.l?m(l.l.Na,l.l,l):null;e:{var x=l.i;let M=-1;for(;;){let q=["count="+p];M==-1?0<p?(M=x[0].g,q.push("ofs="+M)):M=0:q.push("ofs="+M);let qe=!0;for(let qt=0;qt<p;qt++){let Ve=x[qt].g,Xt=x[qt].map;if(Ve-=M,0>Ve)M=Math.max(0,x[qt].g-100),qe=!1;else try{SL(Xt,q,"req"+Ve+"_")}catch{g&&g(Xt)}}if(qe){g=q.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,g}function LC(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ne||bt(),ae||(ne(),ae=!0),xe.add(h,l),l.v=0}}function Ov(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Dl(m(l.Fa,l),BC(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,VC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Dl(m(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,un(10),nh(this),VC(this))};function Lv(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function VC(l){l.g=new Wi(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=li(l.qa);nt(h,"RID","rpc"),nt(h,"SID",l.K),nt(h,"AID",l.T),nt(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&nt(h,"TO",l.ja),nt(h,"TYPE","xmlhttp"),kl(l,h),l.m&&l.o&&kv(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Jd(li(h)),p.m=null,p.P=!0,dC(p,l)}n.Za=function(){this.C!=null&&(this.C=null,nh(this),Ov(this),un(19))};function ih(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function jC(l,h){var p=null;if(l.g==h){ih(l),Lv(l),l.g=null;var g=2}else if(Nv(l.h,h))p=h.D,vC(l.h,h),g=1;else return;if(l.G!=0){if(h.o)if(g==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var x=l.B;g=Wd(),ln(g,new aC(g,p)),rh(l)}else LC(l);else if(x=h.s,x==3||x==0&&0<h.X||!(g==1&&NL(l,h)||g==2&&Ov(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),x){case 1:rs(l,5);break;case 4:rs(l,10);break;case 3:rs(l,6);break;default:rs(l,2)}}}function BC(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function rs(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),g=l.Xa;let x=!g;g=new ns(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zd(g,"https"),Jd(g),x?CL(g.toString(),p):TL(g.toString(),p)}else un(2);l.G=0,l.l&&l.l.sa(h),UC(l),kC(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function UC(l){if(l.G=0,l.ka=[],l.l){let h=yC(l.h);(h.length!=0||l.i.length!=0)&&(T(l.ka,h),T(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function $C(l,h,p){var g=p instanceof ns?li(p):new ns(p);if(g.g!="")h&&(g.g=h+"."+g.g),Xd(g,g.s);else{var x=a.location;g=x.protocol,h=h?h+"."+x.hostname:x.hostname,x=+x.port;var M=new ns(null);g&&Zd(M,g),h&&(M.g=h),x&&Xd(M,x),p&&(M.l=p),g=M}return p=l.D,h=l.ya,p&&h&&nt(g,p,h),nt(g,"VER",l.la),kl(l,g),g}function zC(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new vt(new Ml({eb:p})):new vt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function HC(){}n=HC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function oh(){}oh.prototype.g=function(l,h){return new Pn(l,h)};function Pn(l,h){Zt.call(this),this.g=new PC(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!U(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!U(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new wa(this)}_(Pn,Zt),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Fv(this.g)},Pn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Iv(l),l=p);h.i.push(new mL(h.Ya++,l)),h.G==3&&rh(h)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Fv(this.g),delete this.g,Pn.aa.N.call(this)};function qC(l){Cv.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}_(qC,Cv);function GC(){Tv.call(this),this.status=1}_(GC,Tv);function wa(l){this.g=l}_(wa,HC),wa.prototype.ua=function(){ln(this.g,"a")},wa.prototype.ta=function(l){ln(this.g,new qC(l))},wa.prototype.sa=function(l){ln(this.g,new GC)},wa.prototype.ra=function(){ln(this.g,"b")},oh.prototype.createWebChannel=oh.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,gE=Ni.createWebChannelTransport=function(){return new oh},mE=Ni.getStatEventTarget=function(){return Wd()},pE=Ni.Event=es,_m=Ni.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kd.NO_ERROR=0,Kd.TIMEOUT=8,Kd.HTTP_ERROR=6,Yu=Ni.ErrorCode=Kd,cC.COMPLETE="complete",fE=Ni.EventType=cC,rC.EventType=El,El.OPEN="a",El.CLOSE="b",El.ERROR="c",El.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,Rc=Ni.WebChannel=rC,SG=Ni.FetchXmlHttpFactory=Ml,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,hE=Ni.XhrIo=vt}).apply(typeof ym<"u"?ym:typeof self<"u"?self:typeof window<"u"?window:{});var OP="@firebase/firestore";var Pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");var cl="10.14.0";var Bo=new lh("@firebase/firestore");function Oc(){return Bo.logLevel}function jk(n){Bo.setLogLevel(n)}function V(n,...e){if(Bo.logLevel<=Rr.DEBUG){let t=e.map(wI);Bo.debug(`Firestore (${cl}): ${n}`,...t)}}function It(n,...e){if(Bo.logLevel<=Rr.ERROR){let t=e.map(wI);Bo.error(`Firestore (${cl}): ${n}`,...t)}}function Cr(n,...e){if(Bo.logLevel<=Rr.WARN){let t=e.map(wI);Bo.warn(`Firestore (${cl}): ${n}`,...t)}}function wI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function X(n="Unexpected state"){let e=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+n;throw It(e),new Error(e)}function te(n,e){n||X()}function Bk(n,e){n||X()}function W(n,e){return n}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends XC{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ut=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Am=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},EE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pt.UNAUTHENTICATED))}shutdown(){}},IE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},DE=class{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){te(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ut,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>N(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ut)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string"),new Am(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new Pt(e)}},CE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},TE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new CE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},SE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){te(this.o===void 0);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(te(typeof t.token=="string"),this.R=t.token,new xE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function AG(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Mm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=AG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function ue(n,e){return n<e?-1:n>e?1:0}function qc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Uk(n){return n+"\0"}var ft=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new O(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ft(0,0))}static max(){return new n(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Rm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&X(),r===void 0?r=e.length-t:r>e.length-t&&X(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ke=class n extends Rm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},MG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dt=class n extends Rm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return MG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new O(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new O(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new O(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};var Gc=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function AE(n){return n.fields.find(e=>e.kind===2)}function zs(n){return n.fields.filter(e=>e.kind!==2)}Gc.UNKNOWN_ID=-1;var $c=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var cd=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,cr.min())}};function $k(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ft(t+1,0):new ft(t,r));return new cr(i,K.empty(),e)}function zk(n){return new cr(n.readTime,n.key,-1)}var cr=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),K.empty(),-1)}static max(){return new n(se.max(),K.empty(),-1)}};function EI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:ue(n.largestBatchId,e.largestBatchId))}var Hk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Nm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Yo(n){return N(this,null,function*(){if(n.code!==R.FAILED_PRECONDITION||n.message!==Hk)throw n;V("LocalStore","Unexpectedly lost primary lease")})}var A=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};var Pm=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Ut,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Qs(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=II(r.target.error);this.V.reject(new Qs(e,i))}}static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(o){throw new Qs(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(V("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new RE(t)}},Uo=class n{constructor(e,t,r){this.name=e,this.version=t,this.p=r,n.S(Fl())===12.2&&It("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return V("SimpleDb","Removing database:",e),Hs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ch())return!1;if(n.v())return!0;let e=Fl(),t=n.S(e),r=0<t&&t<10,i=qk(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return N(this,null,function*(){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;t(s)},i.onblocked=()=>{r(new Qs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new O(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new O(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Qs(e,s))},i.onupgradeneeded=o=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){return N(this,null,function*(){let o=t==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=Pm.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),A.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&s<3;if(V("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function qk(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var ME=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Hs(this.B.delete())}},Qs=class extends O{constructor(e,t){super(R.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function Zo(n){return n.name==="IndexedDbTransactionError"}var RE=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(V("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Hs(r)}add(e){return V("SimpleDb","ADD",this.store.name,e,e),Hs(this.store.add(e))}get(e){return Hs(this.store.get(e)).next(t=>(t===void 0&&(t=null),V("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return V("SimpleDb","DELETE",this.store.name,e),Hs(this.store.delete(e))}count(){return V("SimpleDb","COUNT",this.store.name),Hs(this.store.count())}U(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new A((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new A((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){V("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,t);r.H=!1;let i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.W(i,t)}Y(e){let t=this.cursor({});return new A((r,i)=>{t.onerror=o=>{let s=II(o.target.error);i(s)},t.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){let r=[];return new A((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new ME(a),u=t(a.primaryKey,a.value,c);if(u instanceof A){let d=u.catch(f=>(c.done(),A.reject(f)));r.push(d)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>A.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function Hs(n){return new A((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=II(r.target.error);t(i)}})}var LP=!1;function II(n){let e=Uo.S(Fl());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LP||(LP=!0,setTimeout(()=>{throw r},0)),r}}return n}var NE=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){V("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>N(this,null,function*(){this.task=null;try{V("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){Zo(t)?V("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield Yo(t)}yield this.X(6e4)}))}},PE=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return N(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let r=new Set,i=t,o=!0;return A.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return V("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(V("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{let s=zk(o);EI(s,r)>0&&(r=s)}),new cr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Un=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Ad(n){return n==null}function ld(n){return n===0&&1/n==-1/0}function Gk(n){return typeof n=="number"&&Number.isInteger(n)&&!ld(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function bn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VP(e)),e=RG(n.get(t),e);return VP(e)}function RG(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function VP(n){return n+""}function Yr(n){let e=n.length;if(te(e>=2),e===2)return te(n.charAt(0)===""&&n.charAt(1)===""),ke.emptyPath();let t=e-2,r=[],i="";for(let o=0;o<e;){let s=n.indexOf("",o);switch((s<0||s>t)&&X(),n.charAt(s+1)){case"":let a=n.substring(o,s),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:X()}o=s+2}return new ke(r)}var jP=["userId","batchId"];function Dm(n,e){return[n,bn(e)]}function Wk(n,e,t){return[n,bn(e),t]}var NG={},PG=["prefixPath","collectionGroup","readTime","documentId"],kG=["prefixPath","collectionGroup","documentId"],FG=["collectionGroup","readTime","prefixPath","documentId"],OG=["canonicalId","targetId"],LG=["targetId","path"],VG=["path","targetId"],jG=["collectionId","parent"],BG=["indexId","uid"],UG=["uid","sequenceNumber"],$G=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zG=["indexId","uid","orderedDocumentKey"],HG=["userId","collectionPath","documentId"],qG=["userId","collectionPath","largestBatchId"],GG=["userId","collectionGroup","largestBatchId"],Kk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],WG=[...Kk,"documentOverlays"],Qk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yk=Qk,DI=[...Yk,"indexConfiguration","indexState","indexEntries"],KG=DI,QG=[...DI,"globals"];var ud=class extends Nm{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function $t(n,e){let t=W(n);return Uo.F(t._e,e)}function BP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function aa(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var st=class n{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}},Uc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Xr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1;Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Xr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qe=class n{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new km(this.data.getIterator())}getIteratorFrom(e){return new km(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},km=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Nc(n){return n.hasNext()?n.getNext():void 0}var $n=class n{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Qe(Dt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Fm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function Xk(){return typeof atob<"u"}var Tt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Fm("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var YG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(n){if(te(!!n),typeof n=="string"){let e=0,t=YG.exec(n);if(te(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(n.seconds),nanos:lt(n.nanos)}}function lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $o(n){return typeof n=="string"?Tt.fromBase64String(n):Tt.fromUint8Array(n)}function Tg(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function CI(n){let e=n.mapValue.fields.__previous_value__;return Tg(e)?CI(e):e}function dd(n){let e=Fi(n.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}var kE=class{constructor(e,t,r,i,o,s,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},zo=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cm={nullValue:"NULL_VALUE"};function Ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tg(n)?4:Jk(n)?9007199254740991:xg(n)?10:11:X()}function ti(n,e){if(n===e)return!0;let t=Ys(n);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dd(n).isEqual(dd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Fi(i.timestampValue),a=Fi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return $o(i.bytesValue).isEqual($o(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return lt(i.geoPointValue.latitude)===lt(o.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return lt(i.integerValue)===lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=lt(i.doubleValue),a=lt(o.doubleValue);return s===a?ld(s)===ld(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return qc(n.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(BP(s)!==BP(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!ti(s[c],a[c])))return!1;return!0}(n,e);default:return X()}}function hd(n,e){return(n.values||[]).find(t=>ti(t,e))!==void 0}function Ho(n,e){if(n===e)return 0;let t=Ys(n),r=Ys(e);if(t!==r)return ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ue(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=lt(o.integerValue||o.doubleValue),c=lt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return UP(n.timestampValue,e.timestampValue);case 4:return UP(dd(n),dd(e));case 5:return ue(n.stringValue,e.stringValue);case 6:return function(o,s){let a=$o(o),c=$o(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=ue(a[u],c[u]);if(d!==0)return d}return ue(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ue(lt(o.latitude),lt(s.latitude));return a!==0?a:ue(lt(o.longitude),lt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $P(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},m=s.fields||{},v=(a=f.value)===null||a===void 0?void 0:a.arrayValue,_=(c=m.value)===null||c===void 0?void 0:c.arrayValue,E=ue(((u=v?.values)===null||u===void 0?void 0:u.length)||0,((d=_?.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:$P(v,_)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Vo.mapValue&&s===Vo.mapValue)return 0;if(o===Vo.mapValue)return 1;if(s===Vo.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let m=ue(c[f],d[f]);if(m!==0)return m;let v=Ho(a[c[f]],u[d[f]]);if(v!==0)return v}return ue(c.length,d.length)}(n.mapValue,e.mapValue);default:throw X()}}function UP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ue(n,e);let t=Fi(n),r=Fi(e),i=ue(t.seconds,r.seconds);return i!==0?i:ue(t.nanos,r.nanos)}function $P(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ho(t[i],r[i]);if(o)return o}return ue(t.length,r.length)}function Wc(n){return FE(n)}function FE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Fi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $o(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=FE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${FE(t.fields[s])}`;return i+"}"}(n.mapValue):X()}function Zs(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function OE(n){return!!n&&"integerValue"in n}function fd(n){return!!n&&"arrayValue"in n}function zP(n){return!!n&&"nullValue"in n}function HP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tm(n){return!!n&&"mapValue"in n}function xg(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function rd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return aa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=rd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Jk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var e1={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function ZG(n){return"nullValue"in n?Cm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zs(zo.empty(),K.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?xg(n)?e1:{mapValue:{}}:X()}function XG(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zs(zo.empty(),K.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?e1:"mapValue"in n?xg(n)?{mapValue:{}}:Vo:X()}function qP(n,e){let t=Ho(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function GP(n,e){let t=Ho(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var cn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Tm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(t)}setAll(e){let t=Dt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=rd(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Tm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Tm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){aa(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(rd(this.value))}};function t1(n){let e=[];return aa(n.fields,(t,r)=>{let i=new Dt([t]);if(Tm(r)){let o=t1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new $n(e)}var kt=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),cn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ni=class{constructor(e,t){this.position=e,this.inclusive=t}};function WP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=Ho(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ti(n.position[t],e.position[t]))return!1;return!0}var Xs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function JG(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Om=class{},Me=class n extends Om{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jE(e,t,r):t==="array-contains"?new $E(e,r):t==="in"?new Lm(e,r):t==="not-in"?new zE(e,r):t==="array-contains-any"?new HE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new BE(e,r):new UE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ho(t,this.value)):t!==null&&Ys(this.value)===Ys(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$e=class n extends Om{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Kc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Kc(n){return n.op==="and"}function LE(n){return n.op==="or"}function TI(n){return n1(n)&&Kc(n)}function n1(n){for(let e of n.filters)if(e instanceof $e)return!1;return!0}function VE(n){if(n instanceof Me)return n.field.canonicalString()+n.op.toString()+Wc(n.value);if(TI(n))return n.filters.map(e=>VE(e)).join(",");{let e=n.filters.map(t=>VE(t)).join(",");return`${n.op}(${e})`}}function r1(n,e){return n instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.field.isEqual(i.field)&&ti(r.value,i.value)}(n,e):n instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&r1(s,i.filters[a]),!0):!1}(n,e):void X()}function i1(n,e){let t=n.filters.concat(e);return $e.create(t,n.op)}function o1(n){return n instanceof Me?function(t){return`${t.field.canonicalString()} ${t.op} ${Wc(t.value)}`}(n):n instanceof $e?function(t){return t.op.toString()+" {"+t.getFilters().map(o1).join(" ,")+"}"}(n):"Filter"}var jE=class extends Me{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},BE=class extends Me{constructor(e,t){super(e,"in",t),this.keys=s1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},UE=class extends Me{constructor(e,t){super(e,"not-in",t),this.keys=s1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function s1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var $E=class extends Me{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return fd(t)&&hd(t.arrayValue,this.value)}},Lm=class extends Me{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&hd(this.value.arrayValue,t)}},zE=class extends Me{constructor(e,t){super(e,"not-in",t)}matches(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!hd(this.value.arrayValue,t)}},HE=class extends Me{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!fd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hd(this.value.arrayValue,r))}};var qE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function GE(n,e=null,t=[],r=[],i=null,o=null,s=null){return new qE(n,e,t,r,i,o,s)}function Js(n){let e=W(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>VE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wc(r)).join(",")),e.ue=t}return e.ue}function Md(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JG(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!r1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KP(n.startAt,e.startAt)&&KP(n.endAt,e.endAt)}function Vm(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function jm(n,e){return n.filters.filter(t=>t instanceof Me&&t.field.isEqual(e))}function QP(n,e,t){let r=Cm,i=!0;for(let o of jm(n,e)){let s=Cm,a=!0;switch(o.op){case"<":case"<=":s=ZG(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Cm}qP({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];qP({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}function YP(n,e,t){let r=Vo,i=!0;for(let o of jm(n,e)){let s=Vo,a=!0;switch(o.op){case">=":case">":s=XG(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Vo}GP({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];GP({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}var Tr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function a1(n,e,t,r,i,o,s,a){return new Tr(n,e,t,r,i,o,s,a)}function ll(n){return new Tr(n)}function ZP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xI(n){return n.collectionGroup!==null}function zc(n){let e=W(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qe(Dt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Xs(o,r))}),t.has(Dt.keyField().canonicalString())||e.ce.push(new Xs(Dt.keyField(),r))}return e.ce}function wn(n){let e=W(n);return e.le||(e.le=e8(e,zc(n))),e.le}function e8(n,e){if(n.limitType==="F")return GE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Xs(i.field,o)});let t=n.endAt?new ni(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ni(n.startAt.position,n.startAt.inclusive):null;return GE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function WE(n,e){let t=n.filters.concat([e]);return new Tr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bm(n,e,t){return new Tr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rd(n,e){return Md(wn(n),wn(e))&&n.limitType===e.limitType}function c1(n){return`${Js(wn(n))}|lt:${n.limitType}`}function Lc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>o1(i)).join(", ")}]`),Ad(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Wc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Wc(i)).join(",")),`Target(${r})`}(wn(n))}; limitType=${n.limitType})`}function Nd(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of zc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=WP(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,zc(r),i)||r.endAt&&!function(s,a,c){let u=WP(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,zc(r),i))}(n,e)}function l1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function u1(n){return(e,t)=>{let r=!1;for(let i of zc(n)){let o=t8(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function t8(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Ho(c,u):X()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}var ri=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Zk(this.inner)}size(){return this.innerSize}};var n8=new st(K.comparator);function Nn(){return n8}var d1=new st(K.comparator);function td(...n){let e=d1;for(let t of n)e=e.insert(t.key,t);return e}function h1(n){let e=d1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zr(){return id()}function f1(){return id()}function id(){return new ri(n=>n.toString(),(n,e)=>n.isEqual(e))}var r8=new st(K.comparator),i8=new Qe(K.comparator);function be(...n){let e=i8;for(let t of n)e=e.add(t);return e}var o8=new Qe(ue);function SI(){return o8}function AI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ld(e)?"-0":e}}function p1(n){return{integerValue:""+n}}function m1(n,e){return Gk(e)?p1(e):AI(n,e)}var Qc=class{constructor(){this._=void 0}};function s8(n,e,t){return n instanceof qo?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Tg(o)&&(o=CI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Oi?v1(n,e):n instanceof Li?y1(n,e):function(i,o){let s=g1(i,o),a=XP(s)+XP(i.Pe);return OE(s)&&OE(i.Pe)?p1(a):AI(i.serializer,a)}(n,e)}function a8(n,e,t){return n instanceof Oi?v1(n,e):n instanceof Li?y1(n,e):t}function g1(n,e){return n instanceof Go?function(r){return OE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var qo=class extends Qc{},Oi=class extends Qc{constructor(e){super(),this.elements=e}};function v1(n,e){let t=_1(e);for(let r of n.elements)t.some(i=>ti(i,r))||t.push(r);return{arrayValue:{values:t}}}var Li=class extends Qc{constructor(e){super(),this.elements=e}};function y1(n,e){let t=_1(e);for(let r of n.elements)t=t.filter(i=>!ti(i,r));return{arrayValue:{values:t}}}var Go=class extends Qc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function XP(n){return lt(n.integerValue||n.doubleValue)}function _1(n){return fd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var ea=class{constructor(e,t){this.field=e,this.transform=t}};function c8(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Oi&&i instanceof Oi||r instanceof Li&&i instanceof Li?qc(r.elements,i.elements,ti):r instanceof Go&&i instanceof Go?ti(r.Pe,i.Pe):r instanceof qo&&i instanceof qo}(n.transform,e.transform)}var KE=class{constructor(e,t){this.version=e,this.transformResults=t}},_t=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function xm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Yc=class{};function b1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ko(n.key,_t.none()):new Wo(n.key,n.data,_t.none());{let t=n.data,r=cn.empty(),i=new Qe(Dt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xr(n.key,r,new $n(i.toArray()),_t.none())}}function l8(n,e,t){n instanceof Wo?function(i,o,s){let a=i.value.clone(),c=ek(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof xr?function(i,o,s){if(!xm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=ek(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(w1(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function od(n,e,t,r){return n instanceof Wo?function(o,s,a,c){if(!xm(o.precondition,s))return a;let u=o.value.clone(),d=tk(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof xr?function(o,s,a,c){if(!xm(o.precondition,s))return a;let u=tk(o.fieldTransforms,c,s),d=s.data;return d.setAll(w1(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return xm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function u8(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=g1(r.transform,i||null);o!=null&&(t===null&&(t=cn.empty()),t.set(r.field,o))}return t||null}function JP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qc(r,i,(o,s)=>c8(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Wo=class extends Yc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xr=class extends Yc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function w1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function ek(n,e,t){let r=new Map;te(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,a8(s,a,t[i]))}return r}function tk(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,s8(o,s,e))}return r}var Ko=class extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},pd=class extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var md=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&l8(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=od(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=od(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=f1();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=b1(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),be())}isEqual(e){return this.batchId===e.batchId&&qc(this.mutations,e.mutations,(t,r)=>JP(t,r))&&qc(this.baseMutations,e.baseMutations,(t,r)=>JP(t,r))}},QE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){te(e.mutations.length===r.length);let i=function(){return r8}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var gd=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var YE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Rt,Pe;function E1(n){switch(n){default:return X();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function I1(n){if(n===void 0)return It("GRPC error has no .code"),R.UNKNOWN;switch(n){case Rt.OK:return R.OK;case Rt.CANCELLED:return R.CANCELLED;case Rt.UNKNOWN:return R.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return R.INTERNAL;case Rt.UNAVAILABLE:return R.UNAVAILABLE;case Rt.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Rt.NOT_FOUND:return R.NOT_FOUND;case Rt.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Rt.ABORTED:return R.ABORTED;case Rt.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Rt.DATA_LOSS:return R.DATA_LOSS;default:return X()}}(Pe=Rt||(Rt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var nk=null;function D1(){return new TextEncoder}var d8=new Po([4294967295,4294967295],0);function rk(n){let e=D1().encode(n),t=new dE;return t.update(e),new Uint8Array(t.digest())}function ik(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Po([t,r],0),new Po([i,o],0)]}var ZE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ks(`Invalid padding: ${t}`);if(r<0)throw new Ks(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ks(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ks(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Po.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Po.fromNumber(r)));return i.compare(d8)===1&&(i=new Po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=rk(e),[r,i]=ik(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=rk(e),[r,i]=ik(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ks=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var vd=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,yd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new st(ue),Nn(),be())}},yd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,be(),be(),be())}};var Hc=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Um=class{constructor(e,t){this.targetId=e,this.me=t}},$m=class{constructor(e,t,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},zm=class{constructor(){this.fe=0,this.ge=sk(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),t=be(),r=be();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:X()}}),new yd(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=sk()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},XE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Nn(),this.qe=ok(),this.Qe=new st(ue)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Vm(o))if(r===0){let s=new K(o.path);this.Ue(t,s,kt.newNoDocument(s,se.min()))}else te(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}nk?.et(function(d,f,m,v,_){var E,T,k,U,F,G;let oe={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},Z=f.unchangedNames;return Z&&(oe.bloomFilter={applied:_===0,hashCount:(E=Z?.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(U=(k=(T=Z?.bits)===null||T===void 0?void 0:T.bitmap)===null||k===void 0?void 0:k.length)!==null&&U!==void 0?U:0,padding:(G=(F=Z?.bits)===null||F===void 0?void 0:F.padding)!==null&&G!==void 0?G:0,mightContain:I=>{var y;return(y=v?.mightContain(I))!==null&&y!==void 0&&y}}),oe}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=$o(r).toUint8Array()}catch(c){if(c instanceof Fm)return Cr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ZE(s,i,o)}catch(c){return Cr(c instanceof Ks?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Vm(a.target)){let c=new K(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,kt.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=be();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new vd(e,t,this.Qe,this.ke,r);return this.ke=Nn(),this.qe=ok(),this.Qe=new st(ue),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new zm,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Qe(ue),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||V("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zm),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function ok(){return new st(K.comparator)}function sk(){return new st(K.comparator)}var h8={asc:"ASCENDING",desc:"DESCENDING"},f8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p8={and:"AND",or:"OR"},JE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function e0(n,e){return n.useProto3Json||Ad(e)?e:{value:e}}function Zc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function m8(n,e){return Zc(n,e.toTimestamp())}function Ct(n){return te(!!n),se.fromTimestamp(function(t){let r=Fi(t);return new ft(r.seconds,r.nanos)}(n))}function MI(n,e){return t0(n,e).canonicalString()}function t0(n,e){let t=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function T1(n){let e=ke.fromString(n);return te(O1(e)),e}function _d(n,e){return MI(n.databaseId,e.path)}function Jr(n,e){let t=T1(e);if(t.get(1)!==n.databaseId.projectId)throw new O(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(A1(t))}function x1(n,e){return MI(n.databaseId,e)}function S1(n){let e=T1(n);return e.length===4?ke.emptyPath():A1(e)}function n0(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function A1(n){return te(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ak(n,e,t){return{name:_d(n,e),fields:t.value.mapValue.fields}}function M1(n,e,t){let r=Jr(n,e.name),i=Ct(e.updateTime),o=e.createTime?Ct(e.createTime):se.min(),s=new cn({mapValue:{fields:e.fields}}),a=kt.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function g8(n,e){return"found"in e?function(r,i){te(!!i.found),i.found.name,i.found.updateTime;let o=Jr(r,i.found.name),s=Ct(i.found.updateTime),a=i.found.createTime?Ct(i.found.createTime):se.min(),c=new cn({mapValue:{fields:i.found.fields}});return kt.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(r,i){te(!!i.missing),te(!!i.readTime);let o=Jr(r,i.missing),s=Ct(i.readTime);return kt.newNoDocument(o,s)}(n,e):X()}function v8(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(te(d===void 0||typeof d=="string"),Tt.fromBase64String(d||"")):(te(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Tt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?R.UNKNOWN:I1(u.code);return new O(d,u.message||"")}(s);t=new $m(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Jr(n,r.document.name),o=Ct(r.document.updateTime),s=r.document.createTime?Ct(r.document.createTime):se.min(),a=new cn({mapValue:{fields:r.document.fields}}),c=kt.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Hc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Jr(n,r.document),o=r.readTime?Ct(r.readTime):se.min(),s=kt.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Hc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Jr(n,r.document),o=r.removedTargetIds||[];t=new Hc([],o,i,null)}else{if(!("filter"in e))return X();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new YE(i,o),a=r.targetId;t=new Um(a,s)}}return t}function bd(n,e){let t;if(e instanceof Wo)t={update:ak(n,e.key,e.value)};else if(e instanceof Ko)t={delete:_d(n,e.key)};else if(e instanceof xr)t={update:ak(n,e.key,e.data),updateMask:I8(e.fieldMask)};else{if(!(e instanceof pd))return X();t={verify:_d(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof qo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Li)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Go)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:m8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(n,e.precondition)),t}function r0(n,e){let t=e.currentDocument?function(o){return o.updateTime!==void 0?_t.updateTime(Ct(o.updateTime)):o.exists!==void 0?_t.exists(o.exists):_t.none()}(e.currentDocument):_t.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;if("setToServerValue"in a)te(a.setToServerValue==="REQUEST_TIME"),c=new qo;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new Oi(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new Li(d)}else"increment"in a?c=new Go(s,a.increment):X();let u=Dt.fromServerFormat(a.fieldPath);return new ea(u,c)}(n,i)):[];if(e.update){e.update.name;let i=Jr(n,e.update.name),o=new cn({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let u=c.fieldPaths||[];return new $n(u.map(d=>Dt.fromServerFormat(d)))}(e.updateMask);return new xr(i,o,s,t,r)}return new Wo(i,o,t,r)}if(e.delete){let i=Jr(n,e.delete);return new Ko(i,t)}if(e.verify){let i=Jr(n,e.verify);return new pd(i,t)}return X()}function y8(n,e){return n&&n.length>0?(te(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Ct(i.updateTime):Ct(o);return s.isEqual(se.min())&&(s=Ct(o)),new KE(s,i.transformResults||[])}(t,e))):[]}function R1(n,e){return{documents:[x1(n,e.path)]}}function N1(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=x1(n,i);let o=function(u){if(u.length!==0)return F1($e.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Vc(m.field),direction:b8(m.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=e0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function P1(n){let e=S1(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){te(r===1);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let m=k1(f);return m instanceof $e&&TI(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(m=>function(_){return new Xs(jc(_.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Ad(m)?null:m}(t.limit));let c=null;t.startAt&&(c=function(f){let m=!!f.before,v=f.values||[];return new ni(v,m)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let m=!f.before,v=f.values||[];return new ni(v,m)}(t.endAt)),a1(e,i,s,o,a,"F",c,u)}function _8(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function k1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=jc(t.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=jc(t.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=jc(t.unaryFilter.field);return Me.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=jc(t.unaryFilter.field);return Me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(n):n.fieldFilter!==void 0?function(t){return Me.create(jc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return $e.create(t.compositeFilter.filters.map(r=>k1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(t.compositeFilter.op))}(n):X()}function b8(n){return h8[n]}function w8(n){return f8[n]}function E8(n){return p8[n]}function Vc(n){return{fieldPath:n.canonicalString()}}function jc(n){return Dt.fromServerFormat(n.fieldPath)}function F1(n){return n instanceof Me?function(t){if(t.op==="=="){if(HP(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NAN"}};if(zP(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(HP(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NOT_NAN"}};if(zP(t.value))return{unaryFilter:{field:Vc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(t.field),op:w8(t.op),value:t.value}}}(n):n instanceof $e?function(t){let r=t.getFilters().map(i=>F1(i));return r.length===1?r[0]:{compositeFilter:{op:E8(t.op),filters:r}}}(n):X()}function I8(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function O1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Xc=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=Tt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Hm=class{constructor(e){this.ct=e}};function D8(n,e){let t;if(e.document)t=M1(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=K.fromSegments(e.noDocument.path),i=na(e.noDocument.readTime);t=kt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return X();{let r=K.fromSegments(e.unknownDocument.path),i=na(e.unknownDocument.version);t=kt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){let o=new ft(i[0],i[1]);return se.fromTimestamp(o)}(e.readTime)),t}function ck(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:qm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:_d(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Zc(o,s.version.toTimestamp()),createTime:Zc(o,s.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ta(e.version)};else{if(!e.isUnknownDocument())return X();r.unknownDocument={path:t.path.toArray(),version:ta(e.version)}}return r}function qm(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ta(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function na(n){let e=new ft(n.seconds,n.nanoseconds);return se.fromTimestamp(e)}function qs(n,e){let t=(e.baseMutations||[]).map(o=>r0(n.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>r0(n.ct,o)),i=ft.fromMillis(e.localWriteTimeMs);return new md(e.batchId,i,t,r)}function nd(n){let e=na(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?na(n.lastLimboFreeSnapshotVersion):se.min(),r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return te(o.documents.length===1),wn(ll(S1(o.documents[0])))}(n.query):function(o){return wn(P1(o))}(n.query),new Xc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Tt.fromBase64String(n.resumeToken))}function L1(n,e){let t=ta(e.snapshotVersion),r=ta(e.lastLimboFreeSnapshotVersion),i;i=Vm(e.target)?R1(n.ct,e.target):N1(n.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Js(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function RI(n){let e=P1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bm(e,e.limit,"L"):e}function vE(n,e){return new gd(e.largestBatchId,r0(n.ct,e.overlayMutation))}function lk(n,e){let t=e.path.lastSegment();return[n,bn(e.path.popLast()),t]}function uk(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:ta(r.readTime),documentKey:bn(r.documentKey.path),largestBatchId:r.largestBatchId}}var i0=class{getBundleMetadata(e,t){return dk(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:na(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return dk(e).put(function(i){return{bundleId:i.id,createTime:ta(Ct(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return hk(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:RI(o.bundledQuery),readTime:na(o.readTime)}}(r)})}saveNamedQuery(e,t){return hk(e).put(function(i){return{name:i.name,readTime:ta(Ct(i.readTime)),bundledQuery:i.bundledQuery}}(t))}};function dk(n){return $t(n,"bundles")}function hk(n){return $t(n,"namedQueries")}var Gm=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return Zu(e).get(lk(this.userId,t)).next(r=>r?vE(this.serializer,r):null)}getOverlays(e,t){let r=Zr();return A.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((o,s)=>{let a=new gd(t,s);i.push(this.ht(e,a))}),A.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(s=>i.add(bn(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Zu(e).j("collectionPathOverlayIndex",a))}),A.waitFor(o)}getOverlaysForCollection(e,t,r){let i=Zr(),o=bn(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Zu(e).U("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let u=vE(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let o=Zr(),s,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zu(e).J({index:"collectionGroupOverlayIndex",range:a},(c,u,d)=>{let f=vE(this.serializer,u);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}ht(e,t){return Zu(e).put(function(i,o,s){let[a,c,u]=lk(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:bd(i.ct,s.mutation)}}(this.serializer,this.userId,t))}};function Zu(n){return $t(n,"documentOverlays")}var o0=class{Pt(e){return $t(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let r=t?.value;return r?Tt.fromUint8Array(r):Tt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var Pi=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(lt(e.integerValue));else if("doubleValue"in e){let r=lt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),ld(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Fi(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt($o(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?Jk(e)?this.dt(t,Number.MAX_SAFE_INTEGER):xg(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):X()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(lt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),K.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Pi.vt=new Pi;function C8(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function fk(n){let e=64-function(r){let i=0;for(let o=0;o<8;++o){let s=C8(255&r[o]);if(i+=s,s!==8)break}return i}(n);return Math.ceil(e/8)}var s0=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{let i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){let t=this.qt(e),r=fk(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){let t=this.qt(e),r=fk(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},a0=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},c0=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},Gs=class{constructor(){this.jt=new s0,this.Ht=new a0(this.jt),this.Jt=new c0(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var Ws=class n{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new n(this.indexId,this.documentKey,this.arrayValue,r)}};function ko(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=pk(n.arrayValue,e.arrayValue),t!==0?t:(t=pk(n.directionalValue,e.directionalValue),t!==0?t:K.comparator(n.documentKey,e.documentKey)))}function pk(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}var Wm=class{constructor(e){this.Xt=new Qe((t,r)=>Dt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(te(e.collectionGroup===this.collectionId),this.nn)return!1;let t=AE(e);if(t!==void 0&&!this.sn(t))return!1;let r=zs(e),i=new Set,o=0,s=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Qe(Dt.comparator),t=[];for(let r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new $c(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new $c(r.field,0))}for(let r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new $c(r.field,r.dir==="asc"?0:1)));return new Gc(Gc.UNKNOWN_ID,this.collectionId,t,cd.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function V1(n){var e,t;if(te(n instanceof Me||n instanceof $e),n instanceof Me){if(n instanceof Lm){let i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Me.create(n.field,"==",o)))||[];return $e.create(i,"or")}return n}let r=n.filters.map(i=>V1(i));return $e.create(r,n.op)}function T8(n){if(n.getFilters().length===0)return[];let e=d0(V1(n));return te(j1(e)),l0(e)||u0(e)?[e]:e.getFilters()}function l0(n){return n instanceof Me}function u0(n){return n instanceof $e&&TI(n)}function j1(n){return l0(n)||u0(n)||function(t){if(t instanceof $e&&LE(t)){for(let r of t.getFilters())if(!l0(r)&&!u0(r))return!1;return!0}return!1}(n)}function d0(n){if(te(n instanceof Me||n instanceof $e),n instanceof Me)return n;if(n.filters.length===1)return d0(n.filters[0]);let e=n.filters.map(r=>d0(r)),t=$e.create(e,n.op);return t=Km(t),j1(t)?t:(te(t instanceof $e),te(Kc(t)),te(t.filters.length>1),t.filters.reduce((r,i)=>NI(r,i)))}function NI(n,e){let t;return te(n instanceof Me||n instanceof $e),te(e instanceof Me||e instanceof $e),t=n instanceof Me?e instanceof Me?function(i,o){return $e.create([i,o],"and")}(n,e):mk(n,e):e instanceof Me?mk(e,n):function(i,o){if(te(i.filters.length>0&&o.filters.length>0),Kc(i)&&Kc(o))return i1(i,o.getFilters());let s=LE(i)?i:o,a=LE(i)?o:i,c=s.filters.map(u=>NI(u,a));return $e.create(c,"or")}(n,e),Km(t)}function mk(n,e){if(Kc(e))return i1(e,n.getFilters());{let t=e.filters.map(r=>NI(n,r));return $e.create(t,"or")}}function Km(n){if(te(n instanceof Me||n instanceof $e),n instanceof Me)return n;let e=n.getFilters();if(e.length===1)return Km(e[0]);if(n1(n))return n;let t=e.map(i=>Km(i)),r=[];return t.forEach(i=>{i instanceof Me?r.push(i):i instanceof $e&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:$e.create(r,n.op)}var h0=class{constructor(){this.un=new wd}addToCollectionParentIndex(e,t){return this.un.add(t),A.resolve()}getCollectionParents(e,t){return A.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return A.resolve()}deleteFieldIndex(e,t){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,t){return A.resolve()}getDocumentsMatchingTarget(e,t){return A.resolve(null)}getIndexType(e,t){return A.resolve(0)}getFieldIndexes(e,t){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,t){return A.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,t){return A.resolve(cr.min())}updateCollectionGroup(e,t,r){return A.resolve()}updateIndexEntries(e,t){return A.resolve()}},wd=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qe(ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(ke.comparator)).toArray()}};var bm=new Uint8Array(0),f0=class{constructor(e,t){this.databaseId=t,this.cn=new wd,this.ln=new ri(r=>Js(r),(r,i)=>Md(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let o={collectionId:r,parent:bn(i)};return gk(e).put(o)}return A.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[Uk(t),""],!1,!0);return gk(e).U(i).next(o=>{for(let s of o){if(s.collectionId!==t)break;r.push(Yr(s.parent))}return r})}addFieldIndex(e,t){let r=Xu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(t);delete i.indexId;let o=r.add(i);if(t.indexState){let s=kc(e);return o.next(a=>{s.put(uk(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){let r=Xu(e),i=kc(e),o=Pc(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=Xu(e),r=Pc(e),i=kc(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return A.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new Wm(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let r=Pc(e),i=!0,o=new Map;return A.forEach(this.hn(t),s=>this.Pn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=be(),a=[];return A.forEach(o,(c,u)=>{V("IndexedDbIndexManager",`Using index ${function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(G=>`${G.fieldPath}:${G.kind}`).join(",")}`}(c)} to execute ${Js(t)}`);let d=function(F,G){let oe=AE(G);if(oe===void 0)return null;for(let Z of jm(F,oe.fieldPath))switch(Z.op){case"array-contains-any":return Z.value.arrayValue.values||[];case"array-contains":return[Z.value]}return null}(u,c),f=function(F,G){let oe=new Map;for(let Z of zs(G))for(let I of jm(F,Z.fieldPath))switch(I.op){case"==":case"in":oe.set(Z.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return oe.set(Z.fieldPath.canonicalString(),I.value),Array.from(oe.values())}return null}(u,c),m=function(F,G){let oe=[],Z=!0;for(let I of zs(G)){let y=I.kind===0?QP(F,I.fieldPath,F.startAt):YP(F,I.fieldPath,F.startAt);oe.push(y.value),Z&&(Z=y.inclusive)}return new ni(oe,Z)}(u,c),v=function(F,G){let oe=[],Z=!0;for(let I of zs(G)){let y=I.kind===0?YP(F,I.fieldPath,F.endAt):QP(F,I.fieldPath,F.endAt);oe.push(y.value),Z&&(Z=y.inclusive)}return new ni(oe,Z)}(u,c),_=this.In(c,u,m),E=this.In(c,u,v),T=this.Tn(c,u,f),k=this.En(c.indexId,d,_,m.inclusive,E,v.inclusive,T);return A.forEach(k,U=>r.G(U,t.limit).next(F=>{F.forEach(G=>{let oe=K.fromSegments(G.documentKey);s.has(oe)||(s=s.add(oe),a.push(oe))})}))}).next(()=>a)}return A.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=T8($e.create(e.filters,"and")).map(r=>GE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,o,s,a){let c=(t!=null?t.length:1)*Math.max(r.length,o.length),u=c/(t!=null?t.length:1),d=[];for(let f=0;f<c;++f){let m=t?this.dn(t[f/u]):bm,v=this.An(e,m,r[f%u],i),_=this.Rn(e,m,o[f%u],s),E=a.map(T=>this.An(e,m,T,!0));d.push(...this.createRange(v,_,E))}return d}An(e,t,r,i){let o=new Ws(e,K.empty(),t,r);return i?o:o.Zt()}Rn(e,t,r,i){let o=new Ws(e,K.empty(),t,r);return i?o.Zt():o}Pn(e,t){let r=new Wm(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2,i=this.hn(t);return A.forEach(i,o=>this.Pn(e,o).next(s=>{s?r!==0&&s.fields.length<function(c){let u=new Qe(Dt.comparator),d=!1;for(let f of c.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(let f of c.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(t)&&i.length>1&&r===2?1:r)}Vn(e,t){let r=new Gs;for(let i of zs(e)){let o=t.data.field(i.fieldPath);if(o==null)return null;let s=r.Yt(i.kind);Pi.vt.It(o,s)}return r.zt()}dn(e){let t=new Gs;return Pi.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let r=new Gs;return Pi.vt.It(Zs(this.databaseId,t),r.Yt(function(o){let s=zs(o);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(r===null)return[];let i=[];i.push(new Gs);let o=0;for(let s of zs(e)){let a=r[o++];for(let c of i)if(this.fn(t,s.fieldPath)&&fd(a))i=this.gn(i,s,a);else{let u=c.Yt(s.kind);Pi.vt.It(a,u)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let c=new Gs;c.seed(a.zt()),Pi.vt.It(s,c.Yt(t.kind)),o.push(c)}return o}fn(e,t){return!!e.filters.find(r=>r instanceof Me&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=Xu(e),i=kc(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{let s=[];return A.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(d,f){let m=f?new cd(f.sequenceNumber,new cr(na(f.readTime),new K(Yr(f.documentKey)),f.largestBatchId)):cd.empty(),v=d.fields.map(([_,E])=>new $c(Dt.fromServerFormat(_),E));return new Gc(d.indexId,d.collectionGroup,v,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ue(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=Xu(e),o=kc(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>A.forEach(a,c=>o.put(uk(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){let r=new Map;return A.forEach(t,(i,o)=>{let s=r.get(i.collectionGroup);return(s?A.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),A.forEach(a,c=>this.wn(e,i,c).next(u=>{let d=this.Sn(o,c);return u.isEqual(d)?A.resolve():this.bn(e,o,c,u,d)}))))})}Dn(e,t,r,i){return Pc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return Pc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){let i=Pc(e),o=new Qe(ko);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(s,a)=>{o=o.add(new Ws(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,t){let r=new Qe(ko),i=this.Vn(t,e);if(i==null)return r;let o=AE(t);if(o!=null){let s=e.data.field(o.fieldPath);if(fd(s))for(let a of s.arrayValue.values||[])r=r.add(new Ws(t.indexId,e.key,this.dn(a),i))}else r=r.add(new Ws(t.indexId,e.key,bm,i));return r}bn(e,t,r,i,o){V("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let s=[];return function(c,u,d,f,m){let v=c.getIterator(),_=u.getIterator(),E=Nc(v),T=Nc(_);for(;E||T;){let k=!1,U=!1;if(E&&T){let F=d(E,T);F<0?U=!0:F>0&&(k=!0)}else E!=null?U=!0:k=!0;k?(f(T),T=Nc(_)):U?(m(E),E=Nc(v)):(E=Nc(v),T=Nc(_))}}(i,o,ko,a=>{s.push(this.Dn(e,t,r,a))},a=>{s.push(this.vn(e,t,r,a))}),A.waitFor(s)}yn(e){let t=1;return kc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>ko(s,a)).filter((s,a,c)=>!a||ko(s,c[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=ko(s,e),c=ko(s,t);if(a===0)i[0]=e.Zt();else if(a>0&&c<0)i.push(s),i.push(s.Zt());else if(c>0)break}i.push(t);let o=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];let a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,bm,[]],c=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,bm,[]];o.push(IDBKeyRange.bound(a,c))}return o}Cn(e,t){return ko(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(vk)}getMinOffset(e,t){return A.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||X())).next(vk)}};function gk(n){return $t(n,"collectionParents")}function Pc(n){return $t(n,"indexEntries")}function Xu(n){return $t(n,"indexConfiguration")}function kc(n){return $t(n,"indexState")}function vk(n){te(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;EI(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new cr(e.readTime,e.documentKey,t)}var yk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ar=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function B1(n,e,t){let r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId),a=0,c=r.J({range:s},(d,f,m)=>(a++,m.delete()));o.push(c.next(()=>{te(a===1)}));let u=[];for(let d of t.mutations){let f=Wk(e,d.key.path,t.batchId);o.push(i.delete(f)),u.push(d.key)}return A.waitFor(o).next(()=>u)}function Qm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw X();e=n.noDocument}return JSON.stringify(e).length}ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(41943040,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);var Ym=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){te(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new n(o,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fo(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let o=Bc(e),s=Fo(e);return s.add({}).next(a=>{te(typeof a=="number");let c=new md(a,t,r,i),u=function(v,_,E){let T=E.baseMutations.map(U=>bd(v.ct,U)),k=E.mutations.map(U=>bd(v.ct,U));return{userId:_,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:T,mutations:k}}(this.serializer,this.userId,c),d=[],f=new Qe((m,v)=>ue(m.canonicalString(),v.canonicalString()));for(let m of i){let v=Wk(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(s.put(u)),d.push(o.put(v,NG))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),A.waitFor(d).next(()=>c)})}lookupMutationBatch(e,t){return Fo(e).get(t).next(r=>r?(te(r.userId===this.userId),qs(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?A.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Fo(e).J({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(te(a.batchId>=r),o=qs(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Fo(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fo(e).U("userMutationsIndex",t).next(r=>r.map(i=>qs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=Dm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Bc(e).J({range:i},(s,a,c)=>{let[u,d,f]=s,m=Yr(d);if(u===this.userId&&t.path.isEqual(m))return Fo(e).get(f).next(v=>{if(!v)throw X();te(v.userId===this.userId),o.push(qs(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qe(ue),i=[];return t.forEach(o=>{let s=Dm(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Bc(e).J({range:a},(u,d,f)=>{let[m,v,_]=u,E=Yr(v);m===this.userId&&o.path.isEqual(E)?r=r.add(_):f.done()});i.push(c)}),A.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=Dm(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Qe(ue);return Bc(e).J({range:s},(c,u,d)=>{let[f,m,v]=c,_=Yr(m);f===this.userId&&r.isPrefixOf(_)?_.length===i&&(a=a.add(v)):d.done()}).next(()=>this.xn(e,a))}xn(e,t){let r=[],i=[];return t.forEach(o=>{i.push(Fo(e).get(o).next(s=>{if(s===null)throw X();te(s.userId===this.userId),r.push(qs(this.serializer,s))}))}),A.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return B1(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),A.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return A.resolve();let r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Bc(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){let c=Yr(o[1]);i.push(c)}else a.done()}).next(()=>{te(i.length===0)})})}containsKey(e,t){return U1(e,this.userId,t)}Nn(e){return $1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function U1(n,e,t){let r=Dm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Bc(n).J({range:o,H:!0},(a,c,u)=>{let[d,f,m]=a;d===e&&f===i&&(s=!0),u.done()}).next(()=>s)}function Fo(n){return $t(n,"mutations")}function Bc(n){return $t(n,"documentMutations")}function $1(n){return $t(n,"mutationQueues")}var Jc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var p0=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let r=new Jc(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>se.fromTimestamp(new ft(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Fc(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(te(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0,o=[];return Fc(e).J((s,a)=>{let c=nd(a);c.sequenceNumber<=t&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>A.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Fc(e).J((r,i)=>{let o=nd(i);t(o)})}qn(e){return _k(e).get("targetGlobalKey").next(t=>(te(t!==null),t))}Qn(e,t){return _k(e).put("targetGlobalKey",t)}Kn(e,t){return Fc(e).put(L1(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let r=Js(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Fc(e).J({range:i,index:"queryTargetsIndex"},(s,a,c)=>{let u=nd(a);Md(t,u.target)&&(o=u,c.done())}).next(()=>o)}addMatchingKeys(e,t,r){let i=[],o=Oo(e);return t.forEach(s=>{let a=bn(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),A.waitFor(i)}removeMatchingKeys(e,t,r){let i=Oo(e);return A.forEach(t,o=>{let s=bn(o.path);return A.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){let r=Oo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Oo(e),o=be();return i.J({range:r,H:!0},(s,a,c)=>{let u=Yr(s[1]),d=new K(u);o=o.add(d)}).next(()=>o)}containsKey(e,t){let r=bn(t.path),i=IDBKeyRange.bound([r],[Uk(r)],!1,!0),o=0;return Oo(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],c,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,t){return Fc(e).get(t).next(r=>r?nd(r):null)}};function Fc(n){return $t(n,"targets")}function _k(n){return $t(n,"targetGlobal")}function Oo(n){return $t(n,"targetDocuments")}function bk([n,e],[t,r]){let i=ue(n,t);return i===0?ue(e,r):i}var m0=class{constructor(e){this.Un=e,this.buffer=new Qe(bk),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();bk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},g0=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){V("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>N(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?V("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Yo(t)}yield this.Hn(3e5)}))}},v0=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return A.resolve(Un.oe);let r=new m0(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),A.resolve(yk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yk):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Oc()<=Rr.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),A.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function x8(n,e){return new v0(n,e)}var y0=class{constructor(e,t){this.db=e,this.garbageCollector=x8(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return wm(e,r)}removeReference(e,t,r){return wm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return wm(e,t)}nr(e,t){return function(i,o){let s=!1;return $1(i).Y(a=>U1(i,a,o).next(c=>(c&&(s=!0),A.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.tr(e,(s,a)=>{if(a<=t){let c=this.nr(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,se.min()),Oo(e).delete(function(f){return[0,bn(f.path)]}(s))))});i.push(c)}}).next(()=>A.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return wm(e,t)}tr(e,t){let r=Oo(e),i,o=Un.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:u})=>{s===0?(o!==Un.oe&&t(new K(Yr(i)),o),o=u,i=c):o=Un.oe}).next(()=>{o!==Un.oe&&t(new K(Yr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function wm(n,e){return Oo(n).put(function(r,i){return{targetId:0,path:bn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}var Zm=class{constructor(){this.changes=new ri(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?A.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var _0=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return $s(e).put(r)}removeEntry(e,t,r){return $s(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],qm(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=kt.newInvalidDocument(t);return $s(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ju(t))},(i,o)=>{r=this.ir(t,o)}).next(()=>r)}sr(e,t){let r={size:0,document:kt.newInvalidDocument(t)};return $s(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ju(t))},(i,o)=>{r={document:this.ir(t,o),size:Qm(o)}}).next(()=>r)}getEntries(e,t){let r=Nn();return this._r(e,t,(i,o)=>{let s=this.ir(i,o);r=r.insert(i,s)}).next(()=>r)}ar(e,t){let r=Nn(),i=new st(K.comparator);return this._r(e,t,(o,s)=>{let a=this.ir(o,s);r=r.insert(o,a),i=i.insert(o,Qm(s))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return A.resolve();let i=new Qe(Ik);t.forEach(c=>i=i.add(c));let o=IDBKeyRange.bound(Ju(i.first()),Ju(i.last())),s=i.getIterator(),a=s.getNext();return $s(e).J({index:"documentKeyIndex",range:o},(c,u,d)=>{let f=K.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&Ik(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?d.$(Ju(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),qm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $s(e).U(IDBKeyRange.bound(a,c,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let d=Nn();for(let f of u){let m=this.ir(K.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Nd(t,m)||i.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,t,r,i){let o=Nn(),s=Ek(t,r),a=Ek(t,cr.max());return $s(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,u,d)=>{let f=this.ir(K.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new b0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return wk(e).get("remoteDocumentGlobalKey").next(t=>(te(!!t),t))}rr(e,t){return wk(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let r=D8(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(se.min())))return r}return kt.newInvalidDocument(e)}};function z1(n){return new _0(n)}var b0=class extends Zm{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new ri(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new Qe((o,s)=>ue(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.lr.get(o);if(t.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=ck(this.cr.serializer,s);i=i.add(o.path.popLast());let u=Qm(c);r+=u-a.size,t.push(this.cr.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){let c=ck(this.cr.serializer,s.convertToNoDocument(se.min()));t.push(this.cr.addEntry(e,o,c))}}),i.forEach(o=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.cr.updateMetadata(e,r)),A.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function wk(n){return $t(n,"remoteDocumentGlobal")}function $s(n){return $t(n,"remoteDocumentsV14")}function Ju(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ek(n,e){let t=e.documentKey.path.toArray();return[n,qm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ik(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=ue(t[o],r[o]),i)return i;return i=ue(t.length,r.length),i||(i=ue(t[t.length-2],r[r.length-2]),i||ue(t[t.length-1],r[r.length-1]))}var w0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Xm=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&od(r.mutation,i,$n.empty(),ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,t,r=be()){let i=Zr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=td();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Zr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,be()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Nn(),s=id(),a=function(){return id()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof xr)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),od(d.mutation,u,d.mutation.getFieldMask(),ft.now())):s.set(u.key,$n.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new w0(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=id(),i=new st((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||$n.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||be()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=f1();d.forEach(m=>{if(!o.has(m)){let v=b1(t.get(m),r.get(m));v!==null&&f.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return A.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):A.resolve(Zr()),a=-1,c=o;return s.next(u=>A.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?A.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,be())).next(d=>({batchId:a,changes:h1(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=td();return this.indexManager.getCollectionParents(e,o).next(a=>A.forEach(a,c=>{let u=function(f,m){return new Tr(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,kt.newInvalidDocument(d)))});let a=td();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&od(d.mutation,u,$n.empty(),ft.now()),Nd(t,u)&&(a=a.insert(c,u))}),a})}};var E0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return A.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ct(i.createTime)}}(t)),A.resolve()}getNamedQuery(e,t){return A.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:RI(i.bundledQuery),readTime:Ct(i.readTime)}}(t)),A.resolve()}};var I0=class{constructor(){this.overlays=new st(K.comparator),this.Ir=new Map}getOverlay(e,t){return A.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Zr();return A.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),A.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),A.resolve()}getOverlaysForCollection(e,t,r){let i=Zr(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return A.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new st((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Zr(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Zr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return A.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new gd(t,r));let o=this.Ir.get(t);o===void 0&&(o=be(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var D0=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return A.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,A.resolve()}};var Ed=class{constructor(){this.Tr=new Qe(Nt.Er),this.dr=new Qe(Nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Nt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Nt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new K(new ke([])),r=new Nt(t,e),i=new Nt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new K(new ke([])),r=new Nt(t,e),i=new Nt(t,e+1),o=be();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Nt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Nt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return K.comparator(e.key,t.key)||ue(e.wr,t.wr)}static Ar(e,t){return ue(e.wr,t.wr)||K.comparator(e.key,t.key)}};var C0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Qe(Nt.Er)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new md(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Nt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(s)}lookupMutationBatch(e,t){return A.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return A.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Nt(t,0),i=new Nt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),A.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qe(ue);return t.forEach(i=>{let o=new Nt(i,0),s=new Nt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),A.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new Nt(new K(o),0),a=new Qe(ue);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},s),A.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){te(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return A.forEach(t.mutations,i=>{let o=new Nt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Nt(t,0),i=this.br.firstAfterOrEqual(r);return A.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var T0=class{constructor(e){this.Mr=e,this.docs=function(){return new st(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return A.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(t))}getEntries(e,t){let r=Nn();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():kt.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Nn(),s=t.path,a=new K(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||EI(zk(d),r)<=0||(i.has(d.key)||Nd(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return A.resolve(o)}getAllFromCollectionGroup(e,t,r,i){X()}Or(e,t){return A.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new x0(this)}getSize(e){return A.resolve(this.size)}},x0=class extends Zm{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),A.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var S0=class{constructor(e){this.persistence=e,this.Nr=new ri(t=>Js(t),Md),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ed,this.targetCount=0,this.kr=Jc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),A.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Jc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,A.resolve()}updateTargetData(e,t){return this.Kn(t),A.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(o).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return A.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),A.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),A.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),A.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return A.resolve(r)}containsKey(e,t){return A.resolve(this.Br.containsKey(t))}};var Jm=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Un(0),this.Kr=!1,this.Kr=!0,this.$r=new D0,this.referenceDelegate=e(this),this.Ur=new S0(this),this.indexManager=new h0,this.remoteDocumentCache=function(i){return new T0(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Hm(t),this.Gr=new E0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new I0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new C0(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){V("MemoryPersistence","Starting transaction:",e);let i=new A0(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return A.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},A0=class extends Nm{constructor(e){super(),this.currentSequenceNumber=e}},eg=class n{constructor(e){this.persistence=e,this.Jr=new Ed,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),A.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),A.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Xr,r=>{let i=K.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return A.or([()=>A.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var M0=class{constructor(e){this.serializer=e}O(e,t,r,i){let o=new Pm("createOrUpgrade",t);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jP,{unique:!0}),c.createObjectStore("documentMutations")}(e),Dk(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=A.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),Dk(e)),s=s.next(()=>function(c){let u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:se.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(c,u){return u.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jP,{unique:!0});let f=u.store("mutations"),m=d.map(v=>f.put(v));return A.waitFor(m)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(s=s.next(()=>this.ii(o))),r<8&&i>=8&&(s=s.next(()=>this.si(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(c){let u=c.createObjectStore("documentOverlays",{keyPath:HG});u.createIndex("collectionPathOverlayIndex",qG,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",GG,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){let u=c.createObjectStore("remoteDocumentsV14",{keyPath:PG});u.createIndex("documentKeyIndex",kG),u.createIndex("collectionGroupIndex",FG)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:BG}).createIndex("sequenceNumberIndex",UG,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:$G}).createIndex("documentKeyIndex",zG,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=Qm(i)}).next(()=>{let r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){let t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>A.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>A.forEach(a,c=>{te(c.userId===o.userId);let u=qs(this.serializer,c);return B1(e,o.userId,u).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let o=[];return r.J((s,a)=>{let c=new ke(s),u=function(f){return[0,bn(f)]}(c);o.push(t.get(u).next(d=>d?A.resolve():(f=>t.put({targetId:0,path:bn(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>A.waitFor(o))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:jG});let r=t.store("collectionParents"),i=new wd,o=s=>{if(i.add(s)){let a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:bn(c)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{let c=new ke(s);return o(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,c],u)=>{let d=Yr(a);return o(d.popLast())}))}oi(e){let t=e.store("targets");return t.J((r,i)=>{let o=nd(i),s=L1(this.serializer,o);return t.put(s)})}_i(e,t){let r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{let a=t.store("remoteDocumentsV14"),c=function(f){return f.document?new K(ke.fromString(f.document.name).popFirst(5)):f.noDocument?K.fromSegments(f.noDocument.path):f.unknownDocument?K.fromSegments(f.unknownDocument.path):X()}(s).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>A.waitFor(i))}ai(e,t){let r=t.store("mutations"),i=z1(this.serializer),o=new Jm(eg.Zr,this.serializer.ct);return r.U().next(s=>{let a=new Map;return s.forEach(c=>{var u;let d=(u=a.get(c.userId))!==null&&u!==void 0?u:be();qs(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),A.forEach(a,(c,u)=>{let d=new Pt(u),f=Gm.lt(this.serializer,d),m=o.getIndexManager(d),v=Ym.lt(d,this.serializer,m,o.referenceDelegate);return new Xm(i,v,f,m).recalculateAndSaveOverlaysForDocumentKeys(new ud(t,Un.oe),c).next()})})}};function Dk(n){n.createObjectStore("targetDocuments",{keyPath:LG}).createIndex("documentTargetsIndex",VG,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",OG,{unique:!0}),n.createObjectStore("targetGlobal")}var yE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",R0=class n{constructor(e,t,r,i,o,s,a,c,u,d,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=o,this.window=s,this.document=a,this.ci=u,this.li=d,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!n.D())throw new O(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new y0(this,i),this.Ai=t+"main",this.serializer=new Hm(c),this.Ri=new Uo(this.Ai,this.hi,new M0(this.serializer)),this.$r=new o0,this.Ur=new p0(this.referenceDelegate,this.serializer),this.remoteDocumentCache=z1(this.serializer),this.Gr=new i0,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&It("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new O(R.FAILED_PRECONDITION,yE);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Un(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>N(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>N(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>N(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Em(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Zo(e))return V("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return V("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return ed(e).get("owner").next(t=>A.resolve(this.vi(t)))}Ci(e){return Em(e).delete(this.clientId)}Fi(){return N(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=$t(t,"clientMetadata");return r.U().next(i=>{let o=this.xi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return A.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?A.resolve(!0):ed(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new O(R.FAILED_PRECONDITION,yE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Em(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&V("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return N(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new ud(e,Un.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Em(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return Ym.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new f0(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Gm.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){V("IndexedDbPersistence","Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",o=function(c){return c===17?QG:c===16?KG:c===15?DI:c===14?Yk:c===13?Qk:c===12?WG:c===11?Kk:void X()}(this.hi),s;return this.Ri.runTransaction(e,i,o,a=>(s=new ud(a,this.Qr?this.Qr.next():Un.oe),t==="readwrite-primary"?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw It(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new O(R.FAILED_PRECONDITION,Hk);return r(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return ed(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new O(R.FAILED_PRECONDITION,yE)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ed(e).put("owner",t)}static D(){return Uo.D()}bi(e){let t=ed(e);return t.get("owner").next(r=>this.vi(r)?(V("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):A.resolve())}Mi(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(It(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;$v()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let r=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return V("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return It("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){It("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function ed(n){return $t(n,"owner")}function Em(n){return $t(n,"clientMetadata")}function PI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var N0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=be(),i=be();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var P0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var tg=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $v()?8:qk(Fl())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new P0;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Oc()<=Rr.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Lc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),A.resolve()):(Oc()<=Rr.DEBUG&&V("QueryEngine","Query:",Lc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Oc()<=Rr.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Lc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wn(t))):A.resolve())}Yi(e,t){if(ZP(t))return A.resolve(null);let r=wn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Bm(t,null,"F"),r=wn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=be(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(t,a);return this.ns(t,u,s,c.readTime)?this.Yi(e,Bm(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,r,i){return ZP(t)||i.isEqual(se.min())?A.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?A.resolve(null):(Oc()<=Rr.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lc(t)),this.rs(e,s,t,$k(i,-1)).next(a=>a))})}ts(e,t){let r=new Qe(u1(e));return t.forEach((i,o)=>{Nd(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Oc()<=Rr.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Lc(t)),this.Ji.getDocumentsMatchingQuery(e,t,cr.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var k0=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new st(ue),this._s=new ri(o=>Js(o),Md),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function H1(n,e,t,r){return new k0(n,e,t,r)}function q1(n,e){return N(this,null,function*(){let t=W(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=be();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function S8(n,e){let t=W(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,m=f.keys(),v=A.resolve();return m.forEach(_=>{v=v.next(()=>d.getEntry(c,_)).next(E=>{let T=u.docVersions.get(_);te(T!==null),E.version.compareTo(T)<0&&(f.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function G1(n){let e=W(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function A8(n,e){let t=W(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((d,f)=>{let m=i.get(f);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(o,d.addedDocuments,f)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Tt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(f,v),function(E,T,k){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,v,d)&&a.push(t.Ur.updateTargetData(o,v))});let c=Nn(),u=be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(W1(o,s,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(se.min())){let d=t.Ur.getLastRemoteSnapshotVersion(o).next(f=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return A.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.os=i,o))}function W1(n,e,t){let r=be(),i=be();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Nn();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function M8(n,e){let t=W(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function el(n,e){let t=W(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,A.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Xc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function tl(n,e,t){return N(this,null,function*(){let r=W(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Zo(s))throw s;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function ng(n,e,t){let r=W(n),i=se.min(),o=be();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=W(c),m=f._s.get(d);return m!==void 0?A.resolve(f.os.get(m)):f.Ur.getTargetData(u,d)}(r,s,wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:be())).next(a=>(Y1(r,l1(e),a),{documents:a,Ts:o})))}function K1(n,e){let t=W(n),r=W(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function Q1(n,e){let t=W(n),r=t.us.get(e)||se.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.cs.getAllFromCollectionGroup(i,e,$k(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Y1(t,e,i),i))}function Y1(n,e,t){let r=n.us.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}function R8(n,e,t,r){return N(this,null,function*(){let i=W(n),o=be(),s=Nn();for(let u of t){let d=e.Es(u.metadata.name);u.document&&(o=o.add(d));let f=e.ds(u);f.setReadTime(e.As(u.metadata.readTime)),s=s.insert(d,f)}let a=i.cs.newChangeBuffer({trackRemovals:!0}),c=yield el(i,function(d){return wn(ll(ke.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>W1(u,a,s).next(d=>(a.apply(u),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(u,c.targetId).next(()=>i.Ur.addMatchingKeys(u,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.Ps,d.Is)).next(()=>d.Ps)))})}function N8(r,i){return N(this,arguments,function*(n,e,t=be()){let o=yield el(n,wn(RI(e.bundledQuery))),s=W(n);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=Ct(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.Gr.saveNamedQuery(a,e);let u=o.withResumeToken(Tt.EMPTY_BYTE_STRING,c);return s.os=s.os.insert(u.targetId,u),s.Ur.updateTargetData(a,u).next(()=>s.Ur.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Ur.addMatchingKeys(a,t,o.targetId)).next(()=>s.Gr.saveNamedQuery(a,e))})})}function Ck(n,e){return`firestore_clients_${n}_${e}`}function Tk(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function _E(n,e){return`firestore_targets_${n}_${e}`}var rg=class n{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){let i=JSON.parse(r),o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new O(i.error.code,i.error.message))),s?new n(e,t,i.state,o):(It("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},sd=class n{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){let r=JSON.parse(t),i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new O(r.error.code,r.error.message))),o?new n(e,r.state,i):(It("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},ig=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){let r=JSON.parse(t),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=SI();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=Gk(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new n(e,o):(It("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},F0=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(It("SharedClientState",`Failed to parse online state: ${e}`),null)}},Id=class{constructor(){this.activeTargetIds=SI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},ad=class{constructor(e,t,r,i,o){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new st(ue),this.started=!1,this.bs=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=Ck(this.persistenceKey,this.ps),this.vs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new Id),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return N(this,null,function*(){let e=yield this.syncEngine.Qi();for(let r of e){if(r===this.ps)continue;let i=this.getItem(Ck(this.persistenceKey,r));if(i){let o=ig.Rs(r,i);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();let t=this.storage.getItem(this.xs);if(t){let r=this.Ls(t);r&&this.Bs(r)}for(let r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(_E(this.persistenceKey,e));if(i){let o=sd.Rs(e,i);o&&(r=o.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_E(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return V("SharedClientState","READ",e,t),t}setItem(e,t){V("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){V("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let t=e;if(t.storageArea===this.storage){if(V("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void It("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>N(this,null,function*(){if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){let r=this.Gs(t.key);return this.zs(r,null)}{let r=this.js(t.key,t.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){let r=this.Hs(t.key,t.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){let r=this.Ys(t.key,t.newValue);if(r)return this.Zs(r)}}else if(t.key===this.xs){if(t.newValue!==null){let r=this.Ls(t.newValue);if(r)return this.Bs(r)}}else if(t.key===this.vs){let r=function(o){let s=Un.oe;if(o!=null)try{let a=JSON.parse(o);te(typeof a=="number"),s=a}catch(a){It("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(t.newValue);r!==Un.oe&&this.sequenceNumberHandler(r)}else if(t.key===this.Os){let r=this.Xs(t.newValue);yield Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){let i=new rg(this.currentUser,e,t,r),o=Tk(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){let t=Tk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){let t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,r){let i=_E(this.persistenceKey,e),o=new sd(e,t,r);this.setItem(i,o.Vs())}Ws(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){let t=this.Cs.exec(e);return t?t[1]:null}js(e,t){let r=this.Gs(e);return ig.Rs(r,t)}Hs(e,t){let r=this.Fs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return rg.Rs(new Pt(o),i,t)}Ys(e,t){let r=this.Ms.exec(e),i=Number(r[1]);return sd.Rs(i,t)}Ls(e){return F0.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return N(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);V("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){let r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=SI();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}},og=class{constructor(){this.so=new Id,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Id,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var O0=class{_o(e){}shutdown(){}};var sg=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Im=null;function bE(){return Im===null?Im=function(){return 268435456+Math.round(2147483648*Math.random())}():Im++,"0x"+Im.toString(16)}var P8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var L0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var an="WebChannelConnection",V0=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=bE(),c=this.xo(t,r.toUriEncodedString());V("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,c,u,i).then(d=>(V("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Cr("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=P8[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=bE();return new Promise((s,a)=>{let c=new hE;c.setWithCredentials(!0),c.listenOnce(fE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Yu.NO_ERROR:let d=c.getResponseJson();V(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Yu.TIMEOUT:V(an,`RPC '${e}' ${o} timed out`),a(new O(R.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:let f=c.getStatus();if(V(an,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let _=function(T){let k=T.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(k)>=0?k:R.UNKNOWN}(v.status);a(new O(_,v.message))}else a(new O(R.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new O(R.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{V(an,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);V(an,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=bE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gE(),a=mE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");V(an,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c),m=!1,v=!1,_=new L0({Io:T=>{v?V(an,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(m||(V(an,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),V(an,`RPC '${e}' stream ${i} sending:`,T),f.send(T))},To:()=>f.close()}),E=(T,k,U)=>{T.listen(k,F=>{try{U(F)}catch(G){setTimeout(()=>{throw G},0)}})};return E(f,Rc.EventType.OPEN,()=>{v||(V(an,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),E(f,Rc.EventType.CLOSE,()=>{v||(v=!0,V(an,`RPC '${e}' stream ${i} transport closed`),_.So())}),E(f,Rc.EventType.ERROR,T=>{v||(v=!0,Cr(an,`RPC '${e}' stream ${i} transport errored:`,T),_.So(new O(R.UNAVAILABLE,"The operation could not be completed")))}),E(f,Rc.EventType.MESSAGE,T=>{var k;if(!v){let U=T.data[0];te(!!U);let F=U,G=F.error||((k=F[0])===null||k===void 0?void 0:k.error);if(G){V(an,`RPC '${e}' stream ${i} received error:`,G);let oe=G.status,Z=function(b){let D=Rt[b];if(D!==void 0)return I1(D)}(oe),I=G.message;Z===void 0&&(Z=R.INTERNAL,I="Unknown error status: "+oe+" with message "+G.message),v=!0,_.So(new O(Z,I)),f.close()}else V(an,`RPC '${e}' stream ${i} received:`,U),_.bo(U)}}),E(a,pE.STAT_EVENT,T=>{T.stat===_m.PROXY?V(an,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===_m.NOPROXY&&V(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}};function Z1(){return typeof window<"u"?window:null}function Sm(){return typeof document<"u"?document:null}function Pd(n){return new JE(n,!0)}var Dd=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ag=class{constructor(e,t,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Dd(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return N(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return N(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return N(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(It(t.toString()),It("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new O(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>N(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},j0=class extends ag{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=v8(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Ct(s.readTime):se.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=n0(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=Vm(c)?{documents:R1(o,c)}:{query:N1(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=C1(o,s.resumeToken);let u=e0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=Zc(o,s.snapshotVersion.toTimestamp());let u=e0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=_8(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=n0(this.serializer),t.removeTarget=e,this.a_(t)}},B0=class extends ag{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return te(!!e.streamToken),this.lastStreamToken=e.streamToken,te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=y8(e.writeResults,e.commitTime),r=Ct(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=n0(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>bd(this.serializer,r))};this.a_(t)}};var U0=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new O(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,t0(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(R.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,t0(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(R.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},$0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(It(t),this.D_=!1):V("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var z0=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>N(this,null,function*(){Xo(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(c){return N(this,null,function*(){let u=W(c);u.L_.add(4),yield ul(u),u.q_.set("Unknown"),u.L_.delete(4),yield kd(u)})}(this))}))}),this.q_=new $0(r,i)}};function kd(n){return N(this,null,function*(){if(Xo(n))for(let e of n.B_)yield e(!0)})}function ul(n){return N(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Sg(n,e){let t=W(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),OI(t)?FI(t):hl(t).r_()&&kI(t,e))}function nl(n,e){let t=W(n),r=hl(t);t.N_.delete(e),r.r_()&&X1(t,e),t.N_.size===0&&(r.r_()?r.o_():Xo(t)&&t.q_.set("Unknown"))}function kI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hl(n).A_(e)}function X1(n,e){n.Q_.xe(e),hl(n).R_(e)}function FI(n){n.Q_=new XE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),hl(n).start(),n.q_.v_()}function OI(n){return Xo(n)&&!hl(n).n_()&&n.N_.size>0}function Xo(n){return W(n).L_.size===0}function J1(n){n.Q_=void 0}function k8(n){return N(this,null,function*(){n.q_.set("Online")})}function F8(n){return N(this,null,function*(){n.N_.forEach((e,t)=>{kI(n,e)})})}function O8(n,e){return N(this,null,function*(){J1(n),OI(n)?(n.q_.M_(e),FI(n)):n.q_.set("Unknown")})}function L8(n,e,t){return N(this,null,function*(){if(n.q_.set("Online"),e instanceof $m&&e.state===2&&e.cause)try{yield function(i,o){return N(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield cg(n,r)}else if(e instanceof Hc?n.Q_.Ke(e):e instanceof Um?n.Q_.He(e):n.Q_.We(e),!t.isEqual(se.min()))try{let r=yield G1(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.N_.get(c);if(!d)return;o.N_.set(c,d.withResumeToken(Tt.EMPTY_BYTE_STRING,d.snapshotVersion)),X1(o,c);let f=new Xc(d.target,c,u,d.sequenceNumber);kI(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield cg(n,r)}})}function cg(n,e,t){return N(this,null,function*(){if(!Zo(e))throw e;n.L_.add(1),yield ul(n),n.q_.set("Offline"),t||(t=()=>G1(n.localStore)),n.asyncQueue.enqueueRetryable(()=>N(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield kd(n)}))})}function eF(n,e){return e().catch(t=>cg(n,t,e))}function dl(n){return N(this,null,function*(){let e=W(n),t=Qo(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;V8(e);)try{let i=yield M8(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,j8(e,i)}catch(i){yield cg(e,i)}tF(e)&&nF(e)})}function V8(n){return Xo(n)&&n.O_.length<10}function j8(n,e){n.O_.push(e);let t=Qo(n);t.r_()&&t.V_&&t.m_(e.mutations)}function tF(n){return Xo(n)&&!Qo(n).n_()&&n.O_.length>0}function nF(n){Qo(n).start()}function B8(n){return N(this,null,function*(){Qo(n).p_()})}function U8(n){return N(this,null,function*(){let e=Qo(n);for(let t of n.O_)e.m_(t.mutations)})}function $8(n,e,t){return N(this,null,function*(){let r=n.O_.shift(),i=QE.from(r,e,t);yield eF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield dl(n)})}function z8(n,e){return N(this,null,function*(){e&&Qo(n).V_&&(yield function(r,i){return N(this,null,function*(){if(function(s){return E1(s)&&s!==R.ABORTED}(i.code)){let o=r.O_.shift();Qo(r).s_(),yield eF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield dl(r)}})}(n,e)),tF(n)&&nF(n)})}function xk(n,e){return N(this,null,function*(){let t=W(n);t.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=Xo(t);t.L_.add(3),yield ul(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield kd(t)})}function H0(n,e){return N(this,null,function*(){let t=W(n);e?(t.L_.delete(2),yield kd(t)):e||(t.L_.add(2),yield ul(t),t.q_.set("Unknown"))})}function hl(n){return n.K_||(n.K_=function(t,r,i){let o=W(t);return o.w_(),new j0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:k8.bind(null,n),Ro:F8.bind(null,n),mo:O8.bind(null,n),d_:L8.bind(null,n)}),n.B_.push(e=>N(this,null,function*(){e?(n.K_.s_(),OI(n)?FI(n):n.q_.set("Unknown")):(yield n.K_.stop(),J1(n))}))),n.K_}function Qo(n){return n.U_||(n.U_=function(t,r,i){let o=W(t);return o.w_(),new B0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:B8.bind(null,n),mo:z8.bind(null,n),f_:U8.bind(null,n),g_:$8.bind(null,n)}),n.B_.push(e=>N(this,null,function*(){e?(n.U_.s_(),yield dl(n)):(yield n.U_.stop(),n.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var q0=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function fl(n,e){if(It("AsyncQueue",`${e}: ${n}`),Zo(n))return new O(R.UNAVAILABLE,`${e}: ${n}`);throw n}var lg=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=td(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var ug=class{constructor(){this.W_=new st(K.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},rl=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,lg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var G0=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},W0=class{constructor(){this.queries=Sk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=W(t),o=i.queries;i.queries=Sk(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new O(R.ABORTED,"Firestore shutting down"))}};function Sk(){return new ri(n=>c1(n),Rd)}function LI(n,e){return N(this,null,function*(){let t=W(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new G0,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=fl(s,`Initialization of query '${Lc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&jI(t)})}function VI(n,e){return N(this,null,function*(){let t=W(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function H8(n,e){let t=W(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&jI(t)}function q8(n,e,t){let r=W(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function jI(n){n.Y_.forEach(e=>{e.next()})}var K0,Ak;(Ak=K0||(K0={})).ea="default",Ak.Cache="cache";var Cd=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==K0.Cache}};var Q0=class{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}};var dg=class{constructor(e){this.serializer=e}Es(e){return Jr(this.serializer,e)}ds(e){return e.metadata.exists?M1(this.serializer,e.document,!1):kt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ct(e)}},Y0=class{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rF(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;let r=ke.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){let t=new Map,r=new dg(this.serializer);for(let i of e)if(i.metadata.queries){let o=r.Es(i.metadata.name);for(let s of i.metadata.queries){let a=(t.get(s)||be()).add(o);t.set(s,a)}}return t}complete(){return N(this,null,function*(){let e=yield R8(this.localStore,new dg(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(let r of this.queries)yield N8(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function rF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var hg=class{constructor(e){this.key=e}},fg=class{constructor(e){this.key=e}},pg=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=u1(e),this.Ra=new lg(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new ug,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let m=i.get(d),v=Nd(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),E=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),T=!1;m&&v?m.data.isEqual(v.data)?_!==E&&(r.track({type:3,doc:v}),T=!0):this.ga(m,v)||(r.track({type:2,doc:v}),T=!0,(c&&this.Aa(v,c)>0||u&&this.Aa(v,u)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),T=!0):m&&!v&&(r.track({type:1,doc:m}),T=!0,(c||u)&&(a=!0)),T&&(v?(s=s.add(v),o=E?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((d,f)=>function(v,_){let E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return E(v)-E(_)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new rl(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ug,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new fg(r))}),this.da.forEach(r=>{e.has(r)||t.push(new hg(r))}),t}ba(e){this.Ta=e.Ts,this.da=be();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return rl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Z0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},X0=class{constructor(e){this.key=e,this.va=!1}},J0=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ri(a=>c1(a),Rd),this.Ma=new Map,this.xa=new Set,this.Oa=new st(K.comparator),this.Na=new Map,this.La=new Ed,this.Ba={},this.ka=new Map,this.qa=Jc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function G8(n,e,t=!0){return N(this,null,function*(){let r=Ag(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield iF(r,e,t,!0),i})}function W8(n,e){return N(this,null,function*(){let t=Ag(n);yield iF(t,e,!0,!1)})}function iF(n,e,t,r){return N(this,null,function*(){let i=yield el(n.localStore,wn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield BI(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Sg(n.remoteStore,i),a})}function BI(n,e,t,r,i){return N(this,null,function*(){n.Ka=(f,m,v)=>function(E,T,k,U){return N(this,null,function*(){let F=T.view.ma(k);F.ns&&(F=yield ng(E.localStore,T.query,!1).then(({documents:I})=>T.view.ma(I,F)));let G=U&&U.targetChanges.get(T.targetId),oe=U&&U.targetMismatches.get(T.targetId)!=null,Z=T.view.applyChanges(F,E.isPrimaryClient,G,oe);return eI(E,T.targetId,Z.wa),Z.snapshot})}(n,f,m,v);let o=yield ng(n.localStore,e,!0),s=new pg(e,o.Ts),a=s.ma(o.documents),c=yd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);eI(n,t,u.wa);let d=new Z0(e,t,s);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function K8(n,e,t){return N(this,null,function*(){let r=W(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Rd(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield tl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&nl(r.remoteStore,i.targetId),il(r,i.targetId)}).catch(Yo))):(il(r,i.targetId),yield tl(r.localStore,i.targetId,!0))})}function Q8(n,e){return N(this,null,function*(){let t=W(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),nl(t.remoteStore,r.targetId))})}function Y8(n,e,t){return N(this,null,function*(){let r=HI(n);try{let i=yield function(s,a){let c=W(s),u=ft.now(),d=a.reduce((v,_)=>v.add(_.key),be()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let _=Nn(),E=be();return c.cs.getEntries(v,d).next(T=>{_=T,_.forEach((k,U)=>{U.isValidDocument()||(E=E.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,_)).next(T=>{f=T;let k=[];for(let U of a){let F=u8(U,f.get(U.key).overlayedDocument);F!=null&&k.push(new xr(U.key,F,t1(F.value.mapValue),_t.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,k,a)}).next(T=>{m=T;let k=T.applyToLocalDocumentSet(f,E);return c.documentOverlayCache.saveOverlays(v,T.batchId,k)})}).then(()=>({batchId:m.batchId,changes:h1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new st(ue)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Bi(r,i.changes),yield dl(r.remoteStore)}catch(i){let o=fl(i,"Failed to persist write");t.reject(o)}})}function oF(n,e){return N(this,null,function*(){let t=W(n);try{let r=yield A8(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?te(s.va):i.removedDocuments.size>0&&(te(s.va),s.va=!1))}),yield Bi(t,r,e)}catch(r){yield Yo(r)}})}function Mk(n,e,t){let r=W(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=W(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let m of f.j_)m.Z_(a)&&(u=!0)}),u&&jI(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Z8(n,e,t){return N(this,null,function*(){let r=W(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new st(K.comparator);s=s.insert(o,kt.newNoDocument(o,se.min()));let a=be().add(o),c=new vd(se.min(),new Map,new st(ue),s,a);yield oF(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),zI(r)}else yield tl(r.localStore,e,!1).then(()=>il(r,e,t)).catch(Yo)})}function X8(n,e){return N(this,null,function*(){let t=W(n),r=e.batch.batchId;try{let i=yield S8(t.localStore,e);$I(t,r,null),UI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bi(t,i)}catch(i){yield Yo(i)}})}function J8(n,e,t){return N(this,null,function*(){let r=W(n);try{let i=yield function(s,a){let c=W(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(te(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);$I(r,e,t),UI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bi(r,i)}catch(i){yield Yo(i)}})}function e5(n,e){return N(this,null,function*(){let t=W(n);Xo(t.remoteStore)||V("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(s){let a=W(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(r===-1)return void e.resolve();let i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){let i=fl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function UI(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function $I(n,e,t){let r=W(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function il(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||sF(n,r)})}function sF(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(nl(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),zI(n))}function eI(n,e,t){for(let r of t)r instanceof hg?(n.La.addReference(r.key,e),t5(n,r)):r instanceof fg?(V("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||sF(n,r.key)):X()}function t5(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(V("SyncEngine","New document in limbo: "+t),n.xa.add(r),zI(n))}function zI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new K(ke.fromString(e)),r=n.qa.next();n.Na.set(r,new X0(t)),n.Oa=n.Oa.insert(t,r),Sg(n.remoteStore,new Xc(wn(ll(t.path)),r,"TargetPurposeLimboResolution",Un.oe))}}function Bi(n,e,t){return N(this,null,function*(){let r=W(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=N0.Wi(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,u){return N(this,null,function*(){let d=W(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>A.forEach(u,m=>A.forEach(m.$i,v=>d.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>A.forEach(m.Ui,v=>d.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!Zo(f))throw f;V("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let v=d.os.get(m),_=v.snapshotVersion,E=v.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(m,E)}}})}(r.localStore,o))})}function n5(n,e){return N(this,null,function*(){let t=W(n);if(!t.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield q1(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new O(R.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bi(t,r.hs)}})}function r5(n,e){let t=W(n),r=t.Na.get(e);if(r&&r.va)return be().add(r.key);{let i=be(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function i5(n,e){return N(this,null,function*(){let t=W(n),r=yield ng(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&eI(t,e.targetId,i.wa),i})}function o5(n,e){return N(this,null,function*(){let t=W(n);return Q1(t.localStore,e).then(r=>Bi(t,r))})}function s5(n,e,t,r){return N(this,null,function*(){let i=W(n),o=yield function(a,c){let u=W(a),d=W(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Mn(f,c).next(m=>m?u.localDocuments.getDocuments(f,m):A.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?yield dl(i.remoteStore):t==="acknowledged"||t==="rejected"?($I(i,e,r||null),UI(i,e),function(a,c){W(W(a).mutationQueue).On(c)}(i.localStore,e)):X(),yield Bi(i,o)):V("SyncEngine","Cannot apply mutation batch with id: "+e)})}function a5(n,e){return N(this,null,function*(){let t=W(n);if(Ag(t),HI(t),e===!0&&t.Qa!==!0){let r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Rk(t,r.toArray());t.Qa=!0,yield H0(t.remoteStore,!0);for(let o of i)Sg(t.remoteStore,o)}else if(e===!1&&t.Qa!==!1){let r=[],i=Promise.resolve();t.Ma.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(il(t,s),tl(t.localStore,s,!0))),nl(t.remoteStore,s)}),yield i,yield Rk(t,r),function(s){let a=W(s);a.Na.forEach((c,u)=>{nl(a.remoteStore,u)}),a.La.pr(),a.Na=new Map,a.Oa=new st(K.comparator)}(t),t.Qa=!1,yield H0(t.remoteStore,!1)}})}function Rk(n,e,t){return N(this,null,function*(){let r=W(n),i=[],o=[];for(let s of e){let a,c=r.Ma.get(s);if(c&&c.length!==0){a=yield el(r.localStore,wn(c[0]));for(let u of c){let d=r.Fa.get(u),f=yield i5(r,d);f.snapshot&&o.push(f.snapshot)}}else{let u=yield K1(r.localStore,s);a=yield el(r.localStore,u),yield BI(r,aF(u),s,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(o),i})}function aF(n){return a1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function c5(n){return function(t){return W(W(t).persistence).Qi()}(W(n).localStore)}function l5(n,e,t,r){return N(this,null,function*(){let i=W(n);if(i.Qa)return void V("SyncEngine","Ignoring unexpected query state notification.");let o=i.Ma.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{let s=yield Q1(i.localStore,l1(o[0])),a=vd.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Tt.EMPTY_BYTE_STRING);yield Bi(i,s,a);break}case"rejected":yield tl(i.localStore,e,!0),il(i,e,r);break;default:X()}})}function u5(n,e,t){return N(this,null,function*(){let r=Ag(n);if(r.Qa){for(let i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){V("SyncEngine","Adding an already active target "+i);continue}let o=yield K1(r.localStore,i),s=yield el(r.localStore,o);yield BI(r,aF(o),s.targetId,!1,s.resumeToken),Sg(r.remoteStore,s)}for(let i of t)r.Ma.has(i)&&(yield tl(r.localStore,i,!1).then(()=>{nl(r.remoteStore,i),il(r,i)}).catch(Yo))}})}function Ag(n){let e=W(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z8.bind(null,e),e.Ca.d_=H8.bind(null,e.eventManager),e.Ca.$a=q8.bind(null,e.eventManager),e}function HI(n){let e=W(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J8.bind(null,e),e}function d5(n,e,t){let r=W(n);(function(o,s,a){return N(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(v,_){let E=W(v),T=Ct(_.createTime);return E.persistence.runTransaction("hasNewerBundle","readonly",k=>E.Gr.getBundleMetadata(k,_.id)).then(k=>!!k&&k.createTime.compareTo(T)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(rF(c));let u=new Y0(c,o.localStore,s.serializer),d=yield s.Ua();for(;d;){let m=yield u.la(d);m&&a._updateProgress(m),d=yield s.Ua()}let f=yield u.complete();return yield Bi(o,f.Ia,void 0),yield function(v,_){let E=W(v);return E.persistence.runTransaction("Save bundle","readwrite",T=>E.Gr.saveBundleMetadata(T,_))}(o.localStore,c),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(c){return Cr("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var tI=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return N(this,null,function*(){this.serializer=Pd(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return H1(this.persistence,new tg,t.initialUser,this.serializer)}Ga(t){return new Jm(eg.Zr,this.serializer)}Wa(t){return new og}terminate(){return N(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var mg=class n extends tI{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return N(this,null,function*(){yield Bv(n.prototype,this,"initialize").call(this,e),yield this.Ja.initialize(this,e),yield HI(this.Ja.syncEngine),yield dl(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(e){return H1(this.persistence,new tg,e.initialUser,this.serializer)}ja(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new g0(r,e.asyncQueue,t)}Ha(e,t){let r=new PE(t,this.persistence);return new NE(e.asyncQueue,r)}Ga(e){let t=PI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new R0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Z1(),Sm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new og}},nI=class n extends mg{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return N(this,null,function*(){yield Bv(n.prototype,this,"initialize").call(this,e);let t=this.Ja.syncEngine;this.sharedClientState instanceof ad&&(this.sharedClientState.syncEngine={no:s5.bind(null,t),ro:l5.bind(null,t),io:u5.bind(null,t),Qi:c5.bind(null,t),eo:o5.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.yi(r=>N(this,null,function*(){yield a5(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}Wa(e){let t=Z1();if(!ad.D(t))throw new O(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=PI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ad(t,e.asyncQueue,r,e.clientId,e.initialUser)}},qI=(()=>{class n{initialize(t,r){return N(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Mk(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=n5.bind(null,this.syncEngine),yield H0(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new W0}()}createDatastore(t){let r=Pd(t.databaseInfo.databaseId),i=function(s){return new V0(s)}(t.databaseInfo);return function(s,a,c,u){return new U0(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new z0(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>Mk(this.syncEngine,r,0),function(){return sg.D()?new sg:new O0}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,f){let m=new J0(o,s,a,c,u,d);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return N(this,null,function*(){var t,r;yield function(o){return N(this,null,function*(){let s=W(o);V("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield ul(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();function Nk(n,e=10240){let t=0;return{read(){return N(this,null,function*(){if(t<n.byteLength){let i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})},cancel(){return N(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var ol=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):It("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var rI=class{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Ut,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}getMetadata(){return N(this,null,function*(){return this.metadata.promise})}Ua(){return N(this,null,function*(){return yield this.getMetadata(),this.tu()})}tu(){return N(this,null,function*(){let e=yield this.nu();if(e===null)return null;let t=this.eu.decode(e),r=Number(t);isNaN(r)&&this.ru(`length string (${t}) is not valid number`);let i=yield this.iu(r);return new Q0(JSON.parse(i),e.length+r)})}su(){return this.buffer.findIndex(e=>e===123)}nu(){return N(this,null,function*(){for(;this.su()<0&&!(yield this.ou()););if(this.buffer.length===0)return null;let e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}iu(e){return N(this,null,function*(){for(;this.buffer.length<e;)(yield this.ou())&&this.ru("Reached the end of bundle when more is expected.");let t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){return N(this,null,function*(){let e=yield this.Xa.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var iI=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return N(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new O(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(i,o){return N(this,null,function*(){let s=W(i),a={documents:o.map(f=>_d(s.serializer,f))},c=yield s.Lo("BatchGetDocuments",s.serializer.databaseId,ke.emptyPath(),a,o.length),u=new Map;c.forEach(f=>{let m=g8(s.serializer,f);u.set(m.key.toString(),m)});let d=[];return o.forEach(f=>{let m=u.get(f.toString());te(!!m),d.push(m)}),d})}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ko(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return N(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=K.fromPath(r);this.mutations.push(new pd(i,this.precondition(i)))}),yield function(r,i){return N(this,null,function*(){let o=W(r),s={writes:i.map(a=>bd(o.serializer,a))};yield o.Mo("Commit",o.serializer.databaseId,ke.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw X();t=se.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new O(R.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(se.min())?_t.exists(!1):_t.updateTime(t):_t.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(se.min()))throw new O(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _t.updateTime(t)}return _t.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var oI=class{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new Dd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(()=>N(this,null,function*(){let e=new iI(this.datastore),t=this.cu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})}))}cu(e){try{let t=this.updateFunction(e);return!Ad(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!E1(t)}return!1}};var sI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>N(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>N(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=fl(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function wE(n,e){return N(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>N(this,null,function*(){r.isEqual(i)||(yield q1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Pk(n,e){return N(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield GI(n);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>xk(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>xk(e.remoteStore,i)),n._onlineComponents=e})}function GI(n){return N(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Cr("Error using user provided cache. Falling back to memory cache: "+t),yield wE(n,new tI)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield wE(n,new tI);return n._offlineComponents})}function Mg(n){return N(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield Pk(n,n._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield Pk(n,new qI))),n._onlineComponents})}function cF(n){return GI(n).then(e=>e.persistence)}function WI(n){return GI(n).then(e=>e.localStore)}function lF(n){return Mg(n).then(e=>e.remoteStore)}function KI(n){return Mg(n).then(e=>e.syncEngine)}function h5(n){return Mg(n).then(e=>e.datastore)}function sl(n){return N(this,null,function*(){let e=yield Mg(n),t=e.eventManager;return t.onListen=G8.bind(null,e.syncEngine),t.onUnlisten=K8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=W8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Q8.bind(null,e.syncEngine),t})}function f5(n){return n.asyncQueue.enqueue(()=>N(this,null,function*(){let e=yield cF(n),t=yield lF(n);return e.setNetworkEnabled(!0),function(i){let o=W(i);return o.L_.delete(0),kd(o)}(t)}))}function p5(n){return n.asyncQueue.enqueue(()=>N(this,null,function*(){let e=yield cF(n),t=yield lF(n);return e.setNetworkEnabled(!1),function(i){return N(this,null,function*(){let o=W(i);o.L_.add(0),yield ul(o),o.q_.set("Offline")})}(t)}))}function m5(n,e){let t=new Ut;return n.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return function(i,o,s){return N(this,null,function*(){try{let a=yield function(u,d){let f=W(u);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new O(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=fl(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield WI(n),e,t)})),t.promise}function uF(n,e,t={}){let r=new Ut;return n.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return function(o,s,a,c,u){let d=new ol({next:m=>{d.Za(),s.enqueueAndForget(()=>VI(o,f));let v=m.docs.has(a);!v&&m.fromCache?u.reject(new O(R.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&c&&c.source==="server"?u.reject(new O(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Cd(ll(a.path),d,{includeMetadataChanges:!0,_a:!0});return LI(o,f)}(yield sl(n),n.asyncQueue,e,t,r)})),r.promise}function g5(n,e){let t=new Ut;return n.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return function(i,o,s){return N(this,null,function*(){try{let a=yield ng(i,o,!0),c=new pg(o,a.Ts),u=c.ma(a.documents),d=c.applyChanges(u,!1);s.resolve(d.snapshot)}catch(a){let c=fl(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield WI(n),e,t)})),t.promise}function dF(n,e,t={}){let r=new Ut;return n.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return function(o,s,a,c,u){let d=new ol({next:m=>{d.Za(),s.enqueueAndForget(()=>VI(o,f)),m.fromCache&&c.source==="server"?u.reject(new O(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Cd(a,d,{includeMetadataChanges:!0,_a:!0});return LI(o,f)}(yield sl(n),n.asyncQueue,e,t,r)})),r.promise}function v5(n,e){let t=new ol(e);return n.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return function(i,o){W(i).Y_.add(o),o.next()}(yield sl(n),t)})),()=>{t.Za(),n.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return function(i,o){W(i).Y_.delete(o)}(yield sl(n),t)}))}}function y5(n,e,t,r){let i=function(s,a){let c;return c=typeof s=="string"?D1().encode(s):s,function(d,f){return new rI(d,f)}(function(d,f){if(d instanceof Uint8Array)return Nk(d,f);if(d instanceof ArrayBuffer)return Nk(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(t,Pd(e));n.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){d5(yield KI(n),i,r)}))}function _5(n,e){return n.asyncQueue.enqueue(()=>N(this,null,function*(){return function(r,i){let o=W(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,i))}(yield WI(n),e)}))}function hF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var kk=new Map;function QI(n,e,t){if(!t)throw new O(R.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YI(n,e,t,r){if(e===!0&&r===!0)throw new O(R.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Fk(n){if(!K.isDocumentKey(n))throw new O(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ok(n){if(K.isDocumentKey(n))throw new O(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":X()}function Le(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Rg(n);throw new O(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function fF(n,e){if(e<=0)throw new O(R.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var gg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ra=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EE;switch(r.type){case"firstParty":return new TE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return N(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=kk.get(t);r&&(V("ComponentProvider","Removing Datastore"),kk.delete(t),r.terminate())}(this),Promise.resolve()}};function pF(n,e,t,r={}){var i;let o=(n=Le(n,ra))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Pt.MOCK_USER;else{a=ZC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new O(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pt(u)}n._authCredentials=new IE(new Am(a,c))}}var Qt=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Je=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ei=class n extends Qt{constructor(e,t,r){super(e,t,ll(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function ZI(n,e,...t){if(n=ut(n),QI("collection","path",e),n instanceof ra){let r=ke.fromString(e,...t);return Ok(r),new ei(n,null,r)}{if(!(n instanceof Je||n instanceof ei))throw new O(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return Ok(r),new ei(n.firestore,null,r)}}function mF(n,e){if(n=Le(n,ra),QI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new O(R.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qt(n,null,function(r){return new Tr(ke.emptyPath(),r)}(e))}function Fd(n,e,...t){if(n=ut(n),arguments.length===1&&(e=Mm.newId()),QI("doc","path",e),n instanceof ra){let r=ke.fromString(e,...t);return Fk(r),new Je(n,null,new K(r))}{if(!(n instanceof Je||n instanceof ei))throw new O(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return Fk(r),new Je(n.firestore,n instanceof ei?n.converter:null,new K(r))}}function XI(n,e){return n=ut(n),e=ut(e),(n instanceof Je||n instanceof ei)&&(e instanceof Je||e instanceof ei)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function JI(n,e){return n=ut(n),e=ut(e),n instanceof Qt&&e instanceof Qt&&n.firestore===e.firestore&&Rd(n._query,e._query)&&n.converter===e.converter}var vg=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Dd(this,"async_queue_retry"),this.Vu=()=>{let r=Sm();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Sm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Sm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Ut;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return N(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zo(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw It("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=q0.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&X()}verifyOperationInProgress(){}wu(){return N(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function aI(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var cI=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ut,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var gF=-1,pt=class extends ra{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new vg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return N(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new vg(e),this._firestoreClient=void 0,yield e}})}};function Yt(n){if(n._terminated)throw new O(R.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vF(n),n._firestoreClient}function vF(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new kE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,hF(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new sI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}function yF(n,e){Cr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return bF(n,qI.provider,{build:r=>new mg(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function _F(n){return N(this,null,function*(){Cr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=n._freezeSettings();bF(n,qI.provider,{build:t=>new nI(t,e.cacheSizeBytes)})})}function bF(n,e,t){if((n=Le(n,pt))._firestoreClient||n._terminated)throw new O(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new O(R.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},vF(n)}function wF(n){if(n._initialized&&!n._terminated)throw new O(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Ut;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>N(this,null,function*(){try{yield function(r){return N(this,null,function*(){if(!Uo.D())return Promise.resolve();let i=r+"main";yield Uo.delete(i)})}(PI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function EF(n){return function(t){let r=new Ut;return t.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return e5(yield KI(t),r)})),r.promise}(Yt(n=Le(n,pt)))}function IF(n){return f5(Yt(n=Le(n,pt)))}function DF(n){return p5(Yt(n=Le(n,pt)))}function CF(n,e){let t=Yt(n=Le(n,pt)),r=new cI;return y5(t,n._databaseId,e,r),r}function TF(n,e){return _5(Yt(n=Le(n,pt)),e).then(t=>t?new Qt(n,null,t.query):null)}var ii=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Tt.fromBase64String(e))}catch(t){throw new O(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Sr=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new O(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Vi=class{constructor(e){this._methodName=e}};var ia=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}};var Td=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var b5=/^__.*__$/,lI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wo(e,this.data,t,this.fieldTransforms)}},yg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function xF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var _g=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(xF(this.Cu)&&b5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},uI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Pd(e)}Qu(e,t,r,i=!1){return new _g({Cu:e,methodName:t,qu:r,path:Dt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ca(n){let e=n._freezeSettings(),t=Pd(n._databaseId);return new uI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ng(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);nD("Data must be an object, but it was:",s,r);let a=MF(r,s),c,u;if(o.merge)c=new $n(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let m=mI(e,f,t);if(!s.contains(m))throw new O(R.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);NF(d,m)||d.push(m)}c=new $n(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new lI(new cn(a),c,u)}var xd=class n extends Vi{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function SF(n,e,t){return new _g({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var dI=class n extends Vi{_toFieldTransform(e){return new ea(e.path,new qo)}isEqual(e){return e instanceof n}},hI=class n extends Vi{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=SF(this,e,!0),r=this.Ku.map(o=>la(o,t)),i=new Oi(r);return new ea(e.path,i)}isEqual(e){return e instanceof n&&zv(this.Ku,e.Ku)}},fI=class n extends Vi{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=SF(this,e,!0),r=this.Ku.map(o=>la(o,t)),i=new Li(r);return new ea(e.path,i)}isEqual(e){return e instanceof n&&zv(this.Ku,e.Ku)}},pI=class n extends Vi{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){let t=new Go(e.serializer,m1(e.serializer,this.$u));return new ea(e.path,t)}isEqual(e){return e instanceof n&&this.$u===e.$u}};function eD(n,e,t,r){let i=n.Qu(1,e,t);nD("Data must be an object, but it was:",i,r);let o=[],s=cn.empty();aa(r,(c,u)=>{let d=rD(e,c,t);u=ut(u);let f=i.Nu(d);if(u instanceof xd)o.push(d);else{let m=la(u,f);m!=null&&(o.push(d),s.set(d,m))}});let a=new $n(o);return new yg(s,a,i.fieldTransforms)}function tD(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[mI(e,r,t)],c=[i];if(o.length%2!=0)throw new O(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(mI(e,o[m])),c.push(o[m+1]);let u=[],d=cn.empty();for(let m=a.length-1;m>=0;--m)if(!NF(u,a[m])){let v=a[m],_=c[m];_=ut(_);let E=s.Nu(v);if(_ instanceof xd)u.push(v);else{let T=la(_,E);T!=null&&(u.push(v),d.set(v,T))}}let f=new $n(u);return new yg(d,f,s.fieldTransforms)}function AF(n,e,t,r=!1){return la(t,n.Qu(r?4:3,e))}function la(n,e){if(RF(n=ut(n)))return nD("Unsupported field value:",e,n),MF(n,e);if(n instanceof Vi)return function(r,i){if(!xF(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=la(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ft.fromDate(r);return{timestampValue:Zc(i.serializer,o)}}if(r instanceof ft){let o=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zc(i.serializer,o)}}if(r instanceof ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:C1(i.serializer,r._byteString)};if(r instanceof Je){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:MI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Td)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return AI(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Rg(r)}`)}(n,e)}function MF(n,e){let t={};return Zk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(n,(r,i)=>{let o=la(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function RF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof ia||n instanceof ii||n instanceof Je||n instanceof Vi||n instanceof Td)}function nD(n,e,t){if(!RF(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Rg(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function mI(n,e,t){if((e=ut(e))instanceof Sr)return e._internalPath;if(typeof e=="string")return rD(n,e);throw bg("Field path arguments must be of type string or ",n,!1,void 0,t)}var w5=new RegExp("[~\\*/\\[\\]]");function rD(n,e,t){if(e.search(w5)>=0)throw bg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sr(...e.split("."))._internalPath}catch{throw bg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new O(R.INVALID_ARGUMENT,a+n+c)}function NF(n,e){return n.some(t=>t.isEqual(e))}var oa=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new gI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Pg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},gI=class extends oa{data(){return super.data()}};function Pg(n,e){return typeof e=="string"?rD(n,e):e instanceof Sr?e._internalPath:e._delegate._internalPath}function PF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new O(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sd=class{},sa=class extends Sd{};function Ui(n,e,...t){let r=[];e instanceof Sd&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof vI).length,a=o.filter(c=>c instanceof wg).length;if(s>1||s>0&&a>0)throw new O(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var wg=class n extends sa{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return zF(e._query,t),new Qt(e.firestore,e.converter,WE(e._query,t))}_parse(e){let t=ca(e.firestore);return function(o,s,a,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new O(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Vk(f,d);let v=[];for(let _ of f)v.push(Lk(c,o,_));m={arrayValue:{values:v}}}else m=Lk(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Vk(f,d),m=AF(a,s,f,d==="in"||d==="not-in");return Me.create(u,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function kF(n,e,t){let r=e,i=Pg("where",n);return wg._create(i,r,t)}var vI=class n extends Sd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:$e.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)zF(s,c),s=WE(s,c)}(e._query,t),new Qt(e.firestore,e.converter,WE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var yI=class n extends sa{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new O(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xs(o,s)}(e._query,this._field,this._direction);return new Qt(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Tr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function FF(n,e="asc"){let t=e,r=Pg("orderBy",n);return yI._create(r,t)}var Eg=class n extends sa{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Qt(e.firestore,e.converter,Bm(e._query,this._limit,this._limitType))}};function OF(n){return fF("limit",n),Eg._create("limit",n,"F")}function LF(n){return fF("limitToLast",n),Eg._create("limitToLast",n,"L")}var Ig=class n extends sa{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=$F(e,this.type,this._docOrFields,this._inclusive);return new Qt(e.firestore,e.converter,function(i,o){return new Tr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}};function VF(...n){return Ig._create("startAt",n,!0)}function jF(...n){return Ig._create("startAfter",n,!1)}var Dg=class n extends sa{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=$F(e,this.type,this._docOrFields,this._inclusive);return new Qt(e.firestore,e.converter,function(i,o){return new Tr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}};function BF(...n){return Dg._create("endBefore",n,!1)}function UF(...n){return Dg._create("endAt",n,!0)}function $F(n,e,t,r){if(t[0]=ut(t[0]),t[0]instanceof oa)return function(o,s,a,c,u){if(!c)throw new O(R.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of zc(o))if(f.field.isKeyField())d.push(Zs(s,c.key));else{let m=c.data.field(f.field);if(Tg(m))throw new O(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let v=f.field.canonicalString();throw new O(R.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(m)}return new ni(d,u)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=ca(n.firestore);return function(s,a,c,u,d,f){let m=s.explicitOrderBy;if(d.length>m.length)throw new O(R.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let v=[];for(let _=0;_<d.length;_++){let E=d[_];if(m[_].field.isKeyField()){if(typeof E!="string")throw new O(R.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof E}`);if(!xI(s)&&E.indexOf("/")!==-1)throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${E}' contains a slash.`);let T=s.path.child(ke.fromString(E));if(!K.isDocumentKey(T))throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);let k=new K(T);v.push(Zs(a,k))}else{let T=AF(c,u,E);v.push(T)}}return new ni(v,f)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Lk(n,e,t){if(typeof(t=ut(t))=="string"){if(t==="")throw new O(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xI(e)&&t.indexOf("/")!==-1)throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ke.fromString(t));if(!K.isDocumentKey(r))throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zs(n,new K(r))}if(t instanceof Je)return Zs(n,t._key);throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rg(t)}.`)}function Vk(n,e){if(!Array.isArray(n)||n.length===0)throw new O(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zF(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new O(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var al=class{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return aa(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>lt(s.doubleValue));return new Td(o)}convertGeoPoint(e){return new ia(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=CI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){let t=Fi(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ke.fromString(e);te(O1(r));let i=new zo(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||It(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function kg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var _I=class extends al{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,t)}};var ki=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},lr=class extends oa{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},jo=class extends lr{data(e={}){return super.data(e)}},Ar=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ki(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jo(this._firestore,this._userDataWriter,r.key,r,new ki(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new jo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new jo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:E5(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function E5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}function iD(n,e){return n instanceof lr&&e instanceof lr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ar&&e instanceof Ar&&n._firestore===e._firestore&&JI(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function HF(n){n=Le(n,Je);let e=Le(n.firestore,pt);return uF(Yt(e),n._key).then(t=>cD(e,n,t))}var ji=class extends al{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,t)}};function qF(n){n=Le(n,Je);let e=Le(n.firestore,pt),t=Yt(e),r=new ji(e);return m5(t,n._key).then(i=>new lr(e,r,n._key,i,new ki(i!==null&&i.hasLocalMutations,!0),n.converter))}function GF(n){n=Le(n,Je);let e=Le(n.firestore,pt);return uF(Yt(e),n._key,{source:"server"}).then(t=>cD(e,n,t))}function WF(n){n=Le(n,Qt);let e=Le(n.firestore,pt),t=Yt(e),r=new ji(e);return PF(n._query),dF(t,n._query).then(i=>new Ar(e,r,n,i))}function KF(n){n=Le(n,Qt);let e=Le(n.firestore,pt),t=Yt(e),r=new ji(e);return g5(t,n._query).then(i=>new Ar(e,r,n,i))}function QF(n){n=Le(n,Qt);let e=Le(n.firestore,pt),t=Yt(e),r=new ji(e);return dF(t,n._query,{source:"server"}).then(i=>new Ar(e,r,n,i))}function oD(n,e,t){n=Le(n,Je);let r=Le(n.firestore,pt),i=kg(n.converter,e,t);return pl(r,[Ng(ca(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,_t.none())])}function sD(n,e,t,...r){n=Le(n,Je);let i=Le(n.firestore,pt),o=ca(i),s;return s=typeof(e=ut(e))=="string"||e instanceof Sr?tD(o,"updateDoc",n._key,e,t,r):eD(o,"updateDoc",n._key,e),pl(i,[s.toMutation(n._key,_t.exists(!0))])}function YF(n){return pl(Le(n.firestore,pt),[new Ko(n._key,_t.none())])}function ZF(n,e){let t=Le(n.firestore,pt),r=Fd(n),i=kg(n.converter,e);return pl(t,[Ng(ca(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,_t.exists(!1))]).then(()=>r)}function aD(n,...e){var t,r,i;n=ut(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aI(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(aI(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(n instanceof Je)u=Le(n.firestore,pt),d=ll(n._key.path),c={next:f=>{e[s]&&e[s](cD(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=Le(n,Qt);u=Le(f.firestore,pt),d=f._query;let m=new ji(u);c={next:v=>{e[s]&&e[s](new Ar(u,m,f,v))},error:e[s+1],complete:e[s+2]},PF(n._query)}return function(m,v,_,E){let T=new ol(E),k=new Cd(v,T,_);return m.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return LI(yield sl(m),k)})),()=>{T.Za(),m.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return VI(yield sl(m),k)}))}}(Yt(u),d,a,c)}function XF(n,e){return v5(Yt(n=Le(n,pt)),aI(e)?e:{next:e})}function pl(n,e){return function(r,i){let o=new Ut;return r.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return Y8(yield KI(r),i,o)})),o.promise}(Yt(n),e)}function cD(n,e,t){let r=t.docs.get(e._key),i=new ji(n);return new lr(n,i,e._key,r,new ki(t.hasPendingWrites,t.fromCache),e.converter)}var I5={maxAttempts:5};var Cg=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ca(e)}set(e,t,r){this._verifyNotCommitted();let i=Lo(e,this._firestore),o=kg(i.converter,t,r),s=Ng(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,_t.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let o=Lo(e,this._firestore),s;return s=typeof(t=ut(t))=="string"||t instanceof Sr?tD(this._dataReader,"WriteBatch.update",o._key,t,r,i):eD(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,_t.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Lo(e,this._firestore);return this._mutations=this._mutations.concat(new Ko(t._key,_t.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Lo(n,e){if((n=ut(n)).firestore!==e)throw new O(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var bI=class extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=ca(t)}get(t){let r=Lo(t,this._firestore),i=new _I(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return X();let s=o[0];if(s.isFoundDocument())return new oa(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new oa(this._firestore,i,r._key,null,r.converter);throw X()})}set(t,r,i){let o=Lo(t,this._firestore),s=kg(o.converter,r,i),a=Ng(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(t,r,i,...o){let s=Lo(t,this._firestore),a;return a=typeof(r=ut(r))=="string"||r instanceof Sr?tD(this._dataReader,"Transaction.update",s._key,r,i,o):eD(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(t){let r=Lo(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=Lo(e,this._firestore),r=new ji(this._firestore);return super.get(e).then(i=>new lr(this._firestore,r,t._key,i._document,new ki(!1,!1),t.converter))}};function JF(n,e,t){n=Le(n,pt);let r=Object.assign(Object.assign({},I5),t);return function(o){if(o.maxAttempts<1)throw new O(R.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){let c=new Ut;return o.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){let u=yield h5(o);new oI(o.asyncQueue,u,a,s,c).au()})),c.promise}(Yt(n),i=>e(new bI(n,i)),r)}function eO(){return new xd("deleteField")}function tO(){return new dI("serverTimestamp")}function nO(...n){return new hI("arrayUnion",n)}function rO(...n){return new fI("arrayRemove",n)}function iO(n){return new pI("increment",n)}(function(e,t=!0){(function(i){cl=i})(eT),Ol(new is("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new pt(new DE(r.getProvider("auth-internal")),new SE(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new O(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Yi(OP,"4.7.3",e),Yi(OP,"4.7.3","esm2017")})();var D5="@firebase/firestore-compat",C5="0.3.38";function pD(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new O("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function oO(){if(typeof Uint8Array>"u")throw new O("unimplemented","Uint8Arrays are not available in this environment.")}function sO(){if(!Xk())throw new O("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Fg=class n{constructor(e){this._delegate=e}static fromBase64String(e){return sO(),new n(ii.fromBase64String(e))}static fromUint8Array(e){return oO(),new n(ii.fromUint8Array(e))}toBase64(){return sO(),this._delegate.toBase64()}toUint8Array(){return oO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function lD(n){return T5(n,["next","error","complete"])}function T5(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var uD=class{enableIndexedDbPersistence(e,t){return yF(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return _F(e._delegate)}clearIndexedDbPersistence(e){return wF(e._delegate)}},Og=class{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof zo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){pF(this._delegate,e,t,r)}enableNetwork(){return IF(this._delegate)}disableNetwork(){return DF(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,YI("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return EF(this._delegate)}onSnapshotsInSync(e){return XF(this._delegate,e)}get app(){if(!this._appCompat)throw new O("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vl(this,ZI(this._delegate,e))}catch(t){throw En(t,"collection()","Firestore.collection()")}}doc(e){try{return new oi(this,Fd(this._delegate,e))}catch(t){throw En(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fa(this,mF(this._delegate,e))}catch(t){throw En(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return JF(this._delegate,t=>e(new Lg(this,t)))}batch(){return Yt(this._delegate),new Vg(new Cg(this._delegate,e=>pl(this._delegate,e)))}loadBundle(e){return CF(this._delegate,e)}namedQuery(e){return TF(this._delegate,e).then(t=>t?new fa(this,t):null)}},ml=class extends al{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fg(new ii(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return oi.forKey(t,this.firestore,null)}};function x5(n){jk(n)}var Lg=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ml(e)}get(e){let t=ua(e);return this._delegate.get(t).then(r=>new da(this._firestore,new lr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){let i=ua(e);return r?(pD("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let o=ua(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){let t=ua(e);return this._delegate.delete(t),this}},Vg=class{constructor(e){this._delegate=e}set(e,t,r){let i=ua(e);return r?(pD("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let o=ua(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){let t=ua(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},gl=class n{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){let r=new jo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ha(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let r=n.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new n(e,new ml(e),t),i.set(t,o)),o}};gl.INSTANCES=new WeakMap;var oi=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ml(e)}static forPath(e,t,r){if(e.length%2!==0)throw new O("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new Je(t._delegate,r,new K(e)))}static forKey(e,t,r){return new n(t,new Je(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new vl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vl(this.firestore,ZI(this._delegate,e))}catch(t){throw En(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ut(e),e instanceof Je?XI(this._delegate,e):!1}set(e,t){t=pD("DocumentReference.set",t);try{return t?oD(this._delegate,e,t):oD(this._delegate,e)}catch(r){throw En(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?sD(this._delegate,e):sD(this._delegate,e,t,...r)}catch(i){throw En(i,"updateDoc()","DocumentReference.update()")}}delete(){return YF(this._delegate)}onSnapshot(...e){let t=aO(e),r=cO(e,i=>new da(this.firestore,new lr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return aD(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=qF(this._delegate):e?.source==="server"?t=GF(this._delegate):t=HF(this._delegate),t.then(r=>new da(this.firestore,new lr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(gl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function En(n,e,t){return n.message=n.message.replace(e,t),n}function aO(n){for(let e of n)if(typeof e=="object"&&!lD(e))return e;return{}}function cO(n,e){var t,r;let i;return lD(n[0])?i=n[0]:lD(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var da=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return iD(this._delegate,e._delegate)}},ha=class extends da{data(e){let t=this._delegate.data(e);return this._delegate._converter||Bk(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},fa=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ml(e)}where(e,t,r){try{return new n(this.firestore,Ui(this._delegate,kF(e,t,r)))}catch(i){throw En(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,Ui(this._delegate,FF(e,t)))}catch(r){throw En(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,Ui(this._delegate,OF(e)))}catch(t){throw En(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,Ui(this._delegate,LF(e)))}catch(t){throw En(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,Ui(this._delegate,VF(...e)))}catch(t){throw En(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,Ui(this._delegate,jF(...e)))}catch(t){throw En(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,Ui(this._delegate,BF(...e)))}catch(t){throw En(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,Ui(this._delegate,UF(...e)))}catch(t){throw En(t,"endAt()","Query.endAt()")}}isEqual(e){return JI(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=KF(this._delegate):e?.source==="server"?t=QF(this._delegate):t=WF(this._delegate),t.then(r=>new Od(this.firestore,new Ar(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let t=aO(e),r=cO(e,i=>new Od(this.firestore,new Ar(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return aD(this._delegate,t,r)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(gl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},dD=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ha(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},Od=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ha(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new dD(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ha(this._firestore,r))})}isEqual(e){return iD(this._delegate,e._delegate)}},vl=class n extends fa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new oi(this.firestore,e):null}doc(e){try{return e===void 0?new oi(this.firestore,Fd(this._delegate)):new oi(this.firestore,Fd(this._delegate,e))}catch(t){throw En(t,"doc()","CollectionReference.doc()")}}add(e){return ZF(this._delegate,e).then(t=>new oi(this.firestore,t))}isEqual(e){return XI(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(gl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function ua(n){return Le(n,Je)}var hD=class n{constructor(...e){this._delegate=new Sr(...e)}static documentId(){return new n(Dt.keyField().canonicalString())}isEqual(e){return e=ut(e),e instanceof Sr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var fD=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=tO();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=eO();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=nO(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=rO(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=iO(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var S5={Firestore:Og,GeoPoint:ia,Timestamp:ft,Blob:Fg,Transaction:Lg,WriteBatch:Vg,DocumentReference:oi,DocumentSnapshot:da,Query:fa,QueryDocumentSnapshot:ha,QuerySnapshot:Od,CollectionReference:vl,FieldPath:hD,FieldValue:fD,setLogLevel:x5,CACHE_SIZE_UNLIMITED:gF};function A5(n,e){n.INTERNAL.registerComponent(new is("firestore-compat",t=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},S5)))}function M5(n){A5(n,(e,t)=>new Og(e,t,new uD)),n.registerVersion(D5,C5)}M5(dn);function R5(n,e=cs){return new pe(t=>{let r;return e!=null?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}function lO(n,e){return R5(n,e)}function N5(n,e){return lO(n,e).pipe(pi(void 0),ql(),Y(t=>{let[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function vD(n,e){return lO(n,e).pipe(Y(t=>({payload:t,type:"query"})))}var jg=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let r=this.ref.collection(e),{ref:i,query:o}=pO(r,t);return new Ug(i,o,this.afs)}snapshotChanges(){return N5(this.ref,this.afs.schedulers.outsideAngular).pipe(Rn)}valueChanges(e={}){return this.snapshotChanges().pipe(Y(({payload:t})=>e.idField?De(B({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Te(this.ref.get(e)).pipe(Rn)}};function Bg(n,e){return vD(n,e).pipe(pi(void 0),ql(),Y(t=>{let[r,i]=t,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{let u=o.find(f=>f.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function uO(n,e,t){return Bg(n,t).pipe(us((r,i)=>P5(r,i.map(o=>o.payload),e),[]),Hl(),Y(r=>r.map(i=>({type:i.type,payload:i}))))}function P5(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=k5(n,r))}),n}function mD(n,e,t,...r){let i=n.slice();return i.splice(e,t,...r),i}function k5(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return mD(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return mD(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mD(n,e.oldIndex,1);break}return n}function dO(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var Ug=class{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Bg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Y(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(pi(void 0),ql(),at(([r,i])=>i.length>0||!r),Y(([,r])=>r),Rn)}auditTrail(e){return this.stateChanges(e).pipe(us((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=dO(e);return uO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rn)}valueChanges(e={}){return vD(this.query,this.afs.schedulers.outsideAngular).pipe(Y(t=>t.payload.docs.map(r=>e.idField?De(B({},r.data()),{[e.idField]:r.id}):r.data())),Rn)}get(e){return Te(this.query.get(e)).pipe(Rn)}add(e){return this.ref.add(e)}doc(e){return new jg(this.ref.doc(e),this.afs)}},gD=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?Bg(this.query,this.afs.schedulers.outsideAngular).pipe(Rn):Bg(this.query,this.afs.schedulers.outsideAngular).pipe(Y(t=>t.filter(r=>e.indexOf(r.type)>-1)),at(t=>t.length>0),Rn)}auditTrail(e){return this.stateChanges(e).pipe(us((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=dO(e);return uO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rn)}valueChanges(e={}){return vD(this.query,this.afs.schedulers.outsideAngular).pipe(Y(r=>r.payload.docs.map(i=>e.idField?B({[e.idField]:i.id},i.data()):i.data())),Rn)}get(e){return Te(this.query.get(e)).pipe(Rn)}},hO=new $("angularfire2.enableFirestorePersistence"),fO=new $("angularfire2.firestore.persistenceSettings"),F5=new $("angularfire2.firestore.settings"),O5=new $("angularfire2.firestore.use-emulator");function pO(n,e=t=>t){return{query:e(n),ref:n}}var Ld=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,o,s,a,c,u,d,f,m,v,_,E,T,k,U){this.schedulers=c;let F=Ku(t,a,r),G=d;f&&uE(F,a,m,_,E,T,v,k),[this.firestore,this.persistenceEnabled$]=vm(`${F.name}.firestore`,"AngularFirestore",F.name,()=>{let oe=a.runOutsideAngular(()=>F.firestore());if(o&&oe.settings(o),G&&oe.useEmulator(...G),i&&!Ms(s)){let Z=()=>{try{return Te(oe.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(I){return typeof console<"u"&&console.warn(I),ee(!1)}};return[oe,a.runOutsideAngular(Z)]}else return[oe,ee(!1)]},[o,G,i])}collection(t,r){let i;typeof t=="string"?i=this.firestore.collection(t):i=t;let{ref:o,query:s}=pO(i,r),a=this.schedulers.ngZone.run(()=>o);return new Ug(a,s,this)}collectionGroup(t,r){let i=r||(s=>s),o=this.firestore.collectionGroup(t);return new gD(i(o),this)}doc(t){let r;typeof t=="string"?r=this.firestore.doc(t):r=t;let i=this.schedulers.ngZone.run(()=>r);return new jg(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(P(Ac),P(Mc,8),P(hO,8),P(F5,8),P(rn),P(re),P(pm),P(fO,8),P(O5,8),P(Qu,8),P(iE,8),P(oE,8),P(sE,8),P(aE,8),P(cE,8),P(lE,8),P(Bs,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),mO=(()=>{class n{constructor(){dn.registerVersion("angularfire",Us.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:hO,useValue:!0},{provide:fO,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=fe({type:n});static \u0275inj=he({providers:[Ld]})}return n})();var ur=class n{constructor(e,t){this.afAuth=e;this.firestore=t}register(e,t,r){return Te(this.afAuth.createUserWithEmailAndPassword(e,t).then(i=>{if(i.user){let o=i.user.uid,s={uid:o,email:e,username:r,createdAt:new Date};return this.firestore.collection("users").doc(o).set(s)}return null}).catch(i=>{}))}login(e,t){return Te(this.afAuth.signInWithEmailAndPassword(e,t))}logout(){return Te(this.afAuth.signOut())}getCurrentUser(){return this.afAuth.authState}static \u0275fac=function(t){return new(t||n)(P(Qu),P(Ld))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function L5(n,e){if(n&1&&(ie(0,"p",8),ye(1),Q()),n&2){let t=Vt();ve(),Ts(t.errorMessage)}}var $g=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";errorMessage="";onLogin(){this.authService.login(this.email,this.password).subscribe({next:()=>{this.router.navigate(["/home"]),console.log("User login successful!")},error:e=>{this.errorMessage=e.message}})}static \u0275fac=function(t){return new(t||n)(j(ur),j(Kt))};static \u0275cmp=ze({type:n,selectors:[["app-login"]],standalone:!0,features:[He],decls:16,vars:4,consts:[["loginForm","ngForm"],[1,"login-container"],[3,"ngSubmit"],["appearance","fill"],["matInput","","type","email","required","","name","email",3,"ngModelChange","ngModel"],["matInput","","type","password","required","","name","password",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){if(t&1){let i=go();ie(0,"mat-card",1)(1,"h2"),ye(2,"Login"),Q(),ie(3,"form",2,0),Lt("ngSubmit",function(){return On(i),Ln(r.onLogin())}),ie(5,"mat-form-field",3)(6,"mat-label"),ye(7,"Email"),Q(),ie(8,"input",4),yo("ngModelChange",function(s){return On(i),Ss(r.email,s)||(r.email=s),Ln(s)}),Q()(),ie(9,"mat-form-field",3)(10,"mat-label"),ye(11,"Password"),Q(),ie(12,"input",5),yo("ngModelChange",function(s){return On(i),Ss(r.password,s)||(r.password=s),Ln(s)}),Q()(),ie(13,"button",6),ye(14," Login "),Q()(),Ze(15,L5,2,1,"p",7),Q()}if(t&2){let i=Cs(4);ve(8),vo("ngModel",r.email),ve(4),vo("ngModel",r.password),ve(),ot("disabled",i.invalid),ve(2),ot("ngIf",r.errorMessage)}},dependencies:[Mn,wo,rm,nm,bc,Xp,Jp,Hu,zu,Fs,Dc,Ic,js,um,Tc,hm,dm,Sc,xc],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:1rem}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.login-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d32f2f;margin-top:1rem;text-align:center}"]})};function V5(n,e){if(n&1&&(ie(0,"p",9),ye(1),Q()),n&2){let t=Vt();ve(),Ts(t.errorMessage)}}var zg=class n{constructor(e,t){this.authService=e;this.router=t}username="";email="";password="";errorMessage="";onRegister(){this.authService.register(this.email,this.password,this.username).subscribe({next:()=>{this.router.navigate(["/home"]),console.log("User registration successful!")},error:e=>{this.errorMessage=e.message}})}static \u0275fac=function(t){return new(t||n)(j(ur),j(Kt))};static \u0275cmp=ze({type:n,selectors:[["app-register"]],standalone:!0,features:[He],decls:20,vars:5,consts:[["registerForm","ngForm"],[1,"register-container"],[3,"ngSubmit"],["appearance","fill"],["matInput","","type","text","required","","name","username",3,"ngModelChange","ngModel"],["matInput","","type","email","required","","name","email",3,"ngModelChange","ngModel"],["matInput","","type","password","required","","name","password",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){if(t&1){let i=go();ie(0,"mat-card",1)(1,"h2"),ye(2,"Register"),Q(),ie(3,"form",2,0),Lt("ngSubmit",function(){return On(i),Ln(r.onRegister())}),ie(5,"mat-form-field",3)(6,"mat-label"),ye(7,"Username"),Q(),ie(8,"input",4),yo("ngModelChange",function(s){return On(i),Ss(r.username,s)||(r.username=s),Ln(s)}),Q()(),ie(9,"mat-form-field",3)(10,"mat-label"),ye(11,"Email"),Q(),ie(12,"input",5),yo("ngModelChange",function(s){return On(i),Ss(r.email,s)||(r.email=s),Ln(s)}),Q()(),ie(13,"mat-form-field",3)(14,"mat-label"),ye(15,"Password"),Q(),ie(16,"input",6),yo("ngModelChange",function(s){return On(i),Ss(r.password,s)||(r.password=s),Ln(s)}),Q()(),ie(17,"button",7),ye(18," Register "),Q()(),Ze(19,V5,2,1,"p",8),Q()}if(t&2){let i=Cs(4);ve(8),vo("ngModel",r.username),ve(4),vo("ngModel",r.email),ve(4),vo("ngModel",r.password),ve(),ot("disabled",i.invalid),ve(2),ot("ngIf",r.errorMessage)}},dependencies:[Mn,wo,rm,nm,bc,Xp,Jp,Hu,zu,Fs,Dc,Ic,js,um,Tc,hm,dm,xc],styles:[".register-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:1rem}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.register-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d32f2f;margin-top:1rem;text-align:center}"]})};var Hg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ze({type:n,selectors:[["app-forum"]],standalone:!0,features:[He],decls:2,vars:0,template:function(t,r){t&1&&(ie(0,"p"),ye(1,"forum works!"),Q())}})};function j5(n,e){n&1&&(ie(0,"div"),ye(1,"Loading user info..."),Q())}function B5(n,e){if(n&1&&(ie(0,"div")(1,"p")(2,"strong"),ye(3,"Username:"),Q(),ye(4),Q(),ie(5,"p")(6,"strong"),ye(7,"Created At:"),Q(),ye(8),hM(9,"date"),Q()()),n&2){let t=Vt(2);ve(4),xs(" ",t.userData.username,""),ve(4),xs(" ",fM(9,2,t.userData.createdAt==null?null:t.userData.createdAt.toDate())," ")}}function U5(n,e){if(n&1&&(ie(0,"div")(1,"p")(2,"strong"),ye(3,"Email:"),Q(),ye(4),Q(),Ze(5,B5,10,4,"div",1),Q()),n&2){let t=Vt();ve(4),xs(" ",t.user.email,""),ve(),ot("ngIf",t.userData)}}var qg=class n{constructor(e,t){this.authService=e;this.firestore=t}user;userData;authSub;userDocSub;ngOnInit(){this.authSub=this.authService.getCurrentUser().subscribe(e=>{this.user=e,this.user&&this.loadUserData(this.user.uid)})}loadUserData(e){this.userDocSub=this.firestore.collection("users").doc(e).valueChanges().subscribe(t=>{this.userData=t})}ngOnDestroy(){this.authSub&&this.authSub.unsubscribe(),this.userDocSub&&this.userDocSub.unsubscribe()}static \u0275fac=function(t){return new(t||n)(j(ur),j(Ld))};static \u0275cmp=ze({type:n,selectors:[["app-profile"]],standalone:!0,features:[He],decls:5,vars:2,consts:[[1,"profile-container"],[4,"ngIf"]],template:function(t,r){t&1&&(ie(0,"mat-card",0)(1,"h2"),ye(2,"Profile"),Q(),Ze(3,j5,2,0,"div",1)(4,U5,6,2,"div",1),Q()),t&2&&(ve(3),ot("ngIf",!r.user),ve(),ot("ngIf",r.user))},dependencies:[Mn,wo,VM,Dc,Ic,Sc],styles:[".profile-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:1rem}.profile-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}"]})};var Gg=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){return this.authService.getCurrentUser().pipe(Y(r=>r?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(P(ur),P(Kt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Wg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ze({type:n,selectors:[["app-home"]],standalone:!0,features:[He],decls:2,vars:0,template:function(t,r){t&1&&(ie(0,"p"),ye(1,"home works!"),Q())}})};var vO=[{path:"login",component:$g},{path:"register",component:zg},{path:"forum",component:Hg},{path:"home",component:Wg},{path:"profile",component:qg,canActivate:[Gg]},{path:"",redirectTo:"home",pathMatch:"full"}];var yO={apiKey:"AIzaSyC_JmI07NRM58GiFS8UMbBWaBdCDtWjDvg",authDomain:"eso-companion-app-89474.firebaseapp.com",projectId:"eso-companion-app-89474",storageBucket:"eso-companion-app-89474.firebasestorage.app",messagingSenderId:"854683071138",appId:"1:854683071138:web:fc3a2c53d422abbc91ddfb",measurementId:"G-6HZ3WH8WFV"};function _O(n){return new z(3e3,!1)}function $5(){return new z(3100,!1)}function z5(){return new z(3101,!1)}function H5(n){return new z(3001,!1)}function q5(n){return new z(3003,!1)}function G5(n){return new z(3004,!1)}function W5(n,e){return new z(3005,!1)}function K5(){return new z(3006,!1)}function Q5(){return new z(3007,!1)}function Y5(n,e){return new z(3008,!1)}function Z5(n){return new z(3002,!1)}function X5(n,e,t,r,i){return new z(3010,!1)}function J5(){return new z(3011,!1)}function e9(){return new z(3012,!1)}function t9(){return new z(3200,!1)}function n9(){return new z(3202,!1)}function r9(){return new z(3013,!1)}function i9(n){return new z(3014,!1)}function o9(n){return new z(3015,!1)}function s9(n){return new z(3016,!1)}function a9(n,e){return new z(3404,!1)}function c9(n){return new z(3502,!1)}function l9(n){return new z(3503,!1)}function u9(){return new z(3300,!1)}function d9(n){return new z(3504,!1)}function h9(n){return new z(3301,!1)}function f9(n,e){return new z(3302,!1)}function p9(n){return new z(3303,!1)}function m9(n,e){return new z(3400,!1)}function g9(n){return new z(3401,!1)}function v9(n){return new z(3402,!1)}function y9(n,e){return new z(3505,!1)}function Jo(n){switch(n.length){case 0:return new Ro;case 1:return n[0];default:return new Gu(n)}}function PO(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,f=d&&a||new Map;c.forEach((m,v)=>{let _=v,E=m;if(v!=="offset")switch(_=n.normalizePropertyName(_,i),E){case cm:E=t.get(v);break;case Qr:E=r.get(v);break;default:E=n.normalizeStyleValue(v,_,E,i);break}f.set(_,E)}),d||o.push(f),a=f,s=u}),i.length)throw c9(i);return o}function BD(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&yD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&yD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&yD(t,"destroy",n)));break}}function yD(n,e,t){let r=t.totalTime,i=!!t.disabled,o=UD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function UD(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Hn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function bO(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var _9=typeof document>"u"?null:document.documentElement;function $D(n){let e=n.parentNode||n.host||null;return e===_9?null:e}function b9(n){return n.substring(1,6)=="ebkit"}var pa=null,wO=!1;function w9(n){pa||(pa=E9()||{},wO=pa.style?"WebkitAppearance"in pa.style:!1);let e=!0;return pa.style&&!b9(n)&&(e=n in pa.style,!e&&wO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in pa.style)),e}function E9(){return typeof document<"u"?document.body:null}function kO(n,e){for(;e;){if(e===n)return!0;e=$D(e)}return!1}function FO(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var zD=(()=>{class n{validateStyleProperty(t){return w9(t)}containsElement(t,r){return kO(t,r)}getParentElement(t){return $D(t)}query(t,r,i){return FO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Ro(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),va=class{static{this.NOOP=new zD}},ya=class{};var I9=1e3,OO="{{",D9="}}",LO="ng-enter",DD="ng-leave",Kg="ng-trigger",Jg=".ng-trigger",EO="ng-animating",CD=".ng-animating";function $i(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TD(parseFloat(e[1]),e[2])}function TD(n,e){switch(e){case"s":return n*I9;default:return n}}function ev(n,e,t){return n.hasOwnProperty("duration")?n:C9(n,e,t)}function C9(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(_O(n)),{duration:0,delay:0,easing:""};i=TD(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=TD(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push($5()),a=!0),o<0&&(e.push(z5()),a=!0),a&&e.splice(c,0,_O(n))}return{duration:i,delay:o,easing:s}}function T9(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function si(n,e,t){e.forEach((r,i)=>{let o=HD(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function ga(n,e){e.forEach((t,r)=>{let i=HD(r);n.style[i]=""})}function jd(n){return Array.isArray(n)?n.length==1?n[0]:XN(n):n}function x9(n,e,t){let r=e.params||{},i=VO(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(H5(o))})}var xD=new RegExp(`${OO}\\s*(.+?)\\s*${D9}`,"g");function VO(n){let e=[];if(typeof n=="string"){let t;for(;t=xD.exec(n);)e.push(t[1]);xD.lastIndex=0}return e}function Ud(n,e,t){let r=`${n}`,i=r.replace(xD,(o,s)=>{let a=e[s];return a==null&&(t.push(q5(s)),a=""),a.toString()});return i==r?n:i}var S9=/-+([a-z0-9])/g;function HD(n){return n.replace(S9,(...e)=>e[1].toUpperCase())}function A9(n,e){return n===0||e===0}function M9(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,qD(n,a)))}}return e}function zn(n,e,t){switch(e.type){case _e.Trigger:return n.visitTrigger(e,t);case _e.State:return n.visitState(e,t);case _e.Transition:return n.visitTransition(e,t);case _e.Sequence:return n.visitSequence(e,t);case _e.Group:return n.visitGroup(e,t);case _e.Animate:return n.visitAnimate(e,t);case _e.Keyframes:return n.visitKeyframes(e,t);case _e.Style:return n.visitStyle(e,t);case _e.Reference:return n.visitReference(e,t);case _e.AnimateChild:return n.visitAnimateChild(e,t);case _e.AnimateRef:return n.visitAnimateRef(e,t);case _e.Query:return n.visitQuery(e,t);case _e.Stagger:return n.visitStagger(e,t);default:throw G5(e.type)}}function qD(n,e){return window.getComputedStyle(n)[e]}var R9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),tv=class extends ya{normalizePropertyName(e,t){return HD(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(R9.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(W5(e,r))}return s+o}};var nv="*";function N9(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>P9(r,t,e)):t.push(n),t}function P9(n,e,t){if(n[0]==":"){let c=k9(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(o9(n)),e;let i=r[1],o=r[2],s=r[3];e.push(IO(i,s));let a=i==nv&&s==nv;o[0]=="<"&&!a&&e.push(IO(s,i))}function k9(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(s9(n)),"* => *"}}var Qg=new Set(["true","1"]),Yg=new Set(["false","0"]);function IO(n,e){let t=Qg.has(n)||Yg.has(n),r=Qg.has(e)||Yg.has(e);return(i,o)=>{let s=n==nv||n==i,a=e==nv||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Qg.has(n):Yg.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Qg.has(e):Yg.has(e)),s&&a}}var jO=":self",F9=new RegExp(`s*${jO}s*,?`,"g");function BO(n,e,t,r){return new SD(n).build(e,t,r)}var DO="",SD=class{constructor(e){this._driver=e}build(e,t,r){let i=new AD(t);return this._resetContextStyleTimingState(i),zn(this,jd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=DO,e.collectedStyles=new Map,e.collectedStyles.set(DO,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(K5()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==_e.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==_e.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(Q5())}),{type:_e.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{VO(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(Y5(e.name,[...o.values()]))}return{type:_e.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=zn(this,jd(e.animation),t),i=N9(e.expr,t.errors);return{type:_e.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ma(e.options)}}visitSequence(e,t){return{type:_e.Sequence,steps:e.steps.map(r=>zn(this,r,t)),options:ma(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=zn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:_e.Group,steps:o,options:ma(e.options)}}visitAnimate(e,t){let r=j9(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Cc({});if(o.type==_e.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=Cc(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:_e.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Qr?r.push(a):t.errors.push(Z5(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(OO)>=0){o=!0;break}}}),{type:_e.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(X5(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(c,{startTime:o,endTime:i}),t.options&&x9(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:_e.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(J5()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(k=>{let U=this._makeStyleAst(k,t),F=U.offset!=null?U.offset:V9(U.styles),G=0;return F!=null&&(o++,G=U.offset=F),c=c||G<0||G>1,a=a||G<u,u=G,s.push(G),U});c&&t.errors.push(e9()),a&&t.errors.push(t9());let f=e.steps.length,m=0;o>0&&o<f?t.errors.push(n9()):o==0&&(m=i/(f-1));let v=f-1,_=t.currentTime,E=t.currentAnimateTimings,T=E.duration;return d.forEach((k,U)=>{let F=m>0?U==v?1:m*U:s[U],G=F*T;t.currentTime=_+E.delay+G,E.duration=G,this._validateStyleAst(k,t),k.offset=F,r.styles.push(k)}),r}visitReference(e,t){return{type:_e.Reference,animation:zn(this,jd(e.animation),t),options:ma(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:_e.AnimateChild,options:ma(e.options)}}visitAnimateRef(e,t){return{type:_e.AnimateRef,animation:this.visitReference(e.animation,t),options:ma(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=O9(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Hn(t.collectedStyles,t.currentQuerySelector,new Map);let a=zn(this,jd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:_e.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ma(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(r9());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:ev(e.timings,t.errors,!0);return{type:_e.Stagger,animation:zn(this,jd(e.animation),t),timings:r,options:null}}};function O9(n){let e=!!n.split(/\s*,\s*/).find(t=>t==jO);return e&&(n=n.replace(F9,"")),n=n.replace(/@\*/g,Jg).replace(/@\w+/g,t=>Jg+"-"+t.slice(1)).replace(/:animating/g,CD),[n,e]}function L9(n){return n?B({},n):null}var AD=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function V9(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function j9(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=ev(n,e).duration;return _D(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=_D(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=ev(t,e);return _D(i.duration,i.delay,i.easing)}function ma(n){return n?(n=B({},n),n.params&&(n.params=L9(n.params))):n={},n}function _D(n,e,t){return{duration:n,delay:e,easing:t}}function GD(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var $d=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},B9=1,U9=":enter",$9=new RegExp(U9,"g"),z9=":leave",H9=new RegExp(z9,"g");function UO(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new MD().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var MD=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new $d;let f=new RD(e,t,u,i,o,d,[]);f.options=c;let m=c.delay?$i(c.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([s],null,f.errors,c),zn(this,r,f);let v=f.timelines.filter(_=>_.containsAnimation());if(v.length&&a.size){let _;for(let E=v.length-1;E>=0;E--){let T=v[E];if(T.element===t){_=T;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,f.errors,c)}return v.length?v.map(_=>_.buildKeyframes()):[GD(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:$i(Ud(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?$i(r.duration):null,a=r.delay!=null?$i(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),zn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==_e.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=rv);let s=$i(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>zn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?$i(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),zn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Ud(r,t.params,t.errors):r;return ev(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==_e.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?$i(i.delay):0;o&&(t.previousNode.type===_e.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rv);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(c=f.currentTimeline),zn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let m=f.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;zn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},rv={},RD=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new iv(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=$i(r.duration)),r.delay!=null&&(i.delay=$i(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Ud(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=rv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new ND(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace($9,"."+this._enterClassName),e=e.replace(H9,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(i9(t)),a}},iv=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=B9,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Qr),this._currentKeyframe.set(t,Qr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=q9(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Ud(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Qr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===cm?e.add(f):d===Qr&&t.add(f)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return GD(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},ND=class extends iv{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",CO(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let m=new Map(e[f]),v=m.get("offset"),_=t+v*r;m.set("offset",CO(_/s)),o.push(m)}r=s,t=0,i="",e=o}return GD(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function CO(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function q9(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Qr)}else for(let[o,s]of i)t.set(o,s)}),t}function TO(n,e,t,r,i,o,s,a,c,u,d,f,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:m}}var bD={},ov=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return G9(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let f=[],m=this.ast.options&&this.ast.options.params||bD,v=a&&a.params||bD,_=this.buildStyles(r,v,f),E=c&&c.params||bD,T=this.buildStyles(i,E,f),k=new Set,U=new Map,F=new Map,G=i==="void",oe={params:$O(E,m),delay:this.ast.options?.delay},Z=d?[]:UO(e,t,this.ast.animation,o,s,_,T,oe,u,f),I=0;return Z.forEach(y=>{I=Math.max(y.duration+y.delay,I)}),f.length?TO(t,this._triggerName,r,i,G,_,T,[],[],U,F,I,f):(Z.forEach(y=>{let b=y.element,D=Hn(U,b,new Set);y.preStyleProps.forEach(S=>D.add(S));let C=Hn(F,b,new Set);y.postStyleProps.forEach(S=>C.add(S)),b!==t&&k.add(b)}),TO(t,this._triggerName,r,i,G,_,T,Z,[...k.values()],U,F,I))}};function G9(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function $O(n,e){let t=B({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var PD=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=$O(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Ud(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function W9(n,e,t){return new kD(n,e,t)}var kD=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new PD(i.style,o,r))}),xO(this.states,"true","1"),xO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ov(e,i,this.states))}),this.fallbackTransition=K9(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function K9(n,e,t){let r=[(s,a)=>!0],i={type:_e.Sequence,steps:[],options:null},o={type:_e.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new ov(n,o,e)}function xO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var Q9=new $d,FD=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=BO(this._driver,t,r,i);if(r.length)throw l9(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=PO(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=UO(this._driver,t,o,LO,DD,new Map,new Map,r,Q9,i),s.forEach(d=>{let f=Hn(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(i.push(u9()),s=[]),i.length)throw d9(i);a.forEach((d,f)=>{d.forEach((m,v)=>{d.set(v,this._driver.computeStyle(f,v,Qr))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=Jo(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw h9(e);return t}listen(e,t,r,i){let o=UD(t,"","","");return BD(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},SO="ng-animate-queued",Y9=".ng-animate-queued",wD="ng-animate-disabled",Z9=".ng-animate-disabled",X9="ng-star-inserted",J9=".ng-star-inserted",e6=[],zO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},t6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mr="__ng_removed",zd=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=r6(i),r){let o=e,{value:s}=o,a=jv(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Bd="void",ED=new zd(Bd),OD=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,dr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw f9(r,t);if(r==null||r.length==0)throw p9(t);if(!i6(r))throw m9(r,t);let o=Hn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Hn(this._engine.statesByElement,e,new Map);return a.has(t)||(dr(e,Kg),dr(e,Kg+"-"+t),a.set(t,ED)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw g9(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Hd(this.id,t,e),a=this._engine.statesByElement.get(e);a||(dr(e,Kg),dr(e,Kg+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new zd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=ED),!(u.value===Bd)&&c.value===u.value){if(!a6(c.params,u.params)){let E=[],T=o.matchStyles(c.value,c.params,E),k=o.matchStyles(u.value,u.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{ga(e,T),si(e,k)})}return}let m=Hn(this._engine.playersByElement,e,[]);m.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let v=o.matchTransition(c.value,u.value,e,u.params),_=!1;if(!v){if(!i)return;v=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:u,player:s,isFallbackTransition:_}),_||(dr(e,SO),s.onStart(()=>{_l(e,SO)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);let T=this._engine.playersByElement.get(e);if(T){let k=T.indexOf(s);k>=0&&T.splice(k,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Jg,!0);r.forEach(i=>{if(i[Mr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,Bd,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Jo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||ED,d=new zd(Bd),f=new Hd(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Mr];(!o||o===zO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){dr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=UD(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,BD(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},LD=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new OD(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Zg(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Zg(t))return;let o=t[Mr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),dr(e,wD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),_l(e,wD))}removeNode(e,t,r){if(Zg(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Mr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Zg(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Jg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,CD,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Jo(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Mr];if(t&&t.setForRemoval){if(e[Mr]=zO,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(wD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Z9,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];dr(i,X9)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Jo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw v9(e)}_flushAnimations(e,t){let r=new $d,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(J=>{d.add(J);let ne=this.driver.query(J,Y9,!0);for(let ae=0;ae<ne.length;ae++)d.add(ne[ae])});let f=this.bodyNode,m=Array.from(this.statesByElement.keys()),v=RO(m,this.collectedEnterElements),_=new Map,E=0;v.forEach((J,ne)=>{let ae=LO+E++;_.set(ne,ae),J.forEach(xe=>dr(xe,ae))});let T=[],k=new Set,U=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){let ne=this.collectedLeaveElements[J],ae=ne[Mr];ae&&ae.setForRemoval&&(T.push(ne),k.add(ne),ae.hasAnimation?this.driver.query(ne,J9,!0).forEach(xe=>k.add(xe)):U.add(ne))}let F=new Map,G=RO(m,Array.from(k));G.forEach((J,ne)=>{let ae=DD+E++;F.set(ne,ae),J.forEach(xe=>dr(xe,ae))}),e.push(()=>{v.forEach((J,ne)=>{let ae=_.get(ne);J.forEach(xe=>_l(xe,ae))}),G.forEach((J,ne)=>{let ae=F.get(ne);J.forEach(xe=>_l(xe,ae))}),T.forEach(J=>{this.processLeaveNode(J)})});let oe=[],Z=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(t).forEach(ae=>{let xe=ae.player,bt=ae.element;if(oe.push(xe),this.collectedEnterElements.length){let gt=bt[Mr];if(gt&&gt.setForMove){if(gt.previousTriggersValues&&gt.previousTriggersValues.has(ae.triggerName)){let ai=gt.previousTriggersValues.get(ae.triggerName),In=this.statesByElement.get(ae.element);if(In&&In.has(ae.triggerName)){let ci=In.get(ae.triggerName);ci.value=ai,In.set(ae.triggerName,ci)}}xe.destroy();return}}let Gn=!f||!this.driver.containsElement(f,bt),mt=F.get(bt),et=_.get(bt),tt=this._buildInstruction(ae,r,et,mt,Gn);if(tt.errors&&tt.errors.length){Z.push(tt);return}if(Gn){xe.onStart(()=>ga(bt,tt.fromStyles)),xe.onDestroy(()=>si(bt,tt.toStyles)),i.push(xe);return}if(ae.isFallbackTransition){xe.onStart(()=>ga(bt,tt.fromStyles)),xe.onDestroy(()=>si(bt,tt.toStyles)),i.push(xe);return}let qi=[];tt.timelines.forEach(gt=>{gt.stretchStartingKeyframe=!0,this.disabledNodes.has(gt.element)||qi.push(gt)}),tt.timelines=qi,r.append(bt,tt.timelines);let pv={instruction:tt,player:xe,element:bt};s.push(pv),tt.queriedElements.forEach(gt=>Hn(a,gt,[]).push(xe)),tt.preStyleProps.forEach((gt,ai)=>{if(gt.size){let In=c.get(ai);In||c.set(ai,In=new Set),gt.forEach((ci,Gi)=>In.add(Gi))}}),tt.postStyleProps.forEach((gt,ai)=>{let In=u.get(ai);In||u.set(ai,In=new Set),gt.forEach((ci,Gi)=>In.add(Gi))})});if(Z.length){let J=[];Z.forEach(ne=>{J.push(y9(ne.triggerName,ne.errors))}),oe.forEach(ne=>ne.destroy()),this.reportError(J)}let I=new Map,y=new Map;s.forEach(J=>{let ne=J.element;r.has(ne)&&(y.set(ne,ne),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,I))}),i.forEach(J=>{let ne=J.element;this._getPreviousPlayers(ne,!1,J.namespaceId,J.triggerName,null).forEach(xe=>{Hn(I,ne,[]).push(xe),xe.destroy()})});let b=T.filter(J=>NO(J,c,u)),D=new Map;MO(D,this.driver,U,u,Qr).forEach(J=>{NO(J,c,u)&&b.push(J)});let S=new Map;v.forEach((J,ne)=>{MO(S,this.driver,new Set(J),c,cm)}),b.forEach(J=>{let ne=D.get(J),ae=S.get(J);D.set(J,new Map([...ne?.entries()??[],...ae?.entries()??[]]))});let w=[],qn=[],Hi={};s.forEach(J=>{let{element:ne,player:ae,instruction:xe}=J;if(r.has(ne)){if(d.has(ne)){ae.onDestroy(()=>si(ne,xe.toStyles)),ae.disabled=!0,ae.overrideTotalTime(xe.totalTime),i.push(ae);return}let bt=Hi;if(y.size>1){let mt=ne,et=[];for(;mt=mt.parentNode;){let tt=y.get(mt);if(tt){bt=tt;break}et.push(mt)}et.forEach(tt=>y.set(tt,bt))}let Gn=this._buildAnimation(ae.namespaceId,xe,I,o,S,D);if(ae.setRealPlayer(Gn),bt===Hi)w.push(ae);else{let mt=this.playersByElement.get(bt);mt&&mt.length&&(ae.parentPlayer=Jo(mt)),i.push(ae)}}else ga(ne,xe.fromStyles),ae.onDestroy(()=>si(ne,xe.toStyles)),qn.push(ae),d.has(ne)&&i.push(ae)}),qn.forEach(J=>{let ne=o.get(J.element);if(ne&&ne.length){let ae=Jo(ne);J.setRealPlayer(ae)}}),i.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<T.length;J++){let ne=T[J],ae=ne[Mr];if(_l(ne,DD),ae&&ae.hasAnimation)continue;let xe=[];if(a.size){let Gn=a.get(ne);Gn&&Gn.length&&xe.push(...Gn);let mt=this.driver.query(ne,CD,!0);for(let et=0;et<mt.length;et++){let tt=a.get(mt[et]);tt&&tt.length&&xe.push(...tt)}}let bt=xe.filter(Gn=>!Gn.destroyed);bt.length?o6(this,ne,bt):this.processLeaveNode(ne)}return T.length=0,w.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();let ne=this.players.indexOf(J);this.players.splice(ne,1)}),J.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Bd;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,f=Hn(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(v=>{let _=v.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),v.destroy(),f.push(v)})}ga(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,f=new Set,m=t.timelines.map(_=>{let E=_.element;d.add(E);let T=E[Mr];if(T&&T.removedBeforeQueried)return new Ro(_.duration,_.delay);let k=E!==c,U=s6((r.get(E)||e6).map(I=>I.getRealPlayer())).filter(I=>{let y=I;return y.element?y.element===E:!1}),F=o.get(E),G=s.get(E),oe=PO(this._normalizer,_.keyframes,F,G),Z=this._buildPlayer(_,oe,U);if(_.subTimeline&&i&&f.add(E),k){let I=new Hd(e,a,E);I.setRealPlayer(Z),u.push(I)}return Z});u.forEach(_=>{Hn(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>n6(this.playersByQueriedElement,_.element,_))}),d.forEach(_=>dr(_,EO));let v=Jo(m);return v.onDestroy(()=>{d.forEach(_=>_l(_,EO)),si(c,t.toStyles)}),f.forEach(_=>{Hn(i,_,[]).push(v)}),v}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ro(e.duration,e.delay)}},Hd=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ro,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>BD(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Hn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function n6(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function r6(n){return n??null}function Zg(n){return n&&n.nodeType===1}function i6(n){return n=="start"||n=="done"}function AO(n,e){let t=n.style.display;return n.style.display=e??"none",t}function MO(n,e,t,r,i){let o=[];t.forEach(c=>o.push(AO(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(f=>{let m=e.computeStyle(u,f,i);d.set(f,m),(!m||m.length==0)&&(u[Mr]=t6,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>AO(c,o[a++])),s}function RO(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function dr(n,e){n.classList?.add(e)}function _l(n,e){n.classList?.remove(e)}function o6(n,e,t){Jo(t).onDone(()=>n.processLeaveNode(e))}function s6(n){let e=[];return HO(n,e),e}function HO(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Gu?HO(r.players,e):e.push(r)}}function a6(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function NO(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var bl=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new LD(e.body,t,r),this._timelineEngine=new FD(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=BO(this._driver,o,c,u);if(c.length)throw a9(i,c);u.length&&void 0,a=W9(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=bO(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=bO(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function c6(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ID(e[0]),e.length>1&&(r=ID(e[e.length-1]))):e instanceof Map&&(t=ID(e)),t||r?new VD(n,t,r):null}var VD=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&si(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(si(this._element,this._initialStyles),this._endStyles&&(si(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ga(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ga(this._element,this._endStyles),this._endStyles=null),si(this._element,this._initialStyles),this._state=3)}};function ID(n){let e=null;return n.forEach((t,r)=>{l6(r)&&(e=e||new Map,e.set(r,t))}),e}function l6(n){return n==="display"||n==="position"}var sv=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:qD(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},av=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return kO(e,t)}getParentElement(e){return $D(e)}query(e,t,r){return FO(e,t,r)}computeStyle(e,t,r){return qD(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(v=>v instanceof sv);A9(r,i)&&d.forEach(v=>{v.currentSnapshot.forEach((_,E)=>u.set(E,_))});let f=T9(t).map(v=>new Map(v));f=M9(e,f,u);let m=c6(e,f);return new sv(e,f,c,m)}};var Xg="@",qO="@.disabled",cv=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Xg&&t==qO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},jD=class extends cv{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Xg?t.charAt(1)=="."&&t==qO?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==Xg){let i=u6(e),o=t.slice(1),s="";return o.charAt(0)!=Xg&&([o,s]=d6(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};function u6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function d6(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var lv=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new cv(r,i,this.engine,f),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new jD(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var f6=(()=>{class n extends bl{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(P(Oe),P(va),P(ya))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function p6(){return new tv}function m6(n,e,t){return new lv(n,e,t)}var WO=[{provide:ya,useFactory:p6},{provide:bl,useClass:f6},{provide:co,useFactory:m6,deps:[vp,bl,re]}],GO=[{provide:va,useFactory:()=>new av},{provide:Ur,useValue:"BrowserAnimations"},...WO],g6=[{provide:va,useClass:zD},{provide:Ur,useValue:"NoopAnimations"},...WO],KO=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?g6:GO}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({providers:GO,imports:[eR]})}}return n})();var QO={providers:[_M({eventCoalescing:!0}),GR(vO),N_(RP.initializeApp(yO),NP,mO,KO)]};var v6=["*",[["mat-toolbar-row"]]],y6=["*","mat-toolbar-row"],_6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ae({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),YO=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(r){return new(r||n)(j(Fe),j(Et),j(Oe))}}static{this.\u0275cmp=ze({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,i,o){if(r&1&&Ii(o,_6,5),r&2){let s;jt(s=Bt())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,i){r&2&&(rc(i.color?"mat-"+i.color:""),ct("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[He],ngContentSelectors:y6,decls:2,vars:0,template:function(r,i){r&1&&(nr(v6),ht(0),ht(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})();var ZO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({imports:[Mt,Mt]})}}return n})();var w6=["*"],uv;function E6(){if(uv===void 0&&(uv=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(uv=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return uv}function qd(n){return E6()?.createHTML(n)||n}function XO(n){return Error(`Unable to find icon with the name "${n}"`)}function I6(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function JO(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function eL(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var zi=class{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},D6=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new zi(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){let s=this._sanitizer.sanitize(on.HTML,i);if(!s)throw eL(i);let a=qd(s);return this._addSvgIconConfig(t,r,new zi("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new zi(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let o=this._sanitizer.sanitize(on.HTML,r);if(!o)throw eL(r);let s=qd(o);return this._addSvgIconSetConfig(t,new zi("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(on.RESOURCE_URL,t);if(!r)throw JO(t);let i=this._cachedIconsByUrl.get(r);return i?ee(dv(i)):this._loadSvgIconFromConfig(new zi(t,null)).pipe(it(o=>this._cachedIconsByUrl.set(r,o)),Y(o=>dv(o)))}getNamedSvgIcon(t,r=""){let i=tL(r,t),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):Zi(XO(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ee(dv(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Y(r=>dv(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return ee(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Pr(a=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(on.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(u)),ee(null)})));return $l(o).pipe(Y(()=>{let s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw XO(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(it(r=>t.svgText=r),Y(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ee(null):this._fetchIcon(t).pipe(it(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let o=t.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(qd("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(qd("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw I6();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(on.RESOURCE_URL,r);if(!s)throw JO(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Y(u=>qd(u)),to(()=>this._inProgressUrlFetches.delete(s)),Gl());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(tL(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,t);if(o)return C6(o)?new zi(o.url,null,o.options):new zi(o,null)}}static{this.\u0275fac=function(r){return new(r||n)(P(qM,8),P(jb),P(Oe,8),P(kn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dv(n){return n.cloneNode(!0)}function tL(n,e){return n+":"+e}function C6(n){return!!(n.url&&n.options)}var T6=new $("MAT_ICON_DEFAULT_OPTIONS"),x6=new $("mat-icon-location",{providedIn:"root",factory:S6});function S6(){let n=L(Oe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var nL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],A6=nL.map(n=>`[${n}]`).join(", "),M6=/^url\(['"]?#(.*?)['"]?\)$/,rL=(()=>{class n{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,o,s,a){this._elementRef=t,this._iconRegistry=r,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ge.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(A6),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)nL.forEach(s=>{let a=r[o],c=a.getAttribute(s),u=c?c.match(M6):null;if(u){let d=i.get(a);d||(d=[],i.set(a,d)),d.push({name:s,value:u[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Cn(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static{this.\u0275fac=function(r){return new(r||n)(j(Fe),j(D6),ec("aria-hidden"),j(x6),j(kn),j(T6,8))}}static{this.\u0275cmp=ze({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(sn("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),rc(i.color?"mat-"+i.color:""),ct("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Wt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[br,He],ngContentSelectors:w6,decls:1,vars:0,template:function(r,i){r&1&&(nr(),ht(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),iL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=he({imports:[Mt,Mt]})}}return n})();function N6(n,e){n&1&&(ie(0,"button",8)(1,"mat-icon"),ye(2,"login"),Q(),ye(3," Login "),Q())}function P6(n,e){n&1&&(ie(0,"button",9)(1,"mat-icon"),ye(2,"person_add"),Q(),ye(3," Register "),Q())}function k6(n,e){n&1&&(ie(0,"button",10)(1,"mat-icon"),ye(2,"person"),Q(),ye(3," Profile "),Q())}function F6(n,e){if(n&1){let t=go();ie(0,"button",11),Lt("click",function(){On(t);let i=Vt();return Ln(i.onLogout())}),ie(1,"mat-icon"),ye(2,"exit_to_app"),Q(),ye(3," Logout "),Q()}}var hv=class n{constructor(e,t){this.authService=e;this.router=t}isLoggedIn=!1;userSub;ngOnInit(){this.userSub=this.authService.getCurrentUser().subscribe(e=>{this.isLoggedIn=!!e})}ngOnDestroy(){this.userSub&&this.userSub.unsubscribe()}onLogout(){this.authService.logout().subscribe(()=>{this.isLoggedIn=!1,this.router.navigate(["/home"])})}static \u0275fac=function(t){return new(t||n)(j(ur),j(Kt))};static \u0275cmp=ze({type:n,selectors:[["app-navbar"]],standalone:!0,features:[He],decls:14,vars:4,consts:[["color","primary",1,"navbar-container"],["mat-button","","routerLink","/"],["mat-button","","routerLink","/forum"],["mat-button","","routerLink","/login",4,"ngIf"],["mat-button","","routerLink","/register",4,"ngIf"],[1,"spacer"],["mat-button","","routerLink","/profile",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","routerLink","/login"],["mat-button","","routerLink","/register"],["mat-button","","routerLink","/profile"],["mat-button","",3,"click"]],template:function(t,r){t&1&&(ie(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon"),ye(3,"home"),Q(),ye(4," Home"),Q(),ie(5,"button",2)(6,"mat-icon"),ye(7,"forum"),Q(),ye(8," Forum "),Q(),Ze(9,N6,4,0,"button",3)(10,P6,4,0,"button",4),zt(11,"span",5),Ze(12,k6,4,0,"button",6)(13,F6,4,0,"button",7),Q()),t&2&&(ve(9),ot("ngIf",!r.isLoggedIn),ve(),ot("ngIf",!r.isLoggedIn),ve(2),ot("ngIf",r.isLoggedIn),ve(),ot("ngIf",r.isLoggedIn))},dependencies:[Mn,wo,ZR,HR,ZO,YO,Sc,xc,iL,rL],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]})};var fv=class n{title="eso-companion-app";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ze({type:n,selectors:[["app-root"]],standalone:!0,features:[He],decls:2,vars:0,template:function(t,r){t&1&&zt(0,"app-navbar")(1,"router-outlet")},dependencies:[vw,hv]})};XM(fv,QO).catch(n=>console.error(n));
