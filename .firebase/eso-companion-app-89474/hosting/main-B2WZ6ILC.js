import{A as Pt,a as U,b as De,c as Jy,d as ev,e as M,f as TC,g as _h,h as CC,i as xC,j as SC,k as tv,l as bh,m as ql,n as nv,o as wh,p as Eh,q as AC,r as rv,s as je,t as dr,u as Nr,v as Ih,w as os,x as Dh,y as MC,z as hr}from"./chunk-DA3O343V.js";function RC(n,e){return Object.is(n,e)}var Ft=null,Th=!1,Ch=1,fr=Symbol("SIGNAL");function Me(n){let e=Ft;return Ft=n,e}function NC(){return Ft}var Wl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function sv(n){if(Th)throw new Error("");if(Ft===null)return;Ft.consumerOnSignalRead(n);let e=Ft.nextProducerIndex++;if(Mh(Ft),e<Ft.producerNode.length&&Ft.producerNode[e]!==n&&Gl(Ft)){let t=Ft.producerNode[e];Ah(t,Ft.producerIndexOfThis[e])}Ft.producerNode[e]!==n&&(Ft.producerNode[e]=n,Ft.producerIndexOfThis[e]=Gl(Ft)?OC(n,Ft,e):0),Ft.producerLastReadVersion[e]=n.version}function zV(){Ch++}function kC(n){if(!(Gl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ch)){if(!n.producerMustRecompute(n)&&!cv(n)){n.dirty=!1,n.lastCleanEpoch=Ch;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Ch}}function PC(n){if(n.liveConsumerNode===void 0)return;let e=Th;Th=!0;try{for(let t of n.liveConsumerNode)t.dirty||HV(t)}finally{Th=e}}function FC(){return Ft?.consumerAllowSignalWrites!==!1}function HV(n){n.dirty=!0,PC(n),n.consumerMarkedDirty?.(n)}function Sh(n){return n&&(n.nextProducerIndex=0),Me(n)}function av(n,e){if(Me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Gl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ah(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function cv(n){Mh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(kC(t),r!==t.version))return!0}return!1}function lv(n){if(Mh(n),Gl(n))for(let e=0;e<n.producerNode.length;e++)Ah(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function OC(n,e,t){if(LC(n),n.liveConsumerNode.length===0&&VC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=OC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ah(n,e){if(LC(n),n.liveConsumerNode.length===1&&VC(n))for(let r=0;r<n.producerNode.length;r++)Ah(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Mh(i),i.producerIndexOfThis[r]=e}}function Gl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Mh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function LC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function VC(n){return n.producerNode!==void 0}function uv(n){let e=Object.create(qV);e.computation=n;let t=()=>{if(kC(e),sv(e),e.value===xh)throw e.error;return e.value};return t[fr]=e,t}var iv=Symbol("UNSET"),ov=Symbol("COMPUTING"),xh=Symbol("ERRORED"),qV=De(U({},Wl),{value:iv,dirty:!0,error:null,equal:RC,producerMustRecompute(n){return n.value===iv||n.value===ov},producerRecomputeValue(n){if(n.value===ov)throw new Error("Detected cycle in computations.");let e=n.value;n.value=ov;let t=Sh(n),r;try{r=n.computation()}catch(i){r=xh,n.error=i}finally{av(n,t)}if(e!==iv&&e!==xh&&r!==xh&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function GV(){throw new Error}var jC=GV;function BC(){jC()}function UC(n){jC=n}var WV=null;function $C(n){let e=Object.create(HC);e.value=n;let t=()=>(sv(e),e.value);return t[fr]=e,t}function dv(n,e){FC()||BC(),n.equal(n.value,e)||(n.value=e,KV(n))}function zC(n,e){FC()||BC(),dv(n,e(n.value))}var HC=De(U({},Wl),{equal:RC,value:void 0});function KV(n){n.version++,zV(),PC(n),WV?.()}function de(n){return typeof n=="function"}function Ia(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Rh=Ia(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ss(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var qe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof Rh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{qC(o)}catch(s){e=e??[],s instanceof Rh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)qC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ss(t,e)}remove(e){let{_finalizers:t}=this;t&&ss(t,e),e instanceof n&&e._removeParent(this)}};qe.EMPTY=(()=>{let n=new qe;return n.closed=!0,n})();var hv=qe.EMPTY;function Nh(n){return n instanceof qe||n&&"closed"in n&&de(n.remove)&&de(n.add)&&de(n.unsubscribe)}function qC(n){de(n)?n():n.unsubscribe()}var pr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Da={setTimeout(n,e,...t){let{delegate:r}=Da;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Da;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function kh(n){Da.setTimeout(()=>{let{onUnhandledError:e}=pr;if(e)e(n);else throw n})}function Kl(){}var GC=fv("C",void 0,void 0);function WC(n){return fv("E",void 0,n)}function KC(n){return fv("N",n,void 0)}function fv(n,e,t){return{kind:n,value:e,error:t}}var as=null;function Ta(n){if(pr.useDeprecatedSynchronousErrorHandling){let e=!as;if(e&&(as={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=as;if(as=null,t)throw r}}else n()}function QC(n){pr.useDeprecatedSynchronousErrorHandling&&as&&(as.errorThrown=!0,as.error=n)}var cs=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nh(e)&&e.add(this)):this.destination=ZV}static create(e,t,r){return new hi(e,t,r)}next(e){this.isStopped?mv(KC(e),this):this._next(e)}error(e){this.isStopped?mv(WC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mv(GC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QV=Function.prototype.bind;function pv(n,e){return QV.call(n,e)}var gv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ph(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ph(r)}else Ph(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ph(t)}}},hi=class extends cs{constructor(e,t,r){super();let i;if(de(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&pr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pv(e.next,o),error:e.error&&pv(e.error,o),complete:e.complete&&pv(e.complete,o)}):i=e}this.destination=new gv(i)}};function Ph(n){pr.useDeprecatedSynchronousErrorHandling?QC(n):kh(n)}function YV(n){throw n}function mv(n,e){let{onStoppedNotification:t}=pr;t&&Da.setTimeout(()=>t(n,e))}var ZV={closed:!0,next:Kl,error:YV,complete:Kl};var Ca=typeof Symbol=="function"&&Symbol.observable||"@@observable";function hn(n){return n}function yv(...n){return vv(n)}function vv(n){return n.length===0?hn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var he=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=JV(t)?t:new hi(t,r,i);return Ta(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=YC(r),new r((i,o)=>{let s=new hi({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ca](){return this}pipe(...t){return vv(t)(this)}toPromise(t){return t=YC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function YC(n){var e;return(e=n??pr.Promise)!==null&&e!==void 0?e:Promise}function XV(n){return n&&de(n.next)&&de(n.error)&&de(n.complete)}function JV(n){return n&&n instanceof cs||XV(n)&&Nh(n)}function _v(n){return de(n?.lift)}function me(n){return e=>{if(_v(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,r,i){return new bv(n,e,t,r,i)}var bv=class extends cs{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xa(){return me((n,e)=>{let t=null;n._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Sa=class extends he{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_v(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return xa()(this)}};var ZC=Ia(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=(()=>{class n extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Fh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ZC}next(t){Ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?hv:(this.currentObservers=null,o.push(t),new qe(()=>{this.currentObservers=null,ss(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new he;return t.source=this,t}}return n.create=(e,t)=>new Fh(e,t),n})(),Fh=class extends Te{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:hv}};var Ot=class extends Te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ql={now(){return(Ql.delegate||Date).now()},delegate:void 0};var Oh=class extends Te{constructor(e=1/0,t=1/0,r=Ql){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Lh=class extends qe{constructor(e,t){super()}schedule(e,t=0){return this}};var Yl={setInterval(n,e,...t){let{delegate:r}=Yl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Yl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Aa=class extends Lh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Yl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Yl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ss(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ma=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ma.now=Ql.now;var Ra=class extends Ma{constructor(e,t=Ma.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ls=new Ra(Aa);var Vh=class extends Aa{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var jh=class extends Ra{};var wv=new jh(Vh);var qt=new he(n=>n.complete());function XC(n){return n&&de(n.schedule)}function Ev(n){return n[n.length-1]}function Bh(n){return de(Ev(n))?n.pop():void 0}function kr(n){return XC(Ev(n))?n.pop():void 0}function JC(n,e){return typeof Ev(n)=="number"?n.pop():e}var Uh=n=>n&&typeof n.length=="number"&&typeof n!="function";function $h(n){return de(n?.then)}function zh(n){return de(n[Ca])}function Hh(n){return Symbol.asyncIterator&&de(n?.[Symbol.asyncIterator])}function qh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ej(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gh=ej();function Wh(n){return de(n?.[Gh])}function Kh(n){return CC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield _h(t.read());if(i)return yield _h(void 0);yield yield _h(r)}}finally{t.releaseLock()}})}function Qh(n){return de(n?.getReader)}function rt(n){if(n instanceof he)return n;if(n!=null){if(zh(n))return tj(n);if(Uh(n))return nj(n);if($h(n))return rj(n);if(Hh(n))return ex(n);if(Wh(n))return ij(n);if(Qh(n))return oj(n)}throw qh(n)}function tj(n){return new he(e=>{let t=n[Ca]();if(de(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nj(n){return new he(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function rj(n){return new he(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,kh)})}function ij(n){return new he(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ex(n){return new he(e=>{sj(n,e).catch(t=>e.error(t))})}function oj(n){return ex(Kh(n))}function sj(n,e){var t,r,i,o;return TC(this,void 0,void 0,function*(){try{for(t=xC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function In(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Rn(n,e=0){return me((t,r)=>{t.subscribe(ge(r,i=>In(r,n,()=>r.next(i),e),()=>In(r,n,()=>r.complete(),e),i=>In(r,n,()=>r.error(i),e)))})}function mr(n,e=0){return me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function tx(n,e){return rt(n).pipe(mr(e),Rn(e))}function nx(n,e){return rt(n).pipe(mr(e),Rn(e))}function rx(n,e){return new he(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ix(n,e){return new he(t=>{let r;return In(t,e,()=>{r=n[Gh](),In(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}function Yh(n,e){if(!n)throw new Error("Iterable cannot be null");return new he(t=>{In(t,e,()=>{let r=n[Symbol.asyncIterator]();In(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ox(n,e){return Yh(Kh(n),e)}function sx(n,e){if(n!=null){if(zh(n))return tx(n,e);if(Uh(n))return rx(n,e);if($h(n))return nx(n,e);if(Hh(n))return Yh(n,e);if(Wh(n))return ix(n,e);if(Qh(n))return ox(n,e)}throw qh(n)}function pe(n,e){return e?sx(n,e):rt(n)}function J(...n){let e=kr(n);return pe(n,e)}function Zi(n,e){let t=de(n)?n:()=>n,r=i=>i.error(t());return new he(e?i=>e.schedule(r,0,i):r)}function Zh(n){return!!n&&(n instanceof he||de(n.lift)&&de(n.subscribe))}var fi=Ia(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Y(n,e){return me((t,r)=>{let i=0;t.subscribe(ge(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:aj}=Array;function cj(n,e){return aj(e)?n(...e):n(e)}function Xh(n){return Y(e=>cj(n,e))}var{isArray:lj}=Array,{getPrototypeOf:uj,prototype:dj,keys:hj}=Object;function Jh(n){if(n.length===1){let e=n[0];if(lj(e))return{args:e,keys:null};if(fj(e)){let t=hj(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function fj(n){return n&&typeof n=="object"&&uj(n)===dj}function ef(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function us(...n){let e=kr(n),t=Bh(n),{args:r,keys:i}=Jh(n);if(r.length===0)return pe([],e);let o=new he(pj(r,e,i?s=>ef(i,s):hn));return t?o.pipe(Xh(t)):o}function pj(n,e,t=hn){return r=>{ax(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)ax(e,()=>{let u=pe(n[c],e),d=!1;u.subscribe(ge(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ax(n,e,t){n?In(t,n,e):e()}function cx(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,f=!1,m=()=>{f&&!c.length&&!u&&e.complete()},g=w=>u<r?_(w):c.push(w),_=w=>{o&&e.next(w),u++;let D=!1;rt(t(w,d++)).subscribe(ge(e,F=>{i?.(F),o?g(F):e.next(F)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<r;){let F=c.shift();s?In(e,s,()=>_(F)):_(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ge(e,g,()=>{f=!0,m()})),()=>{a?.()}}function St(n,e,t=1/0){return de(e)?St((r,i)=>Y((o,s)=>e(r,o,i,s))(rt(n(r,i))),t):(typeof e=="number"&&(t=e),me((r,i)=>cx(r,i,n,t)))}function Xi(n=1/0){return St(hn,n)}function lx(){return Xi(1)}function Ji(...n){return lx()(pe(n,kr(n)))}function tf(n){return new he(e=>{rt(n()).subscribe(e)})}function Zl(...n){let e=Bh(n),{args:t,keys:r}=Jh(n),i=new he(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;rt(t[d]).subscribe(ge(o,m=>{f||(f=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?ef(r,a):a),o.complete())}))}});return e?i.pipe(Xh(e)):i}function Xl(...n){let e=kr(n),t=JC(n,1/0),r=n;return r.length?r.length===1?rt(r[0]):Xi(t)(pe(r,e)):qt}function st(n,e){return me((t,r)=>{let i=0;t.subscribe(ge(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Pr(n){return me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ge(t,void 0,void 0,s=>{o=rt(n(s,Pr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function ux(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(ge(s,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function pi(n,e){return de(e)?St(n,e,1):St(n,1)}function Na(n,e=ls){return me((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+n,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}t.subscribe(ge(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function eo(n){return me((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Dn(n){return n<=0?()=>qt:me((e,t)=>{let r=0;e.subscribe(ge(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Iv(n){return Y(()=>n)}function Jl(n,e=hn){return n=n??mj,me((t,r)=>{let i,o=!0;t.subscribe(ge(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function mj(n,e){return n===e}function nf(n=gj){return me((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function gj(){return new fi}function gr(n){return me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Wn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?st((i,o)=>n(i,o,r)):hn,Dn(1),t?eo(e):nf(()=>new fi))}function ka(n){return n<=0?()=>qt:me((e,t)=>{let r=[];e.subscribe(ge(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Dv(n,e){let t=arguments.length>=2;return r=>r.pipe(n?st((i,o)=>n(i,o,r)):hn,ka(1),t?eo(e):nf(()=>new fi))}function eu(){return me((n,e)=>{let t,r=!1;n.subscribe(ge(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function ds(n,e){return me(ux(n,e,arguments.length>=2,!0))}function tu(n={}){let{connector:e=()=>new Te,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,u=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=c=void 0,d=f=!1},_=()=>{let w=s;g(),w?.unsubscribe()};return me((w,D)=>{u++,!f&&!d&&m();let F=c=c??e();D.add(()=>{u--,u===0&&!f&&!d&&(a=Tv(_,i))}),F.subscribe(D),!s&&u>0&&(s=new hi({next:L=>F.next(L),error:L=>{f=!0,m(),a=Tv(g,t,L),F.error(L)},complete:()=>{d=!0,m(),a=Tv(g,r),F.complete()}}),rt(w).subscribe(s))})(o)}}function Tv(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new hi({next:()=>{r.unsubscribe(),n()}});return rt(e(...t)).subscribe(r)}function Pa(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,tu({connector:()=>new Oh(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function nu(n){return st((e,t)=>n<=t)}function mi(...n){let e=kr(n);return me((t,r)=>{(e?Ji(n,t,e):Ji(n,t)).subscribe(r)})}function Ke(n,e){return me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ge(r,c=>{i?.unsubscribe();let u=0,d=o++;rt(n(c,d)).subscribe(i=ge(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function rf(n,e){return de(e)?Ke(()=>n,e):Ke(()=>n)}function Kn(n){return me((e,t)=>{rt(n).subscribe(ge(t,()=>t.complete(),Kl)),!t.closed&&e.subscribe(t)})}function Qe(n,e,t){let r=de(n)||e||t?{next:n,error:e,complete:t}:n;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):hn}var Yx="https://g.co/ng/security#xss",q=class extends Error{constructor(e,t){super(j_(e,t)),this.code=e}};function j_(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function hu(n){return{toString:n}.toString()}var of="__parameters__";function yj(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Zx(n,e,t){return hu(()=>{let r=yj(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(of)?c[of]:Object.defineProperty(c,of,{value:[]})[of];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Zn=globalThis;function Ge(n){for(let e in n)if(n[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function vj(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function mn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(mn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function jv(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var _j=Ge({__forward_ref__:Ge});function lo(n){return n.__forward_ref__=lo,n.toString=function(){return mn(this())},n}function fn(n){return Xx(n)?n():n}function Xx(n){return typeof n=="function"&&n.hasOwnProperty(_j)&&n.__forward_ref__===lo}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function le(n){return{providers:n.providers||[],imports:n.imports||[]}}function zf(n){return dx(n,eS)||dx(n,tS)}function Jx(n){return zf(n)!==null}function dx(n,e){return n.hasOwnProperty(e)?n[e]:null}function bj(n){let e=n&&(n[eS]||n[tS]);return e||null}function hx(n){return n&&(n.hasOwnProperty(fx)||n.hasOwnProperty(wj))?n[fx]:null}var eS=Ge({\u0275prov:Ge}),fx=Ge({\u0275inj:Ge}),tS=Ge({ngInjectableDef:Ge}),wj=Ge({ngInjectorDef:Ge}),$=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function nS(n){return n&&!!n.\u0275providers}var Ej=Ge({\u0275cmp:Ge}),Ij=Ge({\u0275dir:Ge}),Dj=Ge({\u0275pipe:Ge}),Tj=Ge({\u0275mod:Ge}),vf=Ge({\u0275fac:Ge}),iu=Ge({__NG_ELEMENT_ID__:Ge}),px=Ge({__NG_ENV_ID__:Ge});function Hf(n){return typeof n=="string"?n:n==null?"":String(n)}function Cj(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Hf(n)}function xj(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new q(-200,n)}function B_(n,e){throw new q(-201,!1)}var Ie=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ie||{}),Bv;function rS(){return Bv}function Qn(n){let e=Bv;return Bv=n,e}function iS(n,e,t){let r=zf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ie.Optional)return null;if(e!==void 0)return e;B_(n,"Injector")}var Sj={},ou=Sj,Uv="__NG_DI_FLAG__",_f="ngTempTokenPath",Aj="ngTokenPath",Mj=/\n/gm,Rj="\u0275",mx="__source",ja;function Nj(){return ja}function to(n){let e=ja;return ja=n,e}function kj(n,e=Ie.Default){if(ja===void 0)throw new q(-203,!1);return ja===null?iS(n,void 0,e):ja.get(n,e&Ie.Optional?null:void 0,e)}function R(n,e=Ie.Default){return(rS()||kj)(fn(n),e)}function V(n,e=Ie.Default){return R(n,qf(e))}function qf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function $v(n){let e=[];for(let t=0;t<n.length;t++){let r=fn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=Ie.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Pj(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(R(i,o))}else e.push(R(r))}return e}function oS(n,e){return n[Uv]=e,n.prototype[Uv]=e,n}function Pj(n){return n[Uv]}function Fj(n,e,t,r){let i=n[_f];throw e[mx]&&i.unshift(e[mx]),n.message=Oj(`
`+n.message,i,t,r),n[Aj]=i,n[_f]=null,n}function Oj(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Rj?n.slice(2):n;let i=mn(e);if(Array.isArray(e))i=e.map(mn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):mn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Mj,`
  `)}`}var Xa=oS(Zx("Optional"),8);var U_=oS(Zx("SkipSelf"),4);function Ua(n,e){let t=n.hasOwnProperty(vf);return t?n[vf]:null}function Lj(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function Vj(n){return n.flat(Number.POSITIVE_INFINITY)}function $_(n,e){n.forEach(t=>Array.isArray(t)?$_(t,e):e(t))}function sS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function bf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function jj(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function Bj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function z_(n,e,t){let r=fu(n,e);return r>=0?n[r|1]=t:(r=~r,Bj(n,r,e,t)),r}function Cv(n,e){let t=fu(n,e);if(t>=0)return n[t|1]}function fu(n,e){return Uj(n,e,1)}function Uj(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var $a={},pn=[],za=new $(""),aS=new $("",-1),cS=new $(""),wf=class{get(e,t=ou){if(t===ou){let r=new Error(`NullInjectorError: No provider for ${mn(e)}!`);throw r.name="NullInjectorError",r}return t}},lS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(lS||{}),Lr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Lr||{}),io=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(io||{});function $j(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function zv(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];zj(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function uS(n){return n===3||n===4||n===6}function zj(n){return n.charCodeAt(0)===64}function su(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?gx(n,t,i,null,e[++r]):gx(n,t,i,null,null))}}return n}function gx(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var dS="ng-template";function Hj(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$j(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(H_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function H_(n){return n.type===4&&n.value!==dS}function qj(n,e,t){let r=n.type===4&&!t?dS:n.value;return e===r}function Gj(n,e,t){let r=4,i=n.attrs,o=i!==null?Qj(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!yr(r)&&!yr(c))return!1;if(s&&yr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!qj(n,c,t)||c===""&&e.length===1){if(yr(r))return!1;s=!0}}else if(r&8){if(i===null||!Hj(n,i,c,t)){if(yr(r))return!1;s=!0}}else{let u=e[++a],d=Wj(c,i,H_(n),t);if(d===-1){if(yr(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(yr(r))return!1;s=!0}}}}return yr(r)||s}function yr(n){return(n&1)===0}function Wj(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Yj(e,n)}function hS(n,e,t=!1){for(let r=0;r<e.length;r++)if(Gj(n,e[r],t))return!0;return!1}function Kj(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function Qj(n){for(let e=0;e<n.length;e++){let t=n[e];if(uS(t))return e}return n.length}function Yj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Zj(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function yx(n,e){return n?":not("+e.trim()+")":e}function Xj(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!yr(s)&&(e+=yx(o,i),i=""),r=s,o=o||!yr(r);t++}return i!==""&&(e+=yx(o,i)),e}function Jj(n){return n.map(Xj).join(",")}function e2(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!yr(i))break;i=o}r++}return{attrs:e,classes:t}}function Ue(n){return hu(()=>{let e=yS(n),t=De(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===lS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Lr.Emulated,styles:n.styles||pn,_:null,schemas:n.schemas||null,tView:null,id:""});vS(t);let r=n.dependencies;return t.directiveDefs=_x(r,!1),t.pipeDefs=_x(r,!0),t.id=r2(t),t})}function t2(n){return oo(n)||fS(n)}function n2(n){return n!==null}function ue(n){return hu(()=>({type:n.type,bootstrap:n.bootstrap||pn,declarations:n.declarations||pn,imports:n.imports||pn,exports:n.exports||pn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vx(n,e){if(n==null)return $a;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=io.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==io.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Se(n){return hu(()=>{let e=yS(n);return vS(e),e})}function oo(n){return n[Ej]||null}function fS(n){return n[Ij]||null}function pS(n){return n[Dj]||null}function mS(n){let e=oo(n)||fS(n)||pS(n);return e!==null?e.standalone:!1}function gS(n,e){let t=n[Tj]||null;if(!t&&e===!0)throw new Error(`Type ${mn(n)} does not have '\u0275mod' property.`);return t}function yS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||$a,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||pn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vx(n.inputs,e),outputs:vx(n.outputs),debugInfo:null}}function vS(n){n.features?.forEach(e=>e(n))}function _x(n,e){if(!n)return null;let t=e?pS:t2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(n2)}function r2(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Gf(n){return{\u0275providers:n}}function q_(...n){return{\u0275providers:_S(!0,n),\u0275fromNgModule:!0}}function _S(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return $_(e,s=>{let a=s;Hv(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&bS(i,o),t}function bS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];G_(i,o=>{e(o,r)})}}function Hv(n,e,t,r){if(n=fn(n),!n)return!1;let i=null,o=hx(n),s=!o&&oo(n);if(!o&&!s){let c=n.ngModule;if(o=hx(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Hv(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{$_(o.imports,d=>{Hv(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&bS(u,e)}if(!a){let u=Ua(i)||(()=>new i);e({provide:i,useFactory:u,deps:pn},i),e({provide:cS,useValue:i,multi:!0},i),e({provide:za,useValue:()=>R(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;G_(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function G_(n,e){for(let t of n)nS(t)&&(t=t.\u0275providers),Array.isArray(t)?G_(t,e):e(t)}var i2=Ge({provide:String,useValue:Ge});function wS(n){return n!==null&&typeof n=="object"&&i2 in n}function o2(n){return!!(n&&n.useExisting)}function s2(n){return!!(n&&n.useFactory)}function Ha(n){return typeof n=="function"}function a2(n){return!!n.useClass}var Wf=new $(""),hf={},c2={},xv;function W_(){return xv===void 0&&(xv=new wf),xv}var Cn=class{},au=class extends Cn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gv(e,s=>this.processProvider(s)),this.records.set(aS,Fa(void 0,this)),i.has("environment")&&this.records.set(Cn,Fa(void 0,this));let o=this.records.get(Wf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(cS,pn,Ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=to(this),r=Qn(void 0),i;try{return e()}finally{to(t),Qn(r)}}get(e,t=ou,r=Ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(px))return e[px](this);r=qf(r);let i,o=to(this),s=Qn(void 0);try{if(!(r&Ie.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=f2(e)&&zf(e);u&&this.injectableDefInScope(u)?c=Fa(qv(e),hf):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Ie.Self?W_():this.parent;return t=r&Ie.Optional&&t===ou?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[_f]=a[_f]||[]).unshift(mn(e)),o)throw a;return Fj(a,e,"R3InjectorError",this.source)}else throw a}finally{Qn(s),to(o)}}resolveInjectorInitializers(){let e=Me(null),t=to(this),r=Qn(void 0),i;try{let o=this.get(za,pn,Ie.Self);for(let s of o)s()}finally{to(t),Qn(r),Me(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(mn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){e=fn(e);let t=Ha(e)?e:fn(e&&e.provide),r=u2(e);if(!Ha(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Fa(void 0,hf,!0),i.factory=()=>$v(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Me(null);try{return t.value===hf&&(t.value=c2,t.value=t.factory()),typeof t.value=="object"&&t.value&&h2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=fn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function qv(n){let e=zf(n),t=e!==null?e.factory:Ua(n);if(t!==null)return t;if(n instanceof $)throw new q(204,!1);if(n instanceof Function)return l2(n);throw new q(204,!1)}function l2(n){if(n.length>0)throw new q(204,!1);let t=bj(n);return t!==null?()=>t.factory(n):()=>new n}function u2(n){if(wS(n))return Fa(void 0,n.useValue);{let e=ES(n);return Fa(e,hf)}}function ES(n,e,t){let r;if(Ha(n)){let i=fn(n);return Ua(i)||qv(i)}else if(wS(n))r=()=>fn(n.useValue);else if(s2(n))r=()=>n.useFactory(...$v(n.deps||[]));else if(o2(n))r=()=>R(fn(n.useExisting));else{let i=fn(n&&(n.useClass||n.provide));if(d2(n))r=()=>new i(...$v(n.deps));else return Ua(i)||qv(i)}return r}function Fa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function d2(n){return!!n.deps}function h2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function f2(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function Gv(n,e){for(let t of n)Array.isArray(t)?Gv(t,e):t&&nS(t)?Gv(t.\u0275providers,e):e(t)}function Ur(n,e){n instanceof au&&n.assertNotDestroyed();let t,r=to(n),i=Qn(void 0);try{return e()}finally{to(r),Qn(i)}}function IS(){return rS()!==void 0||Nj()!=null}function DS(n){if(!IS())throw new q(-203,!1)}function p2(n){return typeof n=="function"}var _i=0,ye=1,ce=2,tn=3,_r=4,xn=5,cu=6,Ef=7,Xn=8,qa=9,Vr=10,gt=11,lu=12,bx=13,Ja=14,Jn=15,fs=16,Oa=17,gi=18,Kf=19,TS=20,no=21,Sv=22,Yn=23,Nn=25,CS=1;var ps=7,If=8,Ga=9,Tn=10,Df=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Df||{});function ro(n){return Array.isArray(n)&&typeof n[CS]=="object"}function bi(n){return Array.isArray(n)&&n[CS]===!0}function xS(n){return(n.flags&4)!==0}function Qf(n){return n.componentOffset>-1}function K_(n){return(n.flags&1)===1}function so(n){return!!n.template}function Wv(n){return(n[ce]&512)!==0}var Kv=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function SS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Pn(){return AS}function AS(n){return n.type.prototype.ngOnChanges&&(n.setInput=g2),m2}Pn.ngInherit=!0;function m2(){let n=RS(this),e=n?.current;if(e){let t=n.previous;if(t===$a)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function g2(n,e,t,r,i){let o=this.declaredInputs[r],s=RS(n)||y2(n,{previous:$a,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Kv(u&&u.currentValue,t,c===$a),SS(n,e,i,t)}var MS="__ngSimpleChanges__";function RS(n){return n[MS]||null}function y2(n,e){return n[MS]=e}var wx=null;var Fr=function(n,e,t){wx?.(n,e,t)},v2="svg",_2="math";function jr(n){for(;Array.isArray(n);)n=n[_i];return n}function NS(n,e){return jr(e[n])}function er(n,e){return jr(e[n.index])}function Q_(n,e){return n.data[e]}function b2(n,e){return n[e]}function uo(n,e){let t=e[n];return ro(t)?t:t[_i]}function w2(n){return(n[ce]&4)===4}function Y_(n){return(n[ce]&128)===128}function E2(n){return bi(n[tn])}function Tf(n,e){return e==null?null:n[e]}function kS(n){n[Oa]=0}function PS(n){n[ce]&1024||(n[ce]|=1024,Y_(n)&&Zf(n))}function I2(n,e){for(;n>0;)e=e[Ja],n--;return e}function Yf(n){return!!(n[ce]&9216||n[Yn]?.dirty)}function Qv(n){n[Vr].changeDetectionScheduler?.notify(8),n[ce]&64&&(n[ce]|=1024),Yf(n)&&Zf(n)}function Zf(n){n[Vr].changeDetectionScheduler?.notify(0);let e=ms(n);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!Y_(e)));)e=ms(e)}function FS(n,e){if((n[ce]&256)===256)throw new q(911,!1);n[no]===null&&(n[no]=[]),n[no].push(e)}function D2(n,e){if(n[no]===null)return;let t=n[no].indexOf(e);t!==-1&&n[no].splice(t,1)}function ms(n){let e=n[tn];return bi(e)?e[tn]:e}var Ce={lFrame:GS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var OS=!1;function T2(){return Ce.lFrame.elementDepthCount}function C2(){Ce.lFrame.elementDepthCount++}function x2(){Ce.lFrame.elementDepthCount--}function LS(){return Ce.bindingsEnabled}function VS(){return Ce.skipHydrationRootTNode!==null}function S2(n){return Ce.skipHydrationRootTNode===n}function A2(){Ce.skipHydrationRootTNode=null}function Re(){return Ce.lFrame.lView}function Lt(){return Ce.lFrame.tView}function nn(n){return Ce.lFrame.contextLView=n,n[Xn]}function rn(n){return Ce.lFrame.contextLView=null,n}function on(){let n=jS();for(;n!==null&&n.type===64;)n=n.parent;return n}function jS(){return Ce.lFrame.currentTNode}function M2(){let n=Ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function pu(n,e){let t=Ce.lFrame;t.currentTNode=n,t.isParent=e}function BS(){return Ce.lFrame.isParent}function US(){Ce.lFrame.isParent=!1}function R2(){return Ce.lFrame.contextLView}function $S(){return OS}function Ex(n){OS=n}function N2(n){return Ce.lFrame.bindingIndex=n}function ec(){return Ce.lFrame.bindingIndex++}function zS(n){let e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function k2(){return Ce.lFrame.inI18n}function P2(n,e){let t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yv(e)}function F2(){return Ce.lFrame.currentDirectiveIndex}function Yv(n){Ce.lFrame.currentDirectiveIndex=n}function O2(n){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Z_(){return Ce.lFrame.currentQueryIndex}function Xf(n){Ce.lFrame.currentQueryIndex=n}function L2(n){let e=n[ye];return e.type===2?e.declTNode:e.type===1?n[xn]:null}function HS(n,e,t){if(t&Ie.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ie.Host);)if(i=L2(o),i===null||(o=o[Ja],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ce.lFrame=qS();return r.currentTNode=e,r.lView=n,!0}function X_(n){let e=qS(),t=n[ye];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qS(){let n=Ce.lFrame,e=n===null?null:n.child;return e===null?GS(n):e}function GS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function WS(){let n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var KS=WS;function J_(){let n=WS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function V2(n){return(Ce.lFrame.contextLView=I2(n,Ce.lFrame.contextLView))[Xn]}function Es(){return Ce.lFrame.selectedIndex}function gs(n){Ce.lFrame.selectedIndex=n}function Jf(){let n=Ce.lFrame;return Q_(n.tView,n.selectedIndex)}function j2(){return Ce.lFrame.currentNamespace}var QS=!0;function eb(){return QS}function tb(n){QS=n}function B2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=AS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function nb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function ff(n,e,t){YS(n,e,3,t)}function pf(n,e,t,r){(n[ce]&3)===t&&YS(n,e,t,r)}function Av(n,e){let t=n[ce];(t&3)===e&&(t&=16383,t+=1,n[ce]=t)}function YS(n,e,t,r){let i=r!==void 0?n[Oa]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Oa]+=65536),(a<o||o==-1)&&(U2(n,t,e,c),n[Oa]=(n[Oa]&4294901760)+c+2),c++}function Ix(n,e){Fr(4,n,e);let t=Me(null);try{e.call(n)}finally{Me(t),Fr(5,n,e)}}function U2(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ce]>>14<n[Oa]>>16&&(n[ce]&3)===e&&(n[ce]+=16384,Ix(a,o)):Ix(a,o)}var Ba=-1,ys=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function $2(n){return n instanceof ys}function z2(n){return(n.flags&8)!==0}function H2(n){return(n.flags&16)!==0}var Mv={},Zv=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=qf(r);let i=this.injector.get(e,Mv,r);return i!==Mv||t===Mv?i:this.parentInjector.get(e,t,r)}};function ZS(n){return n!==Ba}function Cf(n){return n&32767}function q2(n){return n>>16}function xf(n,e){let t=q2(n),r=e;for(;t>0;)r=r[Ja],t--;return r}var Xv=!0;function Dx(n){let e=Xv;return Xv=n,e}var G2=256,XS=G2-1,JS=5,W2=0,Or={};function K2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(iu)&&(r=t[iu]),r==null&&(r=t[iu]=W2++);let i=r&XS,o=1<<i;e.data[n+(i>>JS)]|=o}function Sf(n,e){let t=eA(n,e);if(t!==-1)return t;let r=e[ye];r.firstCreatePass&&(n.injectorIndex=e.length,Rv(r.data,n),Rv(e,null),Rv(r.blueprint,null));let i=rb(n,e),o=n.injectorIndex;if(ZS(i)){let s=Cf(i),a=xf(i,e),c=a[ye].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function Rv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function eA(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function rb(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=oA(i),r===null)return Ba;if(t++,i=i[Ja],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ba}function Jv(n,e,t){K2(n,e,t)}function Q2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(uS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function tA(n,e,t){if(t&Ie.Optional||n!==void 0)return n;B_(e,"NodeInjector")}function nA(n,e,t,r){if(t&Ie.Optional&&r===void 0&&(r=null),!(t&(Ie.Self|Ie.Host))){let i=n[qa],o=Qn(void 0);try{return i?i.get(e,r,t&Ie.Optional):iS(e,r,t&Ie.Optional)}finally{Qn(o)}}return tA(r,e,t)}function rA(n,e,t,r=Ie.Default,i){if(n!==null){if(e[ce]&2048&&!(r&Ie.Self)){let s=J2(n,e,t,r,Or);if(s!==Or)return s}let o=iA(n,e,t,r,Or);if(o!==Or)return o}return nA(e,t,r,i)}function iA(n,e,t,r,i){let o=Z2(t);if(typeof o=="function"){if(!HS(e,n,r))return r&Ie.Host?tA(i,t,r):nA(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ie.Optional))B_(t);else return s}finally{KS()}}else if(typeof o=="number"){let s=null,a=eA(n,e),c=Ba,u=r&Ie.Host?e[Jn][xn]:null;for((a===-1||r&Ie.SkipSelf)&&(c=a===-1?rb(n,e):e[a+8],c===Ba||!Cx(r,!1)?a=-1:(s=e[ye],a=Cf(c),e=xf(c,e)));a!==-1;){let d=e[ye];if(Tx(o,a,d.data)){let f=Y2(a,e,t,s,r,u);if(f!==Or)return f}c=e[a+8],c!==Ba&&Cx(r,e[ye].data[a+8]===u)&&Tx(o,a,e)?(s=d,a=Cf(c),e=xf(c,e)):a=-1}}return i}function Y2(n,e,t,r,i,o){let s=e[ye],a=s.data[n+8],c=r==null?Qf(a)&&Xv:r!=s&&(a.type&3)!==0,u=i&Ie.Host&&o===a,d=mf(a,s,t,c,u);return d!==null?vs(e,s,d,a):Or}function mf(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,m=i?a+d:u;for(let g=f;g<m;g++){let _=s[g];if(g<c&&t===_||g>=c&&_.type===t)return g}if(i){let g=s[c];if(g&&so(g)&&g.type===t)return c}return null}function vs(n,e,t,r){let i=n[t],o=e.data;if($2(i)){let s=i;s.resolving&&xj(Cj(o[t]));let a=Dx(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Qn(s.injectImpl):null,d=HS(n,r,Ie.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&B2(t,o[t],e)}finally{u!==null&&Qn(u),Dx(a),s.resolving=!1,KS()}}return i}function Z2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(iu)?n[iu]:void 0;return typeof e=="number"?e>=0?e&XS:X2:e}function Tx(n,e,t){let r=1<<n;return!!(t[e+(n>>JS)]&r)}function Cx(n,e){return!(n&Ie.Self)&&!(n&Ie.Host&&e)}var hs=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return rA(this._tNode,this._lView,e,qf(r),t)}};function X2(){return new hs(on(),Re())}function tc(n){return hu(()=>{let e=n.prototype.constructor,t=e[vf]||e_(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[vf]||e_(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function e_(n){return Xx(n)?()=>{let e=e_(fn(n));return e&&e()}:Ua(n)}function J2(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ce]&2048&&!(s[ce]&512);){let a=iA(o,s,t,r|Ie.Self,Or);if(a!==Or)return a;let c=o.parent;if(!c){let u=s[TS];if(u){let d=u.get(t,Or,r);if(d!==Or)return d}c=oA(s),s=s[Ja]}o=c}return i}function oA(n){let e=n[ye],t=e.type;return t===2?e.declTNode:t===1?n[xn]:null}function nc(n){return Q2(on(),n)}function xx(n,e=null,t=null,r){let i=sA(n,e,t,r);return i.resolveInjectorInitializers(),i}function sA(n,e=null,t=null,r,i=new Set){let o=[t||pn,q_(n)];return r=r||(typeof n=="object"?void 0:mn(n)),new au(o,e||W_(),r||null,i)}var gn=class n{static{this.THROW_IF_NOT_FOUND=ou}static{this.NULL=new wf}static create(e,t){if(Array.isArray(e))return xx({name:""},t,e,"");{let r=e.name??"";return xx({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=H({token:n,providedIn:"any",factory:()=>R(aS)})}static{this.__NG_ELEMENT_ID__=-1}};var eB=new $("");eB.__NG_ELEMENT_ID__=n=>{let e=on();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(n&Ie.Optional)return null;throw new q(204,!1)};var tB="ngOriginalError";function Nv(n){return n[tB]}var aA=!0,ib=(()=>{class n{static{this.__NG_ELEMENT_ID__=nB}static{this.__NG_ENV_ID__=t=>t}}return n})(),t_=class extends ib{constructor(e){super(),this._lView=e}onDestroy(e){return FS(this._lView,e),()=>D2(this._lView,e)}};function nB(){return new t_(Re())}var rc=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})();var n_=class extends Te{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,IS()&&(this.destroyRef=V(ib,{optional:!0})??void 0,this.pendingTasks=V(rc,{optional:!0})??void 0)}emit(e){let t=Me(null);try{super.next(e)}finally{Me(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof qe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ye=n_;function Af(...n){}function cA(n){let e,t;function r(){n=Af;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Sx(n){return queueMicrotask(()=>n()),()=>{n=Af}}var ob="isAngularZone",Mf=ob+"_ID",rB=0,ne=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=aA}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,sB(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ob)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,iB,Af,Af);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},iB={};function sb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function oB(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){cA(()=>{n.callbackScheduled=!1,r_(n),n.isCheckStableRunning=!0,sb(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),r_(n)}function sB(n){let e=()=>{oB(n)},t=rB++;n._inner=n._inner.fork({name:"angular",properties:{[ob]:!0,[Mf]:t,[Mf+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(aB(c))return r.invokeTask(o,s,a,c);try{return Ax(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Mx(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return Ax(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!cB(c)&&e(),Mx(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,r_(n),sb(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function r_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Ax(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Mx(n){n._nesting--,sb(n)}var i_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function aB(n){return lA(n,"__ignore_ng_zone__")}function cB(n){return lA(n,"__scheduler_tick__")}function lA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var kn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Nv(e);for(;t&&Nv(t);)t=Nv(t);return t||null}},lB=new $("",{providedIn:"root",factory:()=>{let n=V(ne),e=V(kn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function uB(){return ic(on(),Re())}function ic(n,e){return new ke(er(n,e))}var ke=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=uB}}return n})();function uA(n){return n instanceof ke?n.nativeElement:n}function dB(){return this._results[Symbol.iterator]()}var Rf=class n{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=dB)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=Vj(e);(this._changesDetected=!Lj(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function dA(n){return(n.flags&128)===128}var hA=new Map,hB=0;function fB(){return hB++}function pB(n){hA.set(n[Kf],n)}function o_(n){hA.delete(n[Kf])}var Rx="__ngContext__";function _s(n,e){ro(e)?(n[Rx]=e[Kf],pB(e)):n[Rx]=e}function fA(n){return mA(n[lu])}function pA(n){return mA(n[_r])}function mA(n){for(;n!==null&&!bi(n);)n=n[_r];return n}var s_;function gA(n){s_=n}function mB(){if(s_!==void 0)return s_;if(typeof document<"u")return document;throw new q(210,!1)}var mu=new $("",{providedIn:"root",factory:()=>gB}),gB="ng",ab=new $(""),Bt=new $("",{providedIn:"platform",factory:()=>"unknown"});var br=new $(""),gu=new $("",{providedIn:"root",factory:()=>mB().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yB="h",vB="b";var _B=()=>null;function cb(n,e,t=!1){return _B(n,e,t)}var yA=!1,bB=new $("",{providedIn:"root",factory:()=>yA});var sf;function wB(){if(sf===void 0&&(sf=null,Zn.trustedTypes))try{sf=Zn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return sf}function ep(n){return wB()?.createHTML(n)||n}var af;function EB(){if(af===void 0&&(af=null,Zn.trustedTypes))try{af=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return af}function Nx(n){return EB()?.createScriptURL(n)||n}var yi=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yx})`}},a_=class extends yi{getTypeName(){return"HTML"}},c_=class extends yi{getTypeName(){return"Style"}},l_=class extends yi{getTypeName(){return"Script"}},u_=class extends yi{getTypeName(){return"URL"}},d_=class extends yi{getTypeName(){return"ResourceURL"}};function wr(n){return n instanceof yi?n.changingThisBreaksApplicationSecurity:n}function ho(n,e){let t=IB(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Yx})`)}return t===e}function IB(n){return n instanceof yi&&n.getTypeName()||null}function vA(n){return new a_(n)}function _A(n){return new c_(n)}function bA(n){return new l_(n)}function wA(n){return new u_(n)}function EA(n){return new d_(n)}function DB(n){let e=new f_(n);return TB()?new h_(e):e}var h_=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(ep(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},f_=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=ep(e),t}};function TB(){try{return!!new window.DOMParser().parseFromString(ep(""),"text/html")}catch{return!1}}var CB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tp(n){return n=String(n),n.match(CB)?n:"unsafe:"+n}function wi(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function yu(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var IA=wi("area,br,col,hr,img,wbr"),DA=wi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),TA=wi("rp,rt"),xB=yu(TA,DA),SB=yu(DA,wi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),AB=yu(TA,wi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kx=yu(IA,SB,AB,xB),CA=wi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),MB=wi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),RB=wi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),NB=yu(CA,MB,RB),kB=wi("script,style,template"),p_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=OB(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=FB(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Px(e).toLowerCase();if(!kx.hasOwnProperty(t))return this.sanitizedSomething=!0,!kB.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!NB.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;CA[a]&&(c=tp(c)),this.buf.push(" ",s,'="',Fx(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=Px(e).toLowerCase();kx.hasOwnProperty(t)&&!IA.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Fx(e))}};function PB(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function FB(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw xA(e);return e}function OB(n){let e=n.firstChild;if(e&&PB(n,e))throw xA(e);return e}function Px(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function xA(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var LB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VB=/([^\#-~ |!])/g;function Fx(n){return n.replace(/&/g,"&amp;").replace(LB,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(VB,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var cf;function SA(n,e){let t=null;try{cf=cf||DB(n);let r=e?String(e):"";t=cf.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=cf.getInertBodyElement(r)}while(r!==o);let a=new p_().sanitizeChildren(Ox(t)||t);return ep(a)}finally{if(t){let r=Ox(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Ox(n){return"content"in n&&jB(n)?n.content:null}function jB(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var sn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(sn||{});function lb(n){let e=MA();return e?e.sanitize(sn.URL,n)||"":ho(n,"URL")?wr(n):tp(Hf(n))}function BB(n){let e=MA();if(e)return Nx(e.sanitize(sn.RESOURCE_URL,n)||"");if(ho(n,"ResourceURL"))return Nx(wr(n));throw new q(904,!1)}function UB(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?BB:lb}function AA(n,e,t){return UB(e,t)(n)}function MA(){let n=Re();return n&&n[Vr].sanitizer}function RA(n){return n instanceof Function?n():n}function NA(n){return(n??V(gn)).get(Bt)==="browser"}var vi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(vi||{}),$B;function ub(n,e){return $B(n,e)}function La(n,e,t,r,i){if(r!=null){let o,s=!1;bi(r)?o=r:ro(r)&&(s=!0,r=r[_i]);let a=jr(r);n===0&&t!==null?i==null?LA(e,t,a):kf(e,t,a,i||null,!0):n===1&&t!==null?kf(e,t,a,i||null,!0):n===2?tU(e,a,s):n===3&&e.destroyNode(a),o!=null&&rU(e,n,o,t,i)}}function zB(n,e){return n.createText(e)}function HB(n,e,t){n.setValue(e,t)}function kA(n,e,t){return n.createElement(e,t)}function qB(n,e){PA(n,e),e[_i]=null,e[xn]=null}function GB(n,e,t,r,i,o){r[_i]=i,r[xn]=e,np(n,r,t,1,i,o)}function PA(n,e){e[Vr].changeDetectionScheduler?.notify(9),np(n,e,e[gt],2,null,null)}function WB(n){let e=n[lu];if(!e)return kv(n[ye],n);for(;e;){let t=null;if(ro(e))t=e[lu];else{let r=e[Tn];r&&(t=r)}if(!t){for(;e&&!e[_r]&&e!==n;)ro(e)&&kv(e[ye],e),e=e[tn];e===null&&(e=n),ro(e)&&kv(e[ye],e),t=e&&e[_r]}e=t}}function KB(n,e,t,r){let i=Tn+r,o=t.length;r>0&&(t[i-1][_r]=e),r<o-Tn?(e[_r]=t[i],sS(t,Tn+r,e)):(t.push(e),e[_r]=null),e[tn]=t;let s=e[fs];s!==null&&t!==s&&FA(s,e);let a=e[gi];a!==null&&a.insertView(n),Qv(e),e[ce]|=128}function FA(n,e){let t=n[Ga],r=e[tn];if(ro(r))n[ce]|=Df.HasTransplantedViews;else{let i=r[tn][Jn];e[Jn]!==i&&(n[ce]|=Df.HasTransplantedViews)}t===null?n[Ga]=[e]:t.push(e)}function db(n,e){let t=n[Ga],r=t.indexOf(e);t.splice(r,1)}function Nf(n,e){if(n.length<=Tn)return;let t=Tn+e,r=n[t];if(r){let i=r[fs];i!==null&&i!==n&&db(i,r),e>0&&(n[t-1][_r]=r[_r]);let o=bf(n,Tn+e);qB(r[ye],r);let s=o[gi];s!==null&&s.detachView(o[ye]),r[tn]=null,r[_r]=null,r[ce]&=-129}return r}function hb(n,e){if(!(e[ce]&256)){let t=e[gt];t.destroyNode&&np(n,e,t,3,null,null),WB(e)}}function kv(n,e){if(e[ce]&256)return;let t=Me(null);try{e[ce]&=-129,e[ce]|=256,e[Yn]&&lv(e[Yn]),YB(n,e),QB(n,e),e[ye].type===1&&e[gt].destroy();let r=e[fs];if(r!==null&&bi(e[tn])){r!==e[tn]&&db(r,e);let i=e[gi];i!==null&&i.detachView(n)}o_(e)}finally{Me(t)}}function QB(n,e){let t=n.cleanup,r=e[Ef];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Ef]=null);let i=e[no];if(i!==null){e[no]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function YB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ys)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Fr(4,a,c);try{c.call(a)}finally{Fr(5,a,c)}}else{Fr(4,i,o);try{o.call(i)}finally{Fr(5,i,o)}}}}}function OA(n,e,t){return ZB(n,e.parent,t)}function ZB(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[_i];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Lr.None||o===Lr.Emulated)return null}return er(r,t)}}function kf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function LA(n,e,t){n.appendChild(e,t)}function Lx(n,e,t,r,i){r!==null?kf(n,e,t,r,i):LA(n,e,t)}function VA(n,e){return n.parentNode(e)}function XB(n,e){return n.nextSibling(e)}function jA(n,e,t){return eU(n,e,t)}function JB(n,e,t){return n.type&40?er(n,t):null}var eU=JB,Vx;function fb(n,e,t,r){let i=OA(n,r,e),o=e[gt],s=r.parent||e[xn],a=jA(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Lx(o,i,t[c],a,!1);else Lx(o,i,t,a,!1);Vx!==void 0&&Vx(o,r,e,t,i)}function ru(n,e){if(e!==null){let t=e.type;if(t&3)return er(e,n);if(t&4)return m_(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ru(n,r);{let i=n[e.index];return bi(i)?m_(-1,i):jr(i)}}else{if(t&128)return ru(n,e.next);if(t&32)return ub(e,n)()||jr(n[e.index]);{let r=BA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ms(n[Jn]);return ru(i,r)}else return ru(n,e.next)}}}return null}function BA(n,e){if(e!==null){let r=n[Jn][xn],i=e.projection;return r.projection[i]}return null}function m_(n,e){let t=Tn+n+1;if(t<e.length){let r=e[t],i=r[ye].firstChild;if(i!==null)return ru(r,i)}return e[ps]}function tU(n,e,t){n.removeChild(null,e,t)}function pb(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&_s(jr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)pb(n,e,t.child,r,i,o,!1),La(e,n,i,a,o);else if(c&32){let u=ub(t,r),d;for(;d=u();)La(e,n,i,d,o);La(e,n,i,a,o)}else c&16?UA(n,e,r,t,i,o):La(e,n,i,a,o);t=s?t.projectionNext:t.next}}function np(n,e,t,r,i,o){pb(t,r,n.firstChild,e,i,o,!1)}function nU(n,e,t){let r=e[gt],i=OA(n,t,e),o=t.parent||e[xn],s=jA(o,t,e);UA(r,0,e,t,i,s)}function UA(n,e,t,r,i,o){let s=t[Jn],c=s[xn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];La(e,n,i,d,o)}else{let u=c,d=s[tn];dA(r)&&(u.flags|=128),pb(n,e,u,d,i,o,!0)}}function rU(n,e,t,r,i){let o=t[ps],s=jr(t);o!==s&&La(e,n,r,o,i);for(let a=Tn;a<t.length;a++){let c=t[a];np(c[ye],c,n,e,r,o)}}function iU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:vi.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=vi.Important),n.setStyle(t,r,i,o))}}function oU(n,e,t){n.setAttribute(e,"style",t)}function $A(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function zA(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&zv(n,e,r),i!==null&&$A(n,e,i),o!==null&&oU(n,e,o)}var Ei={};function we(n=1){HA(Lt(),Re(),Es()+n,!1)}function HA(n,e,t,r){if(!r)if((e[ce]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ff(e,o,t)}else{let o=n.preOrderHooks;o!==null&&pf(e,o,0,t)}gs(t)}function j(n,e=Ie.Default){let t=Re();if(t===null)return R(n,e);let r=on();return rA(r,t,fn(n),e)}function rp(){let n="invalid";throw new Error(n)}function qA(n,e,t,r,i,o){let s=Me(null);try{let a=null;i&io.SignalBased&&(a=e[r][fr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&io.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):SS(e,a,r,o)}finally{Me(s)}}function sU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)gs(~i);else{let o=i,s=t[++r],a=t[++r];P2(s,o);let c=e[o];a(2,c)}}}finally{gs(-1)}}function ip(n,e,t,r,i,o,s,a,c,u,d){let f=e.blueprint.slice();return f[_i]=i,f[ce]=r|4|128|8|64,(u!==null||n&&n[ce]&2048)&&(f[ce]|=2048),kS(f),f[tn]=f[Ja]=n,f[Xn]=t,f[Vr]=s||n&&n[Vr],f[gt]=a||n&&n[gt],f[qa]=c||n&&n[qa]||null,f[xn]=o,f[Kf]=fB(),f[cu]=d,f[TS]=u,f[Jn]=e.type==2?n[Jn]:f,f}function vu(n,e,t,r,i){let o=n.data[e];if(o===null)o=aU(n,e,t,r,i),k2()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=M2();o.injectorIndex=s===null?-1:s.injectorIndex}return pu(o,!0),o}function aU(n,e,t,r,i){let o=jS(),s=BS(),a=s?o:o&&o.parent,c=n.data[e]=fU(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function GA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function WA(n,e,t,r,i){let o=Es(),s=r&2;try{gs(-1),s&&e.length>Nn&&HA(n,e,Nn,!1),Fr(s?2:0,i),t(r,i)}finally{gs(o),Fr(s?3:1,i)}}function KA(n,e,t){if(xS(e)){let r=Me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Me(r)}}}function QA(n,e,t){LS()&&(_U(n,e,t,er(t,e)),(t.flags&64)===64&&eM(n,e,t))}function YA(n,e,t=er){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function ZA(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=mb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function mb(n,e,t,r,i,o,s,a,c,u,d){let f=Nn+r,m=f+i,g=cU(f,m),_=typeof u=="function"?u():u;return g[ye]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:d}}function cU(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ei);return t}function lU(n,e,t,r){let o=r.get(bB,yA)||t===Lr.ShadowDom,s=n.selectRootElement(e,o);return uU(s),s}function uU(n){dU(n)}var dU=()=>null;function hU(n,e,t,r){let i=rM(e);i.push(t),n.firstCreatePass&&iM(n).push(r,i.length-1)}function fU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return VS()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jx(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=io.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?Bx(r,t,u,a,c):Bx(r,t,u,a)}return r}function Bx(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function pU(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,u=null;for(let d=r;d<i;d++){let f=o[d],m=t?t.get(f):null,g=m?m.inputs:null,_=m?m.outputs:null;c=jx(0,f.inputs,d,c,g),u=jx(1,f.outputs,d,u,_);let w=c!==null&&s!==null&&!H_(e)?MU(c,d,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function mU(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function gb(n,e,t,r,i,o,s,a){let c=er(e,t),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(yb(n,t,d,r,i),Qf(e)&&gU(t,e.index)):e.type&3?(r=mU(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function gU(n,e){let t=uo(e,n);t[ce]&16||(t[ce]|=64)}function XA(n,e,t,r){if(LS()){let i=r===null?null:{"":-1},o=wU(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&JA(n,e,t,s,i,a),i&&EU(t,r,i)}t.mergedAttrs=su(t.mergedAttrs,t.attrs)}function JA(n,e,t,r,i,o){for(let u=0;u<r.length;u++)Jv(Sf(t,e),n,r[u].type);DU(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=GA(n,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];t.mergedAttrs=su(t.mergedAttrs,d.hostAttrs),TU(n,t,e,c,d),IU(c,d,i),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}pU(n,t,o)}function yU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;vU(s)!=a&&s.push(a),s.push(t,r,o)}}function vU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function _U(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Qf(t)&&CU(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Sf(t,e),_s(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],u=vs(e,n,a,t);if(_s(u,e),s!==null&&AU(e,a-i,u,c,t,s),so(c)){let d=uo(t.index,e);d[Xn]=vs(e,n,a,t)}}}function eM(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=F2();try{gs(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Yv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&bU(c,u)}}finally{gs(-1),Yv(s)}}function bU(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function wU(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(hS(e,s.selectors,!1))if(r||(r=[]),so(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;g_(n,e,c)}else r.unshift(s),g_(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function g_(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function EU(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}}function IU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;so(e)&&(t[""]=n)}}function DU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function TU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ua(i.type,!0)),s=new ys(o,so(i),j);n.blueprint[r]=s,t[r]=s,yU(n,e,r,GA(n,t,i.hostVars,Ei),i)}function CU(n,e,t){let r=er(e,n),i=ZA(t),o=n[Vr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=op(n,ip(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function xU(n,e,t,r,i,o){let s=er(n,e);SU(e[gt],s,o,n.value,t,r,i)}function SU(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Hf(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function AU(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],d=s[a++],f=s[a++];qA(r,t,c,u,d,f)}}function MU(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function tM(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function nM(n,e){let t=n.contentQueries;if(t!==null){let r=Me(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Xf(o),a.contentQueries(2,e[s],s)}}}finally{Me(r)}}}function op(n,e){return n[lu]?n[bx][_r]=e:n[lu]=e,n[bx]=e,e}function y_(n,e,t){Xf(0);let r=Me(null);try{e(n,t)}finally{Me(r)}}function rM(n){return n[Ef]??=[]}function iM(n){return n.cleanup??=[]}function oM(n,e){let t=n[qa],r=t?t.get(kn,null):null;r&&r.handleError(e)}function yb(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],u=e[s],d=n.data[s];qA(d,u,r,a,c,i)}}function RU(n,e,t){let r=NS(e,n);HB(n[gt],r,t)}function NU(n,e){let t=uo(e,n),r=t[ye];kU(r,t);let i=t[_i];i!==null&&t[cu]===null&&(t[cu]=cb(i,t[qa])),vb(r,t,t[Xn])}function kU(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function vb(n,e,t){X_(e);try{let r=n.viewQuery;r!==null&&y_(1,r,t);let i=n.template;i!==null&&WA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[gi]?.finishViewCreation(n),n.staticContentQueries&&nM(n,e),n.staticViewQueries&&y_(2,n.viewQuery,t);let o=n.components;o!==null&&PU(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,J_()}}function PU(n,e){for(let t=0;t<e.length;t++)NU(n,e[t])}function _b(n,e,t,r){let i=Me(null);try{let o=e.tView,a=n[ce]&4096?4096:16,c=ip(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[fs]=u;let d=n[gi];return d!==null&&(c[gi]=d.createEmbeddedView(o)),vb(o,c,t),c}finally{Me(i)}}function FU(n,e){let t=Tn+e;if(t<n.length)return n[t]}function Pf(n,e){return!e||e.firstChild===null||dA(n)}function bb(n,e,t,r=!0){let i=e[ye];if(KB(i,e,n,t),r){let s=m_(t,n),a=e[gt],c=VA(a,n[ps]);c!==null&&GB(i,n[xn],a,e,c,s)}let o=e[cu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function OU(n,e){let t=Nf(n,e);return t!==void 0&&hb(t[ye],t),t}function Ff(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(jr(o)),bi(o)&&LU(o,r);let s=t.type;if(s&8)Ff(n,e,t.child,r);else if(s&32){let a=ub(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=BA(e,t);if(Array.isArray(a))r.push(...a);else{let c=ms(e[Jn]);Ff(c[ye],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function LU(n,e){for(let t=Tn;t<n.length;t++){let r=n[t],i=r[ye].firstChild;i!==null&&Ff(r[ye],r,i,e)}n[ps]!==n[_i]&&e.push(n[ps])}var sM=[];function VU(n){return n[Yn]??jU(n)}function jU(n){let e=sM.pop()??Object.create(UU);return e.lView=n,e}function BU(n){n.lView[Yn]!==n&&(n.lView=null,sM.push(n))}var UU=De(U({},Wl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Zf(n.lView)},consumerOnSignalRead(){this.lView[Yn]=this}});function $U(n){let e=n[Yn]??Object.create(zU);return e.lView=n,e}var zU=De(U({},Wl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ms(n.lView);for(;e&&!aM(e[ye]);)e=ms(e);e&&PS(e)},consumerOnSignalRead(){this.lView[Yn]=this}});function aM(n){return n.type!==2}var HU=100;function cM(n,e=!0,t=0){let r=n[Vr],i=r.rendererFactory,o=!1;o||i.begin?.();try{qU(n,t)}catch(s){throw e&&oM(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function qU(n,e){let t=$S();try{Ex(!0),v_(n,e);let r=0;for(;Yf(n);){if(r===HU)throw new q(103,!1);r++,v_(n,1)}}finally{Ex(t)}}function GU(n,e,t,r){let i=e[ce];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Vr].inlineEffectRunner?.flush(),X_(e);let a=!0,c=null,u=null;o||(aM(n)?(u=VU(e),c=Sh(u)):NC()===null?(a=!1,u=$U(e),c=Sh(u)):e[Yn]&&(lv(e[Yn]),e[Yn]=null));try{kS(e),N2(n.bindingStartIndex),t!==null&&WA(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let g=n.preOrderCheckHooks;g!==null&&ff(e,g,null)}else{let g=n.preOrderHooks;g!==null&&pf(e,g,0,null),Av(e,0)}if(s||WU(e),lM(e,0),n.contentQueries!==null&&nM(n,e),!o)if(d){let g=n.contentCheckHooks;g!==null&&ff(e,g)}else{let g=n.contentHooks;g!==null&&pf(e,g,1),Av(e,1)}sU(n,e);let f=n.components;f!==null&&dM(e,f,0);let m=n.viewQuery;if(m!==null&&y_(2,m,r),!o)if(d){let g=n.viewCheckHooks;g!==null&&ff(e,g)}else{let g=n.viewHooks;g!==null&&pf(e,g,2),Av(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Sv]){for(let g of e[Sv])g();e[Sv]=null}o||(e[ce]&=-73)}catch(d){throw o||Zf(e),d}finally{u!==null&&(av(u,c),a&&BU(u)),J_()}}function lM(n,e){for(let t=fA(n);t!==null;t=pA(t))for(let r=Tn;r<t.length;r++){let i=t[r];uM(i,e)}}function WU(n){for(let e=fA(n);e!==null;e=pA(e)){if(!(e[ce]&Df.HasTransplantedViews))continue;let t=e[Ga];for(let r=0;r<t.length;r++){let i=t[r];PS(i)}}}function KU(n,e,t){let r=uo(e,n);uM(r,t)}function uM(n,e){Y_(n)&&v_(n,e)}function v_(n,e){let r=n[ye],i=n[ce],o=n[Yn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&cv(o)),s||=!1,o&&(o.dirty=!1),n[ce]&=-9217,s)GU(r,n,r.template,n[Xn]);else if(i&8192){lM(n,1);let a=r.components;a!==null&&dM(n,a,1)}}function dM(n,e,t){for(let r=0;r<e.length;r++)KU(n,e[r],t)}function wb(n,e){let t=$S()?64:1088;for(n[Vr].changeDetectionScheduler?.notify(e);n;){n[ce]|=t;let r=ms(n);if(Wv(n)&&!r)return n;n=r}return null}var bs=class{get rootNodes(){let e=this._lView,t=e[ye];return Ff(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xn]}set context(e){this._lView[Xn]=e}get destroyed(){return(this._lView[ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tn];if(bi(e)){let t=e[If],r=t?t.indexOf(this):-1;r>-1&&(Nf(e,r),bf(t,r))}this._attachedToViewContainer=!1}hb(this._lView[ye],this._lView)}onDestroy(e){FS(this._lView,e)}markForCheck(){wb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){Qv(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,cM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Wv(this._lView),t=this._lView[fs];t!==null&&!e&&db(t,this._lView),PA(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let t=Wv(this._lView),r=this._lView[fs];r!==null&&!t&&FA(r,this._lView),Qv(this._lView)}},Wa=(()=>{class n{static{this.__NG_ELEMENT_ID__=ZU}}return n})(),QU=Wa,YU=class extends QU{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=_b(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new bs(i)}};function ZU(){return sp(on(),Re())}function sp(n,e){return n.type&4?new YU(e,n,ic(n,e)):null}var Fee=new RegExp(`^(\\d+)*(${vB}|${yB})*(.*)`);var XU=()=>null;function Of(n,e){return XU(n,e)}var Ka=class{},ap=new $("",{providedIn:"root",factory:()=>!1});var hM=new $(""),fM=new $(""),__=class{},Lf=class{};function JU(n){let e=Error(`No component factory found for ${mn(n)}.`);return e[e$]=n,e}var e$="ngComponent";var b_=class{resolveComponentFactory(e){throw JU(e)}},Qa=class{static{this.NULL=new b_}},ao=class{},Is=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>t$()}}return n})();function t$(){let n=Re(),e=on(),t=uo(e.index,n);return(ro(t)?t:n)[gt]}var n$=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>null})}}return n})();function w_(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=jv(i,a);else if(o==2){let c=a,u=e[++s];r=jv(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Vf=class extends Qa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=oo(e);return new Ya(t,this.ngModule)}};function Ux(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:io.None;e?t.push({propName:s,templateName:r,isSignal:(a&io.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function r$(n){let e=n.toLowerCase();return e==="svg"?v2:e==="math"?_2:null}var Ya=class extends Lf{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Ux(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Ux(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Jj(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Me(null);try{i=i||this.ngModule;let s=i instanceof Cn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Zv(e,s):e,c=a.get(ao,null);if(c===null)throw new q(407,!1);let u=a.get(n$,null),d=a.get(Ka,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?lU(m,r,this.componentDef.encapsulation,a):kA(m,g,r$(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let D=null;_!==null&&(D=cb(_,a,!0));let F=mb(0,null,null,1,0,null,null,null,null,null,null),L=ip(null,F,null,w,null,null,f,m,a,null,D);X_(L);let P,z,ee=null;try{let Q=this.componentDef,I,v=null;Q.findHostDirectiveDefs?(I=[],v=new Map,Q.findHostDirectiveDefs(Q,I,v),I.push(Q)):I=[Q];let b=i$(L,_);ee=o$(b,_,Q,I,L,f,m),z=Q_(F,Nn),_&&c$(m,Q,_,r),t!==void 0&&l$(z,this.ngContentSelectors,t),P=a$(ee,Q,I,v,L,[u$]),vb(F,L,null)}catch(Q){throw ee!==null&&o_(ee),o_(L),Q}finally{J_()}return new E_(this.componentType,P,ic(z,L),L,z)}finally{Me(o)}}},E_=class extends __{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new bs(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;yb(o[ye],o,i,e,t),this.previousInputValues.set(e,t);let s=uo(this._tNode.index,o);wb(s,1)}}get injector(){return new hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function i$(n,e){let t=n[ye],r=Nn;return n[r]=e,vu(t,r,2,"#host",null)}function o$(n,e,t,r,i,o,s){let a=i[ye];s$(r,n,e,s);let c=null;e!==null&&(c=cb(e,i[qa]));let u=o.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let f=ip(i,ZA(t),null,d,i[n.index],n,o,u,null,null,c);return a.firstCreatePass&&g_(a,n,r.length-1),op(i,f),i[n.index]=f}function s$(n,e,t,r){for(let i of n)e.mergedAttrs=su(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(w_(e,e.mergedAttrs,!0),t!==null&&zA(r,t,e))}function a$(n,e,t,r,i,o){let s=on(),a=i[ye],c=er(s,i);JA(a,i,s,t,null,r);for(let d=0;d<t.length;d++){let f=s.directiveStart+d,m=vs(i,a,f,s);_s(m,i)}eM(a,i,s),c&&_s(c,i);let u=vs(i,a,s.directiveStart+s.componentOffset,s);if(n[Xn]=i[Xn]=u,o!==null)for(let d of o)d(u,e);return KA(a,s,i),u}function c$(n,e,t,r){if(r)zv(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=e2(e.selectors[0]);i&&zv(n,t,i),o&&o.length>0&&$A(n,t,o.join(" "))}}function l$(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function u$(){let n=on();nb(Re()[ye],n)}var fo=(()=>{class n{static{this.__NG_ELEMENT_ID__=d$}}return n})();function d$(){let n=on();return mM(n,Re())}var h$=fo,pM=class extends h${constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ic(this._hostTNode,this._hostLView)}get injector(){return new hs(this._hostTNode,this._hostLView)}get parentInjector(){let e=rb(this._hostTNode,this._hostLView);if(ZS(e)){let t=xf(e,this._hostLView),r=Cf(e),i=t[ye].data[r+8];return new hs(i,t)}else return new hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=$x(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Tn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Of(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Pf(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!p2(e),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new Ya(oo(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?u:this.parentInjector).get(Cn,null);w&&(o=w)}let d=oo(c.componentType??{}),f=Of(this._lContainer,d?.id??null),m=f?.firstChild??null,g=c.create(u,i,m,o);return this.insertImpl(g.hostView,a,Pf(this._hostTNode,f)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(E2(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[tn],u=new pM(c,c[xn],c[tn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return bb(s,i,o,r),e.attachToViewContainerRef(),sS(Pv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=$x(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Nf(this._lContainer,t);r&&(bf(Pv(this._lContainer),t),hb(r[ye],r))}detach(e){let t=this._adjustIndex(e,-1),r=Nf(this._lContainer,t);return r&&bf(Pv(this._lContainer),t)!=null?new bs(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function $x(n){return n[If]}function Pv(n){return n[If]||(n[If]=[])}function mM(n,e){let t,r=e[n.index];return bi(r)?t=r:(t=tM(r,e,null,n),e[n.index]=t,op(e,t)),p$(t,e,n,r),new pM(t,n,e)}function f$(n,e){let t=n[gt],r=t.createComment(""),i=er(e,n),o=VA(t,i);return kf(t,o,r,XB(t,i),!1),r}var p$=y$,m$=()=>!1;function g$(n,e,t){return m$(n,e,t)}function y$(n,e,t,r){if(n[ps])return;let i;t.type&8?i=jr(r):i=f$(e,t),n[ps]=i}var I_=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},D_=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Ib(e,t).matches!==null&&this.queries[t].setDirty()}},jf=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=I$(e):this.predicate=e}},T_=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},C_=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,v$(t,o)),this.matchTNodeWithReadOption(e,t,mf(t,e,o,!1,!1))}else r===Wa?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,mf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ke||i===fo||i===Wa&&t.type&4)this.addMatch(t.index,-2);else{let o=mf(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function v$(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function _$(n,e){return n.type&11?ic(n,e):n.type&4?sp(n,e):null}function b$(n,e,t,r){return t===-1?_$(e,n):t===-2?w$(n,e,r):vs(n,n[ye],t,e)}function w$(n,e,t){if(t===ke)return ic(e,n);if(t===Wa)return sp(e,n);if(t===fo)return mM(e,n)}function gM(n,e,t,r){let i=e[gi].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(b$(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function x_(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=gM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let f=Tn;f<d.length;f++){let m=d[f];m[fs]===m[tn]&&x_(m[ye],m,u,r)}if(d[Ga]!==null){let f=d[Ga];for(let m=0;m<f.length;m++){let g=f[m];x_(g[ye],g,u,r)}}}}}return r}function Eb(n,e){return n[gi].queries[e].queryList}function yM(n,e,t){let r=new Rf((t&4)===4);return hU(n,e,r,r.destroy),(e[gi]??=new D_).queries.push(new I_(r))-1}function E$(n,e,t){let r=Lt();return r.firstCreatePass&&(_M(r,new jf(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),yM(r,Re(),e)}function vM(n,e,t,r){let i=Lt();if(i.firstCreatePass){let o=on();_M(i,new jf(e,t,r),o.index),D$(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return yM(i,Re(),t)}function I$(n){return n.split(",").map(e=>e.trim())}function _M(n,e,t){n.queries===null&&(n.queries=new T_),n.queries.track(new C_(e,t))}function D$(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Ib(n,e){return n.queries.getByIndex(e)}function bM(n,e){let t=n[ye],r=Ib(t,e);return r.crossesNgTemplate?x_(t,n,e,[]):gM(t,n,r,e)}var zx=new Set;function Ii(n){zx.has(n)||(zx.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function wM(n){return typeof n=="function"&&n[fr]!==void 0}function po(n,e){Ii("NgSignals");let t=$C(n),r=t[fr];return e?.equal&&(r.equal=e.equal),t.set=i=>dv(r,i),t.update=i=>zC(r,i),t.asReadonly=T$.bind(t),t}function T$(){let n=this[fr];if(n.readonlyFn===void 0){let e=()=>this();e[fr]=n,n.readonlyFn=e}return n.readonlyFn}function EM(n){return wM(n)&&typeof n.set=="function"}function IM(n,e){let t,r=uv(()=>{t._dirtyCounter();let i=A$(t,n);if(e&&i===void 0)throw new q(-951,!1);return i});return t=r[fr],t._dirtyCounter=po(0),t._flatValue=void 0,r}function C$(){return IM(!0,!1)}function x$(){return IM(!0,!0)}function S$(n,e){let t=n[fr];t._lView=Re(),t._queryIndex=e,t._queryList=Eb(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function A$(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[ce]&4)return e?void 0:pn;let i=Eb(t,r),o=bM(t,r);return i.reset(o,uA),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}function Hx(n,e){return C$()}function M$(n,e){return x$()}var DM=(Hx.required=M$,Hx);function R$(n){return Object.getPrototypeOf(n.prototype).constructor}function Fn(n){let e=R$(n.type),t=!0,r=[n];for(;e;){let i;if(so(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=lf(n.inputs),s.inputTransforms=lf(n.inputTransforms),s.declaredInputs=lf(n.declaredInputs),s.outputs=lf(n.outputs);let a=i.hostBindings;a&&O$(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&P$(n,c),u&&F$(n,u),N$(n,i),vj(n.outputs,i.outputs),so(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Fn&&(t=!1)}}e=Object.getPrototypeOf(e)}k$(r)}function N$(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function k$(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=su(i.hostAttrs,t=su(t,i.hostAttrs))}}function lf(n){return n===$a?{}:n===pn?[]:n}function P$(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function F$(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function O$(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function tr(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var co=class{},uu=class{};var S_=class extends co{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vf(this);let o=gS(e);this._bootstrapComponents=RA(o.bootstrap),this._r3Injector=sA(e,t,[{provide:co,useValue:this},{provide:Qa,useValue:this.componentFactoryResolver},...r],mn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},A_=class extends uu{constructor(e){super(),this.moduleType=e}create(e){return new S_(this.moduleType,e,[])}};var Bf=class extends co{constructor(e){super(),this.componentFactoryResolver=new Vf(this),this.instance=null;let t=new au([...e.providers,{provide:co,useValue:this},{provide:Qa,useValue:this.componentFactoryResolver}],e.parent||W_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cp(n,e,t=null){return new Bf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function mo(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function L$(n){return(n.flags&32)===32}function V$(n,e,t,r,i,o,s,a,c){let u=e.consts,d=vu(e,n,4,s||null,a||null);XA(e,t,d,Tf(u,c)),nb(e,d);let f=d.tView=mb(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function TM(n,e,t,r,i,o,s,a,c,u){let d=t+Nn,f=e.firstCreatePass?V$(d,e,n,r,i,o,s,a,c):e.data[d];pu(f,!1);let m=j$(e,n,f,t);eb()&&fb(e,n,m,f),_s(m,n);let g=tM(m,n,m,f);return n[d]=g,op(n,g),g$(g,f,n),K_(f)&&QA(e,n,f),c!=null&&YA(n,f,u),f}function it(n,e,t,r,i,o,s,a){let c=Re(),u=Lt(),d=Tf(u.consts,o);return TM(c,u,n,e,t,r,i,d,s,a),it}var j$=B$;function B$(n,e,t,r){return tb(!0),e[gt].createComment("")}var Va=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Va||{}),CM=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})(),M_=class n{constructor(){this.ngZone=V(ne),this.scheduler=V(Ka),this.errorHandler=V(kn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Va.EarlyRead,Va.Write,Va.MixedReadWrite,Va.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}},R_=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Db(n,e){!e?.injector&&DS(Db);let t=e?.injector??V(gn);return NA(t)?(Ii("NgAfterRender"),xM(n,t,e,!1)):SM}function lp(n,e){!e?.injector&&DS(lp);let t=e?.injector??V(gn);return NA(t)?(Ii("NgAfterNextRender"),xM(n,t,e,!0)):SM}function U$(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function xM(n,e,t,r){let i=e.get(CM);i.impl??=e.get(M_);let o=t?.phase??Va.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(ib):null,a=new R_(i.impl,U$(n,o),r,s);return i.impl.register(a),a}var SM={destroy(){}};function Gt(n,e,t,r){let i=Re(),o=ec();if(mo(i,o,e)){let s=Lt(),a=Jf();xU(a,i,n,e,t,r)}return Gt}function $$(n,e,t,r){return mo(n,ec(),t)?e+Hf(t)+r:Ei}function uf(n,e){return n<<17|e<<2}function ws(n){return n>>17&32767}function z$(n){return(n&2)==2}function H$(n,e){return n&131071|e<<17}function N_(n){return n|2}function Za(n){return(n&131068)>>2}function Fv(n,e){return n&-131069|e<<2}function q$(n){return(n&1)===1}function k_(n){return n|1}function G$(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ws(s),c=Za(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||fu(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let m=ws(n[a+1]);n[r+1]=uf(m,a),m!==0&&(n[m+1]=Fv(n[m+1],r)),n[a+1]=H$(n[a+1],r)}else n[r+1]=uf(a,0),a!==0&&(n[a+1]=Fv(n[a+1],r)),a=r;else n[r+1]=uf(c,0),a===0?a=r:n[c+1]=Fv(n[c+1],r),c=r;u&&(n[r+1]=N_(n[r+1])),qx(n,d,r,!0),qx(n,d,r,!1),W$(e,d,n,r,o),s=uf(a,c),o?e.classBindings=s:e.styleBindings=s}function W$(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&fu(o,e)>=0&&(t[r+1]=k_(t[r+1]))}function qx(n,e,t,r){let i=n[t+1],o=e===null,s=r?ws(i):Za(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];K$(c,e)&&(a=!0,n[s+1]=r?k_(u):N_(u)),s=r?ws(u):Za(u)}a&&(n[t+1]=r?N_(i):k_(i))}function K$(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?fu(n,e)>=0:!1}var vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Q$(n){return n.substring(vr.key,vr.keyEnd)}function Y$(n){return Z$(n),AM(n,MM(n,0,vr.textEnd))}function AM(n,e){let t=vr.textEnd;return t===e?-1:(e=vr.keyEnd=X$(n,vr.key=e,t),MM(n,e,t))}function Z$(n){vr.key=0,vr.keyEnd=0,vr.value=0,vr.valueEnd=0,vr.textEnd=n.length}function MM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function X$(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function at(n,e,t){let r=Re(),i=ec();if(mo(r,i,e)){let o=Lt(),s=Jf();gb(o,s,r,n,e,r[gt],t,!1)}return at}function P_(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";yb(n,t,o[s],s,r)}function Ze(n,e){return ez(n,e,null,!0),Ze}function Ds(n){tz(az,J$,n,!0)}function J$(n,e){for(let t=Y$(e);t>=0;t=AM(e,t))z_(n,Q$(e),!0)}function ez(n,e,t,r){let i=Re(),o=Lt(),s=zS(2);if(o.firstUpdatePass&&NM(o,n,s,r),e!==Ei&&mo(i,s,e)){let a=o.data[Es()];kM(o,a,i,i[gt],n,i[s+1]=lz(e,t),r,s)}}function tz(n,e,t,r){let i=Lt(),o=zS(2);i.firstUpdatePass&&NM(i,null,o,r);let s=Re();if(t!==Ei&&mo(s,o,t)){let a=i.data[Es()];if(PM(a,r)&&!RM(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=jv(c,t||"")),P_(i,a,s,t,r)}else cz(i,a,s,s[gt],s[o+1],s[o+1]=sz(n,e,t),r,o)}}function RM(n,e){return e>=n.expandoStartIndex}function NM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Es()],s=RM(n,t);PM(o,r)&&e===null&&!s&&(e=!1),e=nz(i,o,e,r),G$(i,o,e,t,s,r)}}function nz(n,e,t,r){let i=O2(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ov(null,n,e,t,r),t=du(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Ov(i,n,e,t,r),o===null){let c=rz(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Ov(null,n,e,c[1],r),c=du(c,e.attrs,r),iz(n,e,r,c))}else o=oz(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function rz(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Za(r)!==0)return n[ws(r)]}function iz(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ws(i)]=r}function oz(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=du(r,s,t)}return du(r,e.attrs,t)}function Ov(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=du(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function du(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),z_(n,s,t?!0:e[++o]))}return n===void 0?null:n}function sz(n,e,t){if(t==null||t==="")return pn;let r=[],i=wr(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function az(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&z_(n,r,t)}function cz(n,e,t,r,i,o,s,a){i===Ei&&(i=pn);let c=0,u=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let m=c<i.length?i[c+1]:void 0,g=u<o.length?o[u+1]:void 0,_=null,w;d===f?(c+=2,u+=2,m!==g&&(_=f,w=g)):f===null||d!==null&&d<f?(c+=2,_=d):(u+=2,_=f,w=g),_!==null&&kM(n,e,t,r,_,w,s,a),d=c<i.length?i[c]:null,f=u<o.length?o[u]:null}}function kM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=q$(u)?Gx(c,e,t,i,Za(u),s):void 0;if(!Uf(d)){Uf(o)||z$(u)&&(o=Gx(c,null,t,i,a,s));let f=NS(Es(),t);iU(r,s,f,i,o)}}function Gx(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,m=t[i+1];m===Ei&&(m=f?pn:void 0);let g=f?Cv(m,r):d===r?m:void 0;if(u&&!Uf(g)&&(g=Cv(c,r)),Uf(g)&&(a=g,s))return a;let _=n[i+1];i=s?ws(_):Za(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Cv(c,r))}return a}function Uf(n){return n!==void 0}function lz(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=mn(wr(n)))),n}function PM(n,e){return(n.flags&(e?8:16))!==0}function yn(n,e){Ii("NgControlFlow");let t=Re(),r=ec(),i=t[r]!==Ei?t[r]:-1,o=i!==-1?Wx(t,Nn+i):void 0,s=0;if(mo(t,r,n)){let a=Me(null);try{if(o!==void 0&&OU(o,s),n!==-1){let c=Nn+n,u=Wx(t,c),d=uz(t[ye],c),f=Of(u,d.tView.ssrId),m=_b(t,d,e,{dehydratedView:f});bb(u,m,s,Pf(d,f))}}finally{Me(a)}}else if(o!==void 0){let a=FU(o,s);a!==void 0&&(a[Xn]=e)}}function Wx(n,e){return n[e]}function uz(n,e){return Q_(n,e)}function dz(n,e,t,r,i,o){let s=e.consts,a=Tf(s,i),c=vu(e,n,2,r,a);return XA(e,t,c,Tf(s,o)),c.attrs!==null&&w_(c,c.attrs,!1),c.mergedAttrs!==null&&w_(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function re(n,e,t,r){let i=Re(),o=Lt(),s=Nn+n,a=i[gt],c=o.firstCreatePass?dz(s,o,i,e,t,r):o.data[s],u=hz(o,i,c,a,e,n);i[s]=u;let d=K_(c);return pu(c,!0),zA(a,u,c),!L$(c)&&eb()&&fb(o,i,u,c),T2()===0&&_s(u,i),C2(),d&&(QA(o,i,c),KA(o,c,i)),r!==null&&YA(i,c),re}function Z(){let n=on();BS()?US():(n=n.parent,pu(n,!1));let e=n;S2(e)&&A2(),x2();let t=Lt();return t.firstCreatePass&&(nb(t,n),xS(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&z2(e)&&P_(t,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&H2(e)&&P_(t,e,Re(),e.stylesWithoutHost,!1),Z}function yt(n,e,t,r){return re(n,e,t,r),Z(),yt}var hz=(n,e,t,r,i,o)=>(tb(!0),kA(r,i,j2()));function $r(){return Re()}function oc(n,e,t){let r=Re(),i=ec();if(mo(r,i,e)){let o=Lt(),s=Jf();gb(o,s,r,n,e,r[gt],t,!0)}return oc}var $f="en-US";var fz=$f;function pz(n){typeof n=="string"&&(fz=n.toLowerCase().replace(/_/g,"-"))}var mz=(n,e,t)=>{};function vt(n,e,t,r){let i=Re(),o=Lt(),s=on();return FM(o,i,i[gt],s,n,e,r),vt}function gz(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ef],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function FM(n,e,t,r,i,o,s){let a=K_(r),u=n.firstCreatePass&&iM(n),d=e[Xn],f=rM(e),m=!0;if(r.type&3||s){let w=er(r,e),D=s?s(w):w,F=f.length,L=s?z=>s(jr(z[r.index])):r.index,P=null;if(!s&&a&&(P=gz(n,e,i,r.index)),P!==null){let z=P.__ngLastListenerFn__||P;z.__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,m=!1}else{o=Qx(r,e,d,o),mz(w,i,o);let z=t.listen(D,i,o);f.push(o,z),u&&u.push(i,L,F,F+1)}}else o=Qx(r,e,d,o);let g=r.outputs,_;if(m&&g!==null&&(_=g[i])){let w=_.length;if(w)for(let D=0;D<w;D+=2){let F=_[D],L=_[D+1],ee=e[F][L].subscribe(o),Q=f.length;f.push(o,ee),u&&u.push(i,r.index,Q,-(Q+1))}}}function Kx(n,e,t,r){let i=Me(null);try{return Fr(6,e,t),t(r)!==!1}catch(o){return oM(n,o),!1}finally{Fr(7,e,t),Me(i)}}function Qx(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?uo(n.index,e):e;wb(s,5);let a=Kx(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Kx(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Ut(n=1){return V2(n)}function yz(n,e){let t=null,r=Kj(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?hS(n,o,!0):Zj(r,o))return i}return t}function On(n){let e=Re()[Jn][xn];if(!e.projection){let t=n?n.length:1,r=e.projection=jj(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?yz(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Xe(n,e=0,t,r,i,o){let s=Re(),a=Lt(),c=r?n+1:null;c!==null&&TM(s,a,c,r,i,o,null,t);let u=vu(a,Nn+n,16,null,t||null);u.projection===null&&(u.projection=e),US();let f=!s[cu]||VS();s[Jn][xn].projection[u.projection]===null&&c!==null?vz(s,a,c):f&&(u.flags&32)!==32&&nU(a,s,u)}function vz(n,e,t){let r=Nn+t,i=e.data[r],o=n[r],s=Of(o,i.tView.ssrId),a=_b(n,i,void 0,{dehydratedView:s});bb(o,a,0,Pf(i,s))}function Di(n,e,t,r){vM(n,e,t,r)}function Ln(n,e,t){E$(n,e,t)}function Et(n){let e=Re(),t=Lt(),r=Z_();Xf(r+1);let i=Ib(t,r);if(n.dirty&&w2(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=bM(e,r);n.reset(o,uA),n.notifyOnChanges()}return!0}return!1}function It(){return Eb(Re(),Z_())}function OM(n,e,t,r,i){S$(e,vM(n,t,r,i))}function LM(n=1){Xf(Z_()+n)}function Ts(n){let e=R2();return b2(e,Nn+n)}function Ee(n,e=""){let t=Re(),r=Lt(),i=n+Nn,o=r.firstCreatePass?vu(r,i,1,e,null):r.data[i],s=_z(r,t,o,e,n);t[i]=s,eb()&&fb(r,t,s,o),pu(o,!1)}var _z=(n,e,t,r,i)=>(tb(!0),zB(e[gt],r));function Cs(n){return sc("",n,""),Cs}function sc(n,e,t){let r=Re(),i=$$(r,n,e,t);return i!==Ei&&RU(r,Es(),i),sc}function go(n,e,t){EM(e)&&(e=e());let r=Re(),i=ec();if(mo(r,i,e)){let o=Lt(),s=Jf();gb(o,s,r,n,e,r[gt],t,!1)}return go}function xs(n,e){let t=EM(n);return t&&n.set(e),t}function yo(n,e){let t=Re(),r=Lt(),i=on();return FM(r,t,t[gt],i,n,e),yo}function bz(n,e,t){let r=Lt();if(r.firstCreatePass){let i=so(n);F_(t,r.data,r.blueprint,i,!0),F_(e,r.data,r.blueprint,i,!1)}}function F_(n,e,t,r,i){if(n=fn(n),Array.isArray(n))for(let o=0;o<n.length;o++)F_(n[o],e,t,r,i);else{let o=Lt(),s=Re(),a=on(),c=Ha(n)?n:fn(n.provide),u=ES(n),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Ha(n)||!n.multi){let g=new ys(u,i,j),_=Vv(c,e,i?d:d+m,f);_===-1?(Jv(Sf(a,s),o,c),Lv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[_]=g,s[_]=g)}else{let g=Vv(c,e,d+m,f),_=Vv(c,e,d,d+m),w=g>=0&&t[g],D=_>=0&&t[_];if(i&&!D||!i&&!w){Jv(Sf(a,s),o,c);let F=Iz(i?Ez:wz,t.length,i,r,u);!i&&D&&(t[_].providerFactory=F),Lv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=VM(t[i?_:g],u,!i&&r);Lv(o,n,g>-1?g:_,F)}!i&&r&&D&&t[_].componentProviders++}}}function Lv(n,e,t,r){let i=Ha(e),o=a2(e);if(i||o){let c=(o?fn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function VM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Vv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function wz(n,e,t,r){return O_(this.multi,[])}function Ez(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=vs(t,t[ye],this.providerFactory.index,r);o=a.slice(0,s),O_(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],O_(i,o);return o}function O_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Iz(n,e,t,r,i){let o=new ys(n,t,j);return o.multi=[],o.index=e,o.componentProviders=0,VM(o,i,r&&!t),o}function nr(n,e=[]){return t=>{t.providersResolver=(r,i)=>bz(r,i?i(n):n,e)}}var Dz=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=_S(!1,t.type),i=r.length>0?cp([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(R(Cn))})}}return n})();function $e(n){Ii("NgStandalone"),n.getStandaloneInjector=e=>e.get(Dz).getOrCreateStandaloneInjector(n)}function jM(n,e){return sp(n,e)}var Br=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},BM=new Br("18.2.13");var up=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Tb=new $(""),_u=new $(""),dp=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Cb||(Tz(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(R(ne),R(hp),R(_u))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),hp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Cb?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function Tz(n){Cb=n}var Cb;function Ss(n){return!!n&&typeof n.then=="function"}function UM(n){return!!n&&typeof n.subscribe=="function"}var fp=new $(""),$M=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=V(fp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Ss(o))t.push(o);else if(UM(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pp=new $("");function Cz(){UC(()=>{throw new q(600,!1)})}function xz(n){return n.isBoundToModule}var Sz=10;function Az(n,e,t){try{let r=t();return Ss(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var vo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(lB),this.afterRenderManager=V(CM),this.zonelessEnabled=V(ap),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Te,this.afterTick=new Te,this.componentTypes=[],this.components=[],this.isStable=V(rc).hasPendingTasks.pipe(Y(t=>!t)),this._injector=V(Cn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Lf;if(!this._injector.get($M).done){let m=!i&&mS(t),g=!1;throw new q(405,g)}let s;i?s=t:s=this._injector.get(Qa).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=xz(s)?void 0:this._injector.get(co),c=r||s.selector,u=s.create(gn.NULL,[],c,a),d=u.location.nativeElement,f=u.injector.get(Tb,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),gf(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new q(101,!1);let t=Me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Me(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ao,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Sz;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Mz(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Yf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;gf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(pp,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>gf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function gf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Mz(n,e,t,r){if(!t&&!Yf(n))return;cM(n,e,t&&!r?0:1)}var L_=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},mp=(()=>{class n{compileModuleSync(t){return new A_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=gS(t),o=RA(i.declarations).reduce((s,a)=>{let c=oo(a);return c&&s.push(new Ya(c)),s},[]);return new L_(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Rz=(()=>{class n{constructor(){this.zone=V(ne),this.changeDetectionScheduler=V(Ka),this.applicationRef=V(vo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Nz=new $("",{factory:()=>!1});function zM({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ne(De(U({},qM()),{scheduleInRootZone:t})),[{provide:ne,useFactory:n},{provide:za,multi:!0,useFactory:()=>{let r=V(Rz,{optional:!0});return()=>r.initialize()}},{provide:za,multi:!0,useFactory:()=>{let r=V(kz);return()=>{r.initialize()}}},e===!0?{provide:hM,useValue:!0}:[],{provide:fM,useValue:t??aA}]}function HM(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=zM({ngZoneFactory:()=>{let i=qM(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ii("NgZone_CoalesceEvent"),new ne(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Gf([{provide:Nz,useValue:!0},{provide:ap,useValue:!1},r])}function qM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var kz=(()=>{class n{constructor(){this.subscription=new qe,this.initialized=!1,this.zone=V(ne),this.pendingTasks=V(rc)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Pz=(()=>{class n{constructor(){this.appRef=V(vo),this.taskService=V(rc),this.ngZone=V(ne),this.zonelessEnabled=V(ap),this.disableScheduling=V(hM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new qe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Mf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(fM,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof i_||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Sx:cA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Mf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Sx(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Fz(){return typeof $localize<"u"&&$localize.locale||$f}var gp=new $("",{providedIn:"root",factory:()=>V(gp,Ie.Optional|Ie.SkipSelf)||Fz()});var V_=new $("");function df(n){return!n.moduleRef}function Oz(n){let e=df(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ne);return t.run(()=>{df(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(kn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),df(n)){let o=()=>e.destroy(),s=n.platformInjector.get(V_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(V_);s.add(o),n.moduleRef.onDestroy(()=>{gf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Az(r,t,()=>{let o=e.get($M);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(gp,$f);if(pz(s||$f),df(n)){let a=e.get(vo);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return Lz(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Lz(n,e){let t=n.injector.get(vo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new q(-403,!1);e.push(n)}var yf=null;function Vz(n=[],e){return gn.create({name:e,providers:[{provide:Wf,useValue:"platform"},{provide:V_,useValue:new Set([()=>yf=null])},...n]})}function jz(n=[]){if(yf)return yf;let e=Vz(n);return yf=e,Cz(),Bz(e),e}function Bz(n){n.get(ab,null)?.forEach(t=>t())}function xb(){return!1}var Er=(()=>{class n{static{this.__NG_ELEMENT_ID__=Uz}}return n})();function Uz(n){return $z(on(),Re(),(n&16)===16)}function $z(n,e,t){if(Qf(n)&&!t){let r=uo(n.index,e);return new bs(r,r)}else if(n.type&175){let r=e[Jn];return new bs(r,e)}return null}var GM=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(R(vo))}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({})}}return n})();function WM(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=jz(r),o=[zM({}),{provide:Ka,useExisting:Pz},...t||[]],s=new Bf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Oz({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function $t(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ti(n,e){Ii("NgSignals");let t=uv(n);return e?.equal&&(t[fr].equal=e.equal),t}function zr(n){let e=Me(null);try{return n()}finally{Me(e)}}function KM(n){let e=oo(n);if(!e)return null;let t=new Ya(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var XM=null;function Hr(){return XM}function JM(n){XM??=n}var yp=class{};var Oe=new $(""),Rb=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>V(qz),providedIn:"platform"})}}return n})(),eR=new $(""),qz=(()=>{class n extends Rb{constructor(){super(),this._doc=V(Oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hr().getBaseHref(this._doc)}onPopState(t){let r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Nb(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function QM(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ci(n){return n&&n[0]!=="?"?"?"+n:n}var xi=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>V(kb),providedIn:"root"})}}return n})(),tR=new $(""),kb=(()=>{class n extends xi{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(Oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Nb(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ci(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ci(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ci(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(R(Rb),R(tR,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nR=(()=>{class n extends xi{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Nb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ci(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ci(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(R(Rb),R(tR,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),ac=(()=>{class n{constructor(t){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Kz(QM(YM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ci(r))}normalize(t){return n.stripTrailingSlash(Wz(this._basePath,YM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ci(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ci(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Ci}static{this.joinWithSlash=Nb}static{this.stripTrailingSlash=QM}static{this.\u0275fac=function(r){return new(r||n)(R(xi))}}static{this.\u0275prov=H({token:n,factory:()=>Gz(),providedIn:"root"})}}return n})();function Gz(){return new ac(R(xi))}function Wz(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function YM(n){return n.replace(/\/index.html$/,"")}function Kz(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function rR(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var _o=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Sb,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ZM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ZM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(j(fo),j(Wa))}}static{this.\u0275dir=Se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Sb=class{constructor(){this.$implicit=null,this.ngIf=null}};function ZM(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${mn(e)}'.`)}var iR=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(j(fo))}}static{this.\u0275dir=Se({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Pn]})}}return n})();var Sn=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({})}}return n})(),Pb="browser",Qz="server";function Fb(n){return n===Pb}function As(n){return n===Qz}var oR=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>Fb(V(Bt))?new Ab(V(Oe),window):new Mb})}}return n})(),Ab=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=Yz(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Yz(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Mb=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},vp=class{};var Lb=class{};var cc=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Vb=class{encodeKey(e){return sR(e)}encodeValue(e){return sR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Zz(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var Xz=/%(\d[a-f0-9])/gi,Jz={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sR(n){return encodeURIComponent(n).replace(Xz,(e,t)=>Jz[t]??e)}function _p(n){return`${n}`}var bo=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Vb,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Zz(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(_p):[_p(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(_p(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(_p(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var jb=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function e4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function aR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cR(n){return typeof Blob<"u"&&n instanceof Blob}function lR(n){return typeof FormData<"u"&&n instanceof FormData}function t4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var wu=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(e4(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new cc,this.context??=new jb,!this.params)this.params=new bo,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||aR(this.body)||cR(this.body)||lR(this.body)||t4(this.body)?this.body:this.body instanceof bo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||lR(this.body)?null:cR(this.body)?this.body.type||null:aR(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof bo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),d)),new n(t,r,s,{params:d,headers:u,context:f,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},uR=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(uR||{}),Bb=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new cc,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Ub=class n extends Bb{constructor(e={}){super(e),this.type=uR.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function Ob(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var dR=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof wu)o=t;else{let c;i.headers instanceof cc?c=i.headers:c=new cc(i.headers);let u;i.params&&(i.params instanceof bo?u=i.params:u=new bo({fromObject:i.params})),o=new wu(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=J(o).pipe(pi(c=>this.handler.handle(c)));if(t instanceof wu||i.observe==="events")return s;let a=s.pipe(st(c=>c instanceof Ub));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Y(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Y(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Y(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Y(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new bo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Ob(i,r))}post(t,r,i={}){return this.request("POST",t,Ob(i,r))}put(t,r,i={}){return this.request("PUT",t,Ob(i,r))}static{this.\u0275fac=function(r){return new(r||n)(R(Lb))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();var Hb=class extends yp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qb=class n extends Hb{static makeCurrent(){JM(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=r4();return t==null?null:i4(t)}resetBaseElement(){Eu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rR(document.cookie,e)}},Eu=null;function r4(){return Eu=Eu||document.querySelector("base"),Eu?Eu.getAttribute("href"):null}function i4(n){return new URL(n,document.baseURI).pathname}var Gb=class{addToWindow(e){Zn.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new q(5103,!1);return o},Zn.getAllAngularTestabilities=()=>e.getAllTestabilities(),Zn.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=Zn.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Zn.frameworkStabilizers||(Zn.frameworkStabilizers=[]),Zn.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?Hr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},o4=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Wb=new $(""),pR=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(R(Wb),R(ne))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),bp=class{constructor(e){this._doc=e}},$b="ng-app-id",mR=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=As(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${$b}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute($b),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute($b,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(R(Oe),R(mu),R(gu,8),R(Bt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),zb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qb=/%COMP%/g,gR="%COMP%",s4=`_nghost-${gR}`,a4=`_ngcontent-${gR}`,c4=!0,l4=new $("",{providedIn:"root",factory:()=>c4});function u4(n){return a4.replace(Qb,n)}function d4(n){return s4.replace(Qb,n)}function yR(n,e){return e.map(t=>t.replace(Qb,n))}var wp=(()=>{class n{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=As(a),this.defaultRenderer=new Iu(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Lr.ShadowDom&&(r=De(U({},r),{encapsulation:Lr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ep?i.applyToHost(t):i instanceof Du&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Lr.Emulated:o=new Ep(c,u,r,this.appId,d,s,a,f);break;case Lr.ShadowDom:return new Kb(c,u,t,r,s,a,this.nonce,f);default:o=new Du(c,u,r,d,s,a,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(R(pR),R(mR),R(mu),R(l4),R(Oe),R(Bt),R(ne),R(gu))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Iu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(zb[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(hR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(hR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=zb[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=zb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(vi.DashCase|vi.Important)?e.style.setProperty(t,r,i&vi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&vi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function hR(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Kb=class extends Iu{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=yR(i.id,i.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Du=class extends Iu{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?yR(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ep=class extends Du{constructor(e,t,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,t,r,o,s,a,c,u),this.contentAttr=u4(u),this.hostAttr=d4(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},h4=(()=>{class n extends bp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(R(Oe))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),fR=["alt","control","meta","shift"],f4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},m4=(()=>{class n extends bp{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),fR.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=f4[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),fR.forEach(s=>{if(s!==i){let a=p4[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(R(Oe))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function vR(n,e){return WM(U({rootComponent:n},g4(e)))}function g4(n){return{appProviders:[..._R,...n?.providers??[]],platformProviders:b4}}function y4(){qb.makeCurrent()}function v4(){return new kn}function _4(){return gA(document),document}var b4=[{provide:Bt,useValue:Pb},{provide:ab,useValue:y4,multi:!0},{provide:Oe,useFactory:_4,deps:[]}];var w4=new $(""),E4=[{provide:_u,useClass:Gb,deps:[]},{provide:Tb,useClass:dp,deps:[ne,hp,_u]},{provide:dp,useClass:dp,deps:[ne,hp,_u]}],_R=[{provide:Wf,useValue:"root"},{provide:kn,useFactory:v4,deps:[]},{provide:Wb,useClass:h4,multi:!0,deps:[Oe,ne,Bt]},{provide:Wb,useClass:m4,multi:!0,deps:[Oe]},wp,mR,pR,{provide:ao,useExisting:wp},{provide:vp,useClass:o4,deps:[]},[]],bR=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:mu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(R(w4,12))}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({providers:[..._R,...E4],imports:[Sn,GM]})}}return n})();var wR=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(R(Oe))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Yb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=R(I4),i},providedIn:"root"})}}return n})(),I4=(()=>{class n extends Yb{constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case sn.NONE:return r;case sn.HTML:return ho(r,"HTML")?wr(r):SA(this._doc,String(r)).toString();case sn.STYLE:return ho(r,"Style")?wr(r):r;case sn.SCRIPT:if(ho(r,"Script"))return wr(r);throw new q(5200,!1);case sn.URL:return ho(r,"URL")?wr(r):tp(String(r));case sn.RESOURCE_URL:if(ho(r,"ResourceURL"))return wr(r);throw new q(5201,!1);default:throw new q(5202,!1)}}bypassSecurityTrustHtml(t){return vA(t)}bypassSecurityTrustStyle(t){return _A(t)}bypassSecurityTrustScript(t){return bA(t)}bypassSecurityTrustUrl(t){return wA(t)}bypassSecurityTrustResourceUrl(t){return EA(t)}static{this.\u0275fac=function(r){return new(r||n)(R(Oe))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var be="primary",ju=Symbol("RouteTitle"),tw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function pc(n){return new tw(n)}function D4(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function T4(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qr(n[t],e[t]))return!1;return!0}function qr(n,e){let t=n?nw(n):void 0,r=e?nw(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!kR(n[i],e[i]))return!1;return!0}function nw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function kR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function PR(n){return n.length>0?n[n.length-1]:null}function Io(n){return Zh(n)?n:Ss(n)?pe(Promise.resolve(n)):J(n)}var C4={exact:OR,subset:LR},FR={exact:x4,subset:S4,ignored:()=>!0};function IR(n,e,t){return C4[t.paths](n.root,e.root,t.matrixParams)&&FR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function x4(n,e){return qr(n,e)}function OR(n,e,t){if(!Rs(n.segments,e.segments)||!Tp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!OR(n.children[r],e.children[r],t))return!1;return!0}function S4(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kR(n[t],e[t]))}function LR(n,e,t){return VR(n,e,e.segments,t)}function VR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Rs(i,t)||e.hasChildren()||!Tp(i,t,r))}else if(n.segments.length===t.length){if(!Rs(n.segments,t)||!Tp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!LR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Rs(n.segments,i)||!Tp(n.segments,i,r)||!n.children[be]?!1:VR(n.children[be],e,o,r)}}function Tp(n,e,t){return e.every((r,i)=>FR[t](n[i].parameters,r.parameters))}var Ai=class{constructor(e=new Be([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=pc(this.queryParams),this._queryParamMap}toString(){return R4.serialize(this)}},Be=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cp(this)}},Ms=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=pc(this.parameters),this._parameterMap}toString(){return BR(this)}};function A4(n,e){return Rs(n,e)&&n.every((t,r)=>qr(t.parameters,e[r].parameters))}function Rs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function M4(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===be&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==be&&(t=t.concat(e(i,r)))}),t}var Bu=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>new mc,providedIn:"root"})}}return n})(),mc=class{parse(e){let t=new iw(e);return new Ai(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Tu(e.root,!0)}`,r=P4(e.queryParams),i=typeof e.fragment=="string"?`#${N4(e.fragment)}`:"";return`${t}${r}${i}`}},R4=new mc;function Cp(n){return n.segments.map(e=>BR(e)).join("/")}function Tu(n,e){if(!n.hasChildren())return Cp(n);if(e){let t=n.children[be]?Tu(n.children[be],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==be&&r.push(`${i}:${Tu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=M4(n,(r,i)=>i===be?[Tu(n.children[be],!1)]:[`${i}:${Tu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[be]!=null?`${Cp(n)}/${t[0]}`:`${Cp(n)}/(${t.join("//")})`}}function jR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ip(n){return jR(n).replace(/%3B/gi,";")}function N4(n){return encodeURI(n)}function rw(n){return jR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xp(n){return decodeURIComponent(n)}function DR(n){return xp(n.replace(/\+/g,"%20"))}function BR(n){return`${rw(n.path)}${k4(n.parameters)}`}function k4(n){return Object.entries(n).map(([e,t])=>`;${rw(e)}=${rw(t)}`).join("")}function P4(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ip(t)}=${Ip(i)}`).join("&"):`${Ip(t)}=${Ip(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var F4=/^[^\/()?;#]+/;function Zb(n){let e=n.match(F4);return e?e[0]:""}var O4=/^[^\/()?;=#]+/;function L4(n){let e=n.match(O4);return e?e[0]:""}var V4=/^[^=?&#]+/;function j4(n){let e=n.match(V4);return e?e[0]:""}var B4=/^[^&#]+/;function U4(n){let e=n.match(B4);return e?e[0]:""}var iw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Be([],{}):new Be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[be]=new Be(e,t)),r}parseSegment(){let e=Zb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Ms(xp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=L4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Zb(this.remaining);i&&(r=i,this.capture(r))}e[xp(t)]=xp(r)}parseQueryParam(e){let t=j4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=U4(this.remaining);s&&(r=s,this.capture(r))}let i=DR(t),o=DR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zb(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=be);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[be]:new Be([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function UR(n){return n.segments.length>0?new Be([],{[be]:n}):n}function $R(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=$R(i);if(r===be&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Be(n.segments,e);return $4(t)}function $4(n){if(n.numberOfChildren===1&&n.children[be]){let e=n.children[be];return new Be(n.segments.concat(e.segments),e.children)}return n}function Ns(n){return n instanceof Ai}function z4(n,e,t=null,r=null){let i=zR(n);return HR(i,e,t,r)}function zR(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new Be(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=UR(r);return e??i}function HR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Xb(i,i,i,t,r);let o=H4(e);if(o.toRoot())return Xb(i,i,new Be([],{}),t,r);let s=q4(o,i,n),a=s.processChildren?Su(s.segmentGroup,s.index,o.commands):GR(s.segmentGroup,s.index,o.commands);return Xb(i,s.segmentGroup,a,t,r)}function Sp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ru(n){return typeof n=="object"&&n!=null&&n.outlets}function Xb(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=qR(n,e,t);let a=UR($R(s));return new Ai(a,o,i)}function qR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=qR(o,e,t)}),new Be(n.segments,r)}var Ap=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Sp(r[0]))throw new q(4003,!1);let i=r.find(Ru);if(i&&i!==PR(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function H4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ap(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ap(t,e,r)}var dc=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function q4(n,e,t){if(n.isAbsolute)return new dc(e,!0,0);if(!t)return new dc(e,!1,NaN);if(t.parent===null)return new dc(t,!0,0);let r=Sp(n.commands[0])?0:1,i=t.segments.length-1+r;return G4(t,i,n.numberOfDoubleDots)}function G4(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new dc(r,!1,i-o)}function W4(n){return Ru(n[0])?n[0].outlets:{[be]:n}}function GR(n,e,t){if(n??=new Be([],{}),n.segments.length===0&&n.hasChildren())return Su(n,e,t);let r=K4(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Be(n.segments.slice(0,r.pathIndex),{});return o.children[be]=new Be(n.segments.slice(r.pathIndex),n.children),Su(o,0,i)}else return r.match&&i.length===0?new Be(n.segments,{}):r.match&&!n.hasChildren()?ow(n,e,t):r.match?Su(n,0,i):ow(n,e,t)}function Su(n,e,t){if(t.length===0)return new Be(n.segments,{});{let r=W4(t),i={};if(Object.keys(r).some(o=>o!==be)&&n.children[be]&&n.numberOfChildren===1&&n.children[be].segments.length===0){let o=Su(n.children[be],e,t);return new Be(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=GR(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Be(n.segments,i)}}function K4(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ru(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!CR(c,u,s))return o;r+=2}else{if(!CR(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ow(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ru(o)){let c=Q4(o.outlets);return new Be(r,c)}if(i===0&&Sp(t[0])){let c=n.segments[e];r.push(new Ms(c.path,TR(t[0]))),i++;continue}let s=Ru(o)?o.outlets[be]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Sp(a)?(r.push(new Ms(s,TR(a))),i+=2):(r.push(new Ms(s,{})),i++)}return new Be(r,{})}function Q4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ow(new Be([],{}),0,r))}),e}function TR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function CR(n,e,t){return n==t.path&&qr(e,t.parameters)}var Au="imperative",zt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(zt||{}),rr=class{constructor(e,t){this.id=e,this.url=t}},gc=class extends rr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=zt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gr=class extends rr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=zt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(jn||{}),Mp=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Mp||{}),Si=class extends rr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=zt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wo=class extends rr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=zt.NavigationSkipped}},Nu=class extends rr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=zt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rp=class extends rr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=zt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sw=class extends rr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=zt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},aw=class extends rr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=zt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cw=class extends rr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=zt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lw=class extends rr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=zt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uw=class{constructor(e){this.route=e,this.type=zt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dw=class{constructor(e){this.route=e,this.type=zt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hw=class{constructor(e){this.snapshot=e,this.type=zt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fw=class{constructor(e){this.snapshot=e,this.type=zt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pw=class{constructor(e){this.snapshot=e,this.type=zt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mw=class{constructor(e){this.snapshot=e,this.type=zt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Np=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=zt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ku=class{},yc=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Y4(n,e){return n.providers&&!n._injector&&(n._injector=cp(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ir(n){return n.outlet||be}function Z4(n,e){let t=n.filter(r=>Ir(r)===e);return t.push(...n.filter(r=>Ir(r)!==e)),t}function Uu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var gw=class{get injector(){return Uu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new $u(this.rootInjector),this.attachRef=null}},$u=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new gw(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(R(Cn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=yw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=yw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=vw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vw(e,this._root).map(t=>t.value)}};function yw(n,e){if(n===e.value)return e;for(let t of e.children){let r=yw(n,t);if(r)return r}return null}function vw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=vw(n,t);if(r.length)return r.unshift(e),r}return[]}var Vn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function uc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Pp=class extends kp{constructor(e,t){super(e),this.snapshot=t,xw(this,e)}toString(){return this.snapshot.toString()}};function WR(n){let e=X4(n),t=new Ot([new Ms("",{})]),r=new Ot({}),i=new Ot({}),o=new Ot({}),s=new Ot(""),a=new Eo(t,r,o,s,i,be,n,e.root);return a.snapshot=e.root,new Pp(new Vn(a,[]),e)}function X4(n){let e={},t={},r={},i="",o=new hc([],e,r,i,t,be,n,null,{});return new Op("",new Vn(o,[]))}var Eo=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Y(u=>u[ju]))??J(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>pc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>pc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&QR(i)&&(r.resolve[ju]=i.title),r}var hc=class{get title(){return this.data?.[ju]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Op=class extends kp{constructor(e,t){super(t),this.url=e,xw(this,t)}toString(){return KR(this._root)}};function xw(n,e){e.value._routerState=n,e.children.forEach(t=>xw(n,t))}function KR(n){let e=n.children.length>0?` { ${n.children.map(KR).join(", ")} } `:"";return`${n.value}${e}`}function Jb(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),qr(e.params,t.params)||n.paramsSubject.next(t.params),T4(e.url,t.url)||n.urlSubject.next(t.url),qr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _w(n,e){let t=qr(n.params,e.params)&&A4(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||_w(n.parent,e.parent))}function QR(n){return typeof n.title=="string"||n.title===null}var Sw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=be,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=V($u),this.location=V(fo),this.changeDetector=V(Er),this.inputBinder=V(Bp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new bw(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Se({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pn]})}}return n})(),bw=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Eo?this.route:e===$u?this.childContexts:this.parent.get(e,t)}},Bp=new $(""),xR=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=us([r.queryParams,r.params,r.data]).pipe(Ke(([o,s,a],c)=>(a=U(U(U({},o),s),a),c===0?J(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=KM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function J4(n,e,t){let r=Pu(n,e._root,t?t._root:void 0);return new Pp(r,e)}function Pu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=eH(n,e,t);return new Vn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pu(n,a)),s}}let r=tH(e.value),i=e.children.map(o=>Pu(n,o));return new Vn(r,i)}}function eH(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pu(n,r,i);return Pu(n,r)})}function tH(n){return new Eo(new Ot(n.url),new Ot(n.params),new Ot(n.queryParams),new Ot(n.fragment),new Ot(n.data),n.outlet,n.component,n)}var Fu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},YR="ngNavigationCancelingError";function Lp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ns(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZR(!1,jn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ZR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[YR]=!0,t.cancellationCode=e,t}function nH(n){return XR(n)&&Ns(n.url)}function XR(n){return!!n&&n[YR]}var rH=(n,e,t,r)=>Y(i=>(new ww(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ww=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=uc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=uc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=uc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=uc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new mw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new fw(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Jb(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jb(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Vp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fc=class{constructor(e,t){this.component=e,this.route=t}};function iH(n,e,t){let r=n._root,i=e?e._root:null;return Cu(r,i,t,[r.value])}function oH(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function _c(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Jx(n)?n:e.get(n):r}function Cu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=uc(e);return n.children.forEach(s=>{sH(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Mu(a,t.getContext(s),i)),i}function sH(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=aH(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Vp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Cu(n,e,a?a.children:null,r,i):Cu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fc(a.outlet.component,s))}else s&&Mu(e,a,i),i.canActivateChecks.push(new Vp(r)),o.component?Cu(n,null,a?a.children:null,r,i):Cu(n,null,t,r,i);return i}function aH(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Rs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Rs(n.url,e.url)||!qr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_w(n,e)||!qr(n.queryParams,e.queryParams);case"paramsChange":default:return!_w(n,e)}}function Mu(n,e,t){let r=uc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Mu(s,e.children.getContext(o),t):Mu(s,null,t):Mu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new fc(e.outlet.component,i)):t.canDeactivateChecks.push(new fc(null,i)):t.canDeactivateChecks.push(new fc(null,i))}function zu(n){return typeof n=="function"}function cH(n){return typeof n=="boolean"}function lH(n){return n&&zu(n.canLoad)}function uH(n){return n&&zu(n.canActivate)}function dH(n){return n&&zu(n.canActivateChild)}function hH(n){return n&&zu(n.canDeactivate)}function fH(n){return n&&zu(n.canMatch)}function JR(n){return n instanceof fi||n?.name==="EmptyError"}var Dp=Symbol("INITIAL_VALUE");function vc(){return Ke(n=>us(n.map(e=>e.pipe(Dn(1),mi(Dp)))).pipe(Y(e=>{for(let t of e)if(t!==!0){if(t===Dp)return Dp;if(t===!1||pH(t))return t}return!0}),st(e=>e!==Dp),Dn(1)))}function pH(n){return Ns(n)||n instanceof Fu}function mH(n,e){return St(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?J(De(U({},t),{guardsResult:!0})):gH(s,r,i,n).pipe(St(a=>a&&cH(a)?yH(r,o,n,e):J(a)),Y(a=>De(U({},t),{guardsResult:a})))})}function gH(n,e,t,r){return pe(n).pipe(St(i=>EH(i.component,i.route,t,e,r)),Wn(i=>i!==!0,!0))}function yH(n,e,t,r){return pe(e).pipe(pi(i=>Ji(_H(i.route.parent,r),vH(i.route,r),wH(n,i.path,t),bH(n,i.route,t))),Wn(i=>i!==!0,!0))}function vH(n,e){return n!==null&&e&&e(new pw(n)),J(!0)}function _H(n,e){return n!==null&&e&&e(new hw(n)),J(!0)}function bH(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(o=>tf(()=>{let s=Uu(e)??t,a=_c(o,s),c=uH(a)?a.canActivate(e,n):Ur(s,()=>a(e,n));return Io(c).pipe(Wn())}));return J(i).pipe(vc())}function wH(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>oH(s)).filter(s=>s!==null).map(s=>tf(()=>{let a=s.guards.map(c=>{let u=Uu(s.node)??t,d=_c(c,u),f=dH(d)?d.canActivateChild(r,n):Ur(u,()=>d(r,n));return Io(f).pipe(Wn())});return J(a).pipe(vc())}));return J(o).pipe(vc())}function EH(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let c=Uu(e)??i,u=_c(a,c),d=hH(u)?u.canDeactivate(n,e,t,r):Ur(c,()=>u(n,e,t,r));return Io(d).pipe(Wn())});return J(s).pipe(vc())}function IH(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let o=i.map(s=>{let a=_c(s,n),c=lH(a)?a.canLoad(e,t):Ur(n,()=>a(e,t));return Io(c)});return J(o).pipe(vc(),eN(r))}function eN(n){return yv(Qe(e=>{if(typeof e!="boolean")throw Lp(n,e)}),Y(e=>e===!0))}function DH(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let o=i.map(s=>{let a=_c(s,n),c=fH(a)?a.canMatch(e,t):Ur(n,()=>a(e,t));return Io(c)});return J(o).pipe(vc(),eN(r))}var Ou=class{constructor(e){this.segmentGroup=e||null}},Lu=class extends Error{constructor(e){super(),this.urlTree=e}};function lc(n){return Zi(new Ou(n))}function TH(n){return Zi(new q(4e3,!1))}function CH(n){return Zi(ZR(!1,jn.GuardRejected))}var Ew=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[be])return TH(`${e.redirectTo}`);i=i.children[be]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,params:g,data:_,title:w}=i,D=Ur(o,()=>a({params:g,data:_,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,title:w}));if(D instanceof Ai)throw new Lu(D);t=D}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Lu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ai(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Be(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Iw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xH(n,e,t,r,i){let o=tN(n,e,t);return o.matched?(r=Y4(e,r),DH(r,e,t,i).pipe(Y(s=>s===!0?o:U({},Iw)))):J(o)}function tN(n,e,t){if(e.path==="**")return SH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},Iw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||D4)(t,n,e);if(!i)return U({},Iw);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function SH(n){return{matched:!0,parameters:n.length>0?PR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function SR(n,e,t,r){return t.length>0&&RH(n,t,r)?{segmentGroup:new Be(e,MH(r,new Be(t,n.children))),slicedSegments:[]}:t.length===0&&NH(n,t,r)?{segmentGroup:new Be(n.segments,AH(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Be(n.segments,n.children),slicedSegments:t}}function AH(n,e,t,r){let i={};for(let o of t)if(Up(n,e,o)&&!r[Ir(o)]){let s=new Be([],{});i[Ir(o)]=s}return U(U({},r),i)}function MH(n,e){let t={};t[be]=e;for(let r of n)if(r.path===""&&Ir(r)!==be){let i=new Be([],{});t[Ir(r)]=i}return t}function RH(n,e,t){return t.some(r=>Up(n,e,r)&&Ir(r)!==be)}function NH(n,e,t){return t.some(r=>Up(n,e,r))}function Up(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function kH(n,e,t){return e.length===0&&!n.children[t]}var Dw=class{};function PH(n,e,t,r,i,o,s="emptyOnly"){return new Tw(n,e,t,r,i,s,o).recognize()}var FH=31,Tw=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ew(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=SR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:t,rootSnapshot:r})=>{let i=new Vn(r,t),o=new Op("",i),s=z4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new hc([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),be,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,be,t).pipe(Y(r=>({children:r,rootSnapshot:t})),Pr(r=>{if(r instanceof Lu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ou?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Y(s=>s instanceof Vn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return pe(o).pipe(pi(s=>{let a=r.children[s],c=Z4(t,s);return this.processSegmentGroup(e,c,a,s,i)}),ds((s,a)=>(s.push(...a),s)),eo(null),Dv(),St(s=>{if(s===null)return lc(r);let a=nN(s);return OH(a),J(a)}))}processSegment(e,t,r,i,o,s,a){return pe(t).pipe(pi(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Pr(u=>{if(u instanceof Ou)return J(null);throw u}))),Wn(c=>!!c),Pr(c=>{if(JR(c))return kH(r,i,o)?J(new Dw):lc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Ir(r)!==s&&(s===be||!Up(i,o,r))?lc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):lc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=tN(t,i,o);if(!c)return lc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FH&&(this.allowRedirects=!1));let g=new hc(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,AR(i),Ir(i),i.component??i._loadedComponent??null,i,MR(i)),_=Fp(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let w=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,g,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(St(D=>this.processSegment(e,r,t,D.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=xH(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ke(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ke(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:g}=c,_=new hc(m,f,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,AR(r),Ir(r),r.component??r._loadedComponent??null,r,MR(r)),w=Fp(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data);let{segmentGroup:D,slicedSegments:F}=SR(t,m,g,u);if(F.length===0&&D.hasChildren())return this.processChildren(d,u,D,_).pipe(Y(P=>new Vn(_,P)));if(u.length===0&&F.length===0)return J(new Vn(_,[]));let L=Ir(r)===o;return this.processSegment(d,u,D,F,L?be:o,!0,_).pipe(Y(P=>new Vn(_,P instanceof Vn?[P]:[])))}))):lc(t)))}getChildConfig(e,t,r){return t.children?J({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):IH(e,t,r,this.urlSerializer).pipe(St(i=>i?this.configLoader.loadChildren(e,t).pipe(Qe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):CH(t))):J({routes:[],injector:e})}};function OH(n){n.sort((e,t)=>e.value.outlet===be?-1:t.value.outlet===be?1:e.value.outlet.localeCompare(t.value.outlet))}function LH(n){let e=n.value.routeConfig;return e&&e.path===""}function nN(n){let e=[],t=new Set;for(let r of n){if(!LH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=nN(r.children);e.push(new Vn(r.value,i))}return e.filter(r=>!t.has(r))}function AR(n){return n.data||{}}function MR(n){return n.resolve||{}}function VH(n,e,t,r,i,o){return St(s=>PH(n,e,t,r,s.extractedUrl,i,o).pipe(Y(({state:a,tree:c})=>De(U({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function jH(n,e){return St(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return J(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of rN(c))s.add(u);let a=0;return pe(s).pipe(pi(c=>o.has(c)?BH(c,r,n,e):(c.data=Fp(c,c.parent,n).resolve,J(void 0))),Qe(()=>a++),ka(1),St(c=>a===s.size?J(t):qt))})}function rN(n){let e=n.children.map(t=>rN(t)).flat();return[n,...e]}function BH(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!QR(i)&&(o[ju]=i.title),UH(o,n,e,r).pipe(Y(s=>(n._resolvedData=s,n.data=Fp(n,n.parent,t).resolve,null)))}function UH(n,e,t,r){let i=nw(n);if(i.length===0)return J({});let o={};return pe(i).pipe(St(s=>$H(n[s],e,t,r).pipe(Wn(),Qe(a=>{if(a instanceof Fu)throw Lp(new mc,a);o[s]=a}))),ka(1),Iv(o),Pr(s=>JR(s)?qt:Zi(s)))}function $H(n,e,t,r){let i=Uu(e)??r,o=_c(n,i),s=o.resolve?o.resolve(e,t):Ur(i,()=>o(e,t));return Io(s)}function ew(n){return Ke(e=>{let t=n(e);return t?pe(t).pipe(Y(()=>e)):J(e)})}var iN=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===be);return r}getResolvedTitleForRoute(t){return t.data[ju]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>V(zH),providedIn:"root"})}}return n})(),zH=(()=>{class n extends iN{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(R(wR))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hu=new $("",{providedIn:"root",factory:()=>({})}),HH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Ue({type:n,selectors:[["ng-component"]],standalone:!0,features:[$e],decls:1,vars:0,template:function(r,i){r&1&&yt(0,"router-outlet")},dependencies:[Sw],encapsulation:2})}}return n})();function Aw(n){let e=n.children&&n.children.map(Aw),t=e?De(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==be&&(t.component=HH),t}var Vu=new $(""),Mw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(mp)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return J(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Io(t.loadComponent()).pipe(Y(oN),Qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),gr(()=>{this.componentLoaders.delete(t)})),i=new Sa(r,()=>new Te).pipe(xa());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=qH(r,this.compiler,t,this.onLoadEndListener).pipe(gr(()=>{this.childrenLoaders.delete(r)})),s=new Sa(o,()=>new Te).pipe(xa());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qH(n,e,t,r){return Io(n.loadChildren()).pipe(Y(oN),St(i=>i instanceof uu||Array.isArray(i)?J(i):pe(e.compileModuleAsync(i))),Y(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Vu,[],{optional:!0,self:!0}).flat()),{routes:s.map(Aw),injector:o}}))}function GH(n){return n&&typeof n=="object"&&"default"in n}function oN(n){return GH(n)?n.default:n}var Rw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>V(WH),providedIn:"root"})}}return n})(),WH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sN=new $(""),aN=new $("");function KH(n,e,t){let r=n.get(aN),i=n.get(Oe);return n.get(ne).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),QH(n))),{onViewTransitionCreated:c}=r;return c&&Ur(n,()=>c({transition:a,from:e,to:t})),s})}function QH(n){return new Promise(e=>{lp({read:()=>setTimeout(e)},{injector:n})})}var YH=new $(""),Nw=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te,this.transitionAbortSubject=new Te,this.configLoader=V(Mw),this.environmentInjector=V(Cn),this.urlSerializer=V(Bu),this.rootContexts=V($u),this.location=V(ac),this.inputBindingEnabled=V(Bp,{optional:!0})!==null,this.titleStrategy=V(iN),this.options=V(Hu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(Rw),this.createViewTransition=V(sN,{optional:!0}),this.navigationErrorHandler=V(YH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let t=i=>this.events.next(new uw(i)),r=i=>this.events.next(new dw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(De(U(U({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ot({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Au,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(st(o=>o.id!==0),Y(o=>De(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ke(o=>{let s=!1,a=!1;return J(o).pipe(Ke(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",jn.SupersededByNewNavigation),qt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?De(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new wo(c.id,this.urlSerializer.serialize(c.rawUrl),f,Mp.IgnoredSameUrlNavigation)),c.resolve(!1),qt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return J(c).pipe(Ke(f=>{let m=this.transitions?.getValue();return this.events.next(new gc(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?qt:Promise.resolve(f)}),VH(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=De(U({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new Rp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:m,source:g,restoredState:_,extras:w}=c,D=new gc(f,this.urlSerializer.serialize(m),g,_);this.events.next(D);let F=WR(this.rootComponentType).snapshot;return this.currentTransition=o=De(U({},c),{targetSnapshot:F,urlAfterRedirects:m,extras:De(U({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,J(o)}else{let f="";return this.events.next(new wo(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Mp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),qt}}),Qe(c=>{let u=new sw(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Y(c=>(this.currentTransition=o=De(U({},c),{guards:iH(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),mH(this.environmentInjector,c=>this.events.next(c)),Qe(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Lp(this.urlSerializer,c.guardsResult);let u=new aw(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),st(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",jn.GuardRejected),!1)),ew(c=>{if(c.guards.canActivateChecks.length)return J(c).pipe(Qe(u=>{let d=new cw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ke(u=>{let d=!1;return J(u).pipe(jH(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",jn.NoDataFromResolver)}}))}),Qe(u=>{let d=new lw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),ew(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Qe(m=>{d.component=m}),Y(()=>{})));for(let m of d.children)f.push(...u(m));return f};return us(u(c.targetSnapshot.root)).pipe(eo(null),Dn(1))}),ew(()=>this.afterPreactivation()),Ke(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?pe(d).pipe(Y(()=>o)):J(o)}),Y(c=>{let u=J4(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=De(U({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Qe(()=>{this.events.next(new ku)}),rH(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Dn(1),Qe({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Kn(this.transitionAbortSubject.pipe(Qe(c=>{throw c}))),gr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",jn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Pr(c=>{if(a=!0,XR(c))this.events.next(new Si(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),nH(c)?this.events.next(new yc(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Nu(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=Ur(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Fu){let{message:f,cancellationCode:m}=Lp(this.urlSerializer,d);this.events.next(new Si(o.id,this.urlSerializer.serialize(o.extractedUrl),f,m)),this.events.next(new yc(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=t.errorHandler(c);o.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return qt}))}))}cancelNavigationTransition(t,r,i){let o=new Si(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ZH(n){return n!==Au}var XH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>V(JH),providedIn:"root"})}}return n})(),Cw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},JH=(()=>{class n extends Cw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=tc(n)))(i||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cN=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>V(eq),providedIn:"root"})}}return n})(),eq=(()=>{class n extends cN{constructor(){super(...arguments),this.location=V(ac),this.urlSerializer=V(Bu),this.options=V(Hu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(Rw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ai,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=WR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof gc)this.stateMemento=this.createStateMemento();else if(t instanceof wo)this.rawUrlTree=r.initialUrl;else if(t instanceof Rp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof ku?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Si&&(t.code===jn.GuardRejected||t.code===jn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Nu?this.restoreHistory(r,!0):t instanceof Gr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ai?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=tc(n)))(i||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(xu||{});function lN(n,e){n.events.pipe(st(t=>t instanceof Gr||t instanceof Si||t instanceof Nu||t instanceof wo),Y(t=>t instanceof Gr||t instanceof wo?xu.COMPLETE:(t instanceof Si?t.code===jn.Redirect||t.code===jn.SupersededByNewNavigation:!1)?xu.REDIRECTING:xu.FAILED),st(t=>t!==xu.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function tq(n){throw n}var nq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=V(up),this.stateManager=V(cN),this.options=V(Hu,{optional:!0})||{},this.pendingTasks=V(rc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(Nw),this.urlSerializer=V(Bu),this.location=V(ac),this.urlHandlingStrategy=V(Rw),this._events=new Te,this.errorHandler=this.options.errorHandler||tq,this.navigated=!1,this.routeReuseStrategy=V(XH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(Vu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(Bp,{optional:!0}),this.eventsSubscription=new qe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Si&&r.code!==jn.Redirect&&r.code!==jn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gr)this.navigated=!0;else if(r instanceof yc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ZH(i.source)},s);this.scheduleNavigation(a,Au,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}oq(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Au,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=U({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Aw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=zR(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return HR(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ns(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Au,null,r)}navigate(t,r={skipLocationChange:!1}){return iq(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},nq):r===!1?i=U({},rq):i=r,Ns(t))return IR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return IR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,m)=>{a=f,c=m});let d=this.pendingTasks.add();return lN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function iq(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new q(4008,!1)}function oq(n){return!(n instanceof ku)&&!(n instanceof yc)}var uN=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Te,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Gr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ns(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:AA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ns(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(j(Wt),j(Eo),nc("tabindex"),j(Is),j(ke),j(xi))}}static{this.\u0275dir=Se({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&vt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Gt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$t],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$t],replaceUrl:[2,"replaceUrl","replaceUrl",$t],routerLink:"routerLink"},standalone:!0,features:[tr,Pn]})}}return n})();var jp=class{};var sq=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(st(t=>t instanceof Gr),pi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=cp(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return pe(i).pipe(Xi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=J(null);let o=i.pipe(St(s=>s===null?J(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return pe([o,s]).pipe(Xi())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(R(Wt),R(mp),R(Cn),R(jp),R(Mw))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dN=new $(""),aq=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof wo&&t.code===Mp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Np&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Np(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){rp()}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function hN(n,...e){return Gf([{provide:Vu,multi:!0,useValue:n},[],{provide:Eo,useFactory:fN,deps:[Wt]},{provide:pp,multi:!0,useFactory:pN},e.map(t=>t.\u0275providers)])}function fN(n){return n.routerState.root}function qu(n,e){return{\u0275kind:n,\u0275providers:e}}function pN(){let n=V(gn);return e=>{let t=n.get(vo);if(e!==t.components[0])return;let r=n.get(Wt),i=n.get(mN);n.get(kw)===1&&r.initialNavigation(),n.get(gN,null,Ie.Optional)?.setUpPreloading(),n.get(dN,null,Ie.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var mN=new $("",{factory:()=>new Te}),kw=new $("",{providedIn:"root",factory:()=>1});function cq(){return qu(2,[{provide:kw,useValue:0},{provide:fp,multi:!0,deps:[gn],useFactory:e=>{let t=e.get(eR,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Wt),o=e.get(mN);lN(i,()=>{r(!0)}),e.get(Nw).afterPreactivation=()=>(r(!0),o.closed?J(void 0):o),i.initialNavigation()}))}}])}function lq(){return qu(3,[{provide:fp,multi:!0,useFactory:()=>{let e=V(Wt);return()=>{e.setUpLocationChangeListener()}}},{provide:kw,useValue:2}])}var gN=new $("");function uq(n){return qu(0,[{provide:gN,useExisting:sq},{provide:jp,useExisting:n}])}function dq(){return qu(8,[xR,{provide:Bp,useExisting:xR}])}function hq(n){let e=[{provide:sN,useValue:KH},{provide:aN,useValue:U({skipNextTransition:!!n?.skipInitialTransition},n)}];return qu(9,e)}var RR=new $("ROUTER_FORROOT_GUARD"),fq=[ac,{provide:Bu,useClass:mc},Wt,$u,{provide:Eo,useFactory:fN,deps:[Wt]},Mw,[]],yN=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[fq,[],{provide:Vu,multi:!0,useValue:t},{provide:RR,useFactory:yq,deps:[[Wt,new Xa,new U_]]},{provide:Hu,useValue:r||{}},r?.useHash?mq():gq(),pq(),r?.preloadingStrategy?uq(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?vq(r):[],r?.bindToComponentInputs?dq().\u0275providers:[],r?.enableViewTransitions?hq().\u0275providers:[],_q()]}}static forChild(t){return{ngModule:n,providers:[{provide:Vu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(R(RR,8))}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({})}}return n})();function pq(){return{provide:dN,useFactory:()=>{let n=V(oR),e=V(ne),t=V(Hu),r=V(Nw),i=V(Bu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new aq(i,r,n,e,t)}}}function mq(){return{provide:xi,useClass:nR}}function gq(){return{provide:xi,useClass:kb}}function yq(n){return"guarded"}function vq(n){return[n.initialNavigation==="disabled"?lq().\u0275providers:[],n.initialNavigation==="enabledBlocking"?cq().\u0275providers:[]]}var NR=new $("");function _q(){return[{provide:NR,useFactory:pN},{provide:pp,multi:!0,useExisting:NR}]}var TN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(j(Is),j(ke))}}static{this.\u0275dir=Se({type:n})}}return n})(),bq=(()=>{class n extends TN{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=tc(n)))(i||n)}})()}static{this.\u0275dir=Se({type:n,features:[Fn]})}}return n})(),CN=new $("");var wq={provide:CN,useExisting:lo(()=>Ec),multi:!0};function Eq(){let n=Hr()?Hr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Iq=new $(""),Ec=(()=>{class n extends TN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Eq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(j(Is),j(ke),j(Iq,8))}}static{this.\u0275dir=Se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&vt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[nr([wq]),Fn]})}}return n})();function Do(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function xN(n){return n!=null&&typeof n.length=="number"}var tm=new $(""),Lw=new $(""),Dq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Hp=class{static min(e){return Tq(e)}static max(e){return Cq(e)}static required(e){return SN(e)}static requiredTrue(e){return xq(e)}static email(e){return Sq(e)}static minLength(e){return Aq(e)}static maxLength(e){return Mq(e)}static pattern(e){return Rq(e)}static nullValidator(e){return qp(e)}static compose(e){return PN(e)}static composeAsync(e){return FN(e)}};function Tq(n){return e=>{if(Do(e.value)||Do(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Cq(n){return e=>{if(Do(e.value)||Do(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function SN(n){return Do(n.value)?{required:!0}:null}function xq(n){return n.value===!0?null:{required:!0}}function Sq(n){return Do(n.value)||Dq.test(n.value)?null:{email:!0}}function Aq(n){return e=>Do(e.value)||!xN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Mq(n){return e=>xN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Rq(n){if(!n)return qp;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Do(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function qp(n){return null}function AN(n){return n!=null}function MN(n){return Ss(n)?pe(n):n}function RN(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function NN(n,e){return e.map(t=>t(n))}function Nq(n){return!n.validate}function kN(n){return n.map(e=>Nq(e)?e:t=>e.validate(t))}function PN(n){if(!n)return null;let e=n.filter(AN);return e.length==0?null:function(t){return RN(NN(t,e))}}function Vw(n){return n!=null?PN(kN(n)):null}function FN(n){if(!n)return null;let e=n.filter(AN);return e.length==0?null:function(t){let r=NN(t,e).map(MN);return Zl(r).pipe(Y(RN))}}function jw(n){return n!=null?FN(kN(n)):null}function vN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ON(n){return n._rawValidators}function LN(n){return n._rawAsyncValidators}function Pw(n){return n?Array.isArray(n)?n:[n]:[]}function Gp(n,e){return Array.isArray(n)?n.includes(e):n===e}function _N(n,e){let t=Pw(e);return Pw(n).forEach(i=>{Gp(t,i)||t.push(i)}),t}function bN(n,e){return Pw(e).filter(t=>!Gp(n,t))}var Wp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},To=class extends Wp{get formDirective(){return null}get path(){return null}},ks=class extends Wp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kp=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},kq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ine=De(U({},kq),{"[class.ng-submitted]":"isSubmitted"}),nm=(()=>{class n extends Kp{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(j(ks,2))}}static{this.\u0275dir=Se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ze("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Fn]})}}return n})(),rm=(()=>{class n extends Kp{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(j(To,10))}}static{this.\u0275dir=Se({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ze("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Fn]})}}return n})();var Gu="VALID",zp="INVALID",bc="PENDING",Wu="DISABLED",Co=class{},Qp=class extends Co{constructor(e,t){super(),this.value=e,this.source=t}},Qu=class extends Co{constructor(e,t){super(),this.pristine=e,this.source=t}},Yu=class extends Co{constructor(e,t){super(),this.touched=e,this.source=t}},wc=class extends Co{constructor(e,t){super(),this.status=e,this.source=t}},Fw=class extends Co{constructor(e){super(),this.source=e}},Ow=class extends Co{constructor(e){super(),this.source=e}};function VN(n){return(im(n)?n.validators:n)||null}function Pq(n){return Array.isArray(n)?Vw(n):n||null}function jN(n,e){return(im(e)?e.asyncValidators:n)||null}function Fq(n){return Array.isArray(n)?jw(n):n||null}function im(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Oq(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[t])throw new q(1001,"")}function Lq(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new q(1002,"")})}var Yp=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ti(()=>this.statusReactive()),this.statusReactive=po(void 0),this._pristine=Ti(()=>this.pristineReactive()),this.pristineReactive=po(!0),this._touched=Ti(()=>this.touchedReactive()),this.touchedReactive=po(!1),this._events=new Te,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return zr(this.statusReactive)}set status(e){zr(()=>this.statusReactive.set(e))}get valid(){return this.status===Gu}get invalid(){return this.status===zp}get pending(){return this.status==bc}get disabled(){return this.status===Wu}get enabled(){return this.status!==Wu}get pristine(){return zr(this.pristineReactive)}set pristine(e){zr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return zr(this.touchedReactive)}set touched(e){zr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_N(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_N(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bN(e,this._rawAsyncValidators))}hasValidator(e){return Gp(this._rawValidators,e)}hasAsyncValidator(e){return Gp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(De(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Yu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Yu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(De(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Qu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Qu(!0,r))}markAsPending(e={}){this.status=bc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(De(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wu,this.errors=null,this._forEachChild(i=>{i.disable(De(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qp(this.value,r)),this._events.next(new wc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Gu,this._forEachChild(r=>{r.enable(De(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(De(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gu||this.status===bc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qp(this.value,t)),this._events.next(new wc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(De(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wu:Gu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=bc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=MN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new wc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Wu:this.errors?zp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bc)?bc:this._anyControlsHaveStatus(zp)?zp:Gu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Qu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Yu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){im(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Pq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Fq(this._rawAsyncValidators)}},Zp=class extends Yp{constructor(e,t,r){super(VN(t),jN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Lq(this,!0,e),Object.keys(e).forEach(r=>{Oq(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var om=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Bw}),Bw="always";function Vq(n,e){return[...e.path,n]}function Xp(n,e,t=Bw){Uw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Bq(n,e),$q(n,e),Uq(n,e),jq(n,e)}function wN(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),em(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function jq(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Uw(n,e){let t=ON(n);e.validator!==null?n.setValidators(vN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=LN(n);e.asyncValidator!==null?n.setAsyncValidators(vN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Jp(e._rawValidators,i),Jp(e._rawAsyncValidators,i)}function em(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=ON(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=LN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Jp(e._rawValidators,r),Jp(e._rawAsyncValidators,r),t}function Bq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&BN(n,e)})}function Uq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&BN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function BN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $q(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function UN(n,e){n==null,Uw(n,e)}function zq(n,e){return em(n,e)}function Hq(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function qq(n){return Object.getPrototypeOf(n.constructor)===bq}function $N(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Gq(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ec?t=o:qq(o)?r=o:i=o}),i||r||t||null}function Wq(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Kq={provide:To,useExisting:lo(()=>Ps)},Ku=Promise.resolve(),Ps=(()=>{class n extends To{get submitted(){return zr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Ti(()=>this.submittedReactive()),this.submittedReactive=po(!1),this._directives=new Set,this.ngSubmit=new Ye,this.form=new Zp({},Vw(t),jw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ku.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Xp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ku.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ku.then(()=>{let r=this._findContainer(t.path),i=new Zp({});UN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ku.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ku.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),$N(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(j(tm,10),j(Lw,10),j(om,8))}}static{this.\u0275dir=Se({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&vt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nr([Kq]),Fn]})}}return n})();function EN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function IN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var zN=class extends Yp{constructor(e=null,t,r){super(VN(t),jN(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),im(t)&&(t.nonNullable||t.initialValueIsDefault)&&(IN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){IN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Qq=n=>n instanceof zN;var Yq={provide:ks,useExisting:lo(()=>Zu)},DN=Promise.resolve(),Zu=(()=>{class n extends ks{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new zN,this._registered=!1,this.name="",this.update=new Ye,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Gq(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Hq(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Xp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){DN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&$t(r);DN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Vq(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(j(To,9),j(tm,10),j(Lw,10),j(CN,10),j(Er,8),j(om,8))}}static{this.\u0275dir=Se({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nr([Yq]),Fn,Pn]})}}return n})(),sm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Se({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var Zq={provide:To,useExisting:lo(()=>$w)},$w=(()=>{class n extends To{get submitted(){return zr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Ti(()=>this._submittedReactive()),this._submittedReactive=po(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ye,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(em(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Xp(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){wN(t.control||null,t,!1),Wq(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),$N(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Fw(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Ow(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(wN(r||null,t),Qq(i)&&(Xp(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);UN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&zq(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Uw(this.form,this),this._oldForm&&em(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(j(tm,10),j(Lw,10),j(om,8))}}static{this.\u0275dir=Se({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&vt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nr([Zq]),Fn,Pn]})}}return n})();var Xq=(()=>{class n{constructor(){this._validator=qp}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Se({type:n,features:[Pn]})}}return n})();var Jq={provide:tm,useExisting:lo(()=>Xu),multi:!0};var Xu=(()=>{class n extends Xq{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=$t,this.createValidator=t=>SN}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=tc(n)))(i||n)}})()}static{this.\u0275dir=Se({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Gt("required",i._enabled?"":null)},inputs:{required:"required"},features:[nr([Jq]),Fn]})}}return n})();var e3=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({})}}return n})();var am=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:om,useValue:t.callSetDisabledState??Bw}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({imports:[e3]})}}return n})();var qw;try{qw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{qw=!1}var _t=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Fb(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||qw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)(R(Bt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ic,HN=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Gw(){if(Ic)return Ic;if(typeof document!="object"||!document)return Ic=new Set(HN),Ic;let n=document.createElement("input");return Ic=new Set(HN.filter(e=>(n.setAttribute("type",e),n.type===e))),Ic}var Ju;function t3(){if(Ju==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ju=!0}))}finally{Ju=Ju||!1}return Ju}function xo(n){return t3()?n:!!n.capture}var Hw;function n3(){if(Hw==null){let n=typeof document<"u"?document.head:null;Hw=!!(n&&(n.createShadowRoot||n.attachShadow))}return Hw}function qN(n){if(n3()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Mi(n){return n.composedPath?n.composedPath()[0]:n.target}function GN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Fs(n){return n!=null&&`${n}`!="false"}function Ww(n){return Array.isArray(n)?n:[n]}function Wr(n){return n instanceof ke?n.nativeElement:n}var r3=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var WN=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({providers:[r3]})}}return n})();var KN=new Set,Os,i3=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):s3}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&o3(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(r){return new(r||n)(R(_t),R(gu,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function o3(n,e){if(!KN.has(n))try{Os||(Os=document.createElement("style"),e&&Os.setAttribute("nonce",e),Os.setAttribute("type","text/css"),document.head.appendChild(Os)),Os.sheet&&(Os.sheet.insertRule(`@media ${n} {body{ }}`,0),KN.add(n))}catch(t){console.error(t)}}function s3(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var YN=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Te}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return QN(Ww(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=QN(Ww(t)).map(s=>this._registerQuery(s).observable),o=us(i);return o=Ji(o.pipe(Dn(1)),o.pipe(nu(1),Na(0))),o.pipe(Y(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new he(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(mi(r),Y(({matches:s})=>({query:t,matches:s})),Kn(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static{this.\u0275fac=function(r){return new(r||n)(R(i3),R(ne))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QN(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Qw(n){return n.buttons===0||n.detail===0}function Yw(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var a3=new $("cdk-input-modality-detector-options"),c3={ignoreKeys:[18,17,224,91,16]},JN=650,Dc=xo({passive:!0,capture:!0}),l3=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Ot(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Mi(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<JN||(this._modality.next(Qw(s)?"keyboard":"mouse"),this._mostRecentTarget=Mi(s))},this._onTouchstart=s=>{if(Yw(s)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mi(s)},this._options=U(U({},c3),o),this.modalityDetected=this._modality.pipe(nu(1)),this.modalityChanged=this.modalityDetected.pipe(Jl()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Dc),i.addEventListener("mousedown",this._onMousedown,Dc),i.addEventListener("touchstart",this._onTouchstart,Dc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Dc),document.removeEventListener("mousedown",this._onMousedown,Dc),document.removeEventListener("touchstart",this._onTouchstart,Dc))}static{this.\u0275fac=function(r){return new(r||n)(R(_t),R(ne),R(Oe),R(a3,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var lm=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(lm||{}),u3=new $("cdk-focus-monitor-default-options"),cm=xo({passive:!0,capture:!0}),ek=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Te,this._rootNodeFocusAndBlurListener=a=>{let c=Mi(a);for(let u=c;u;u=u.parentElement)a.type==="focus"?this._onFocus(a,u):this._onBlur(a,u)},this._document=o,this._detectionMode=s?.detectionMode||lm.IMMEDIATE}monitor(t,r=!1){let i=Wr(t);if(!this._platform.isBrowser||i.nodeType!==1)return J();let o=qN(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new Te,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=Wr(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=Wr(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===lm.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===lm.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?JN:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=Mi(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,cm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,cm)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Kn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static{this.\u0275fac=function(r){return new(r||n)(R(ne),R(_t),R(l3),R(Oe,8),R(u3,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ls=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Ls||{}),ZN="cdk-high-contrast-black-on-white",XN="cdk-high-contrast-white-on-black",Kw="cdk-high-contrast-active",tk=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=V(YN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ls.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ls.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ls.BLACK_ON_WHITE}return Ls.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Kw,ZN,XN),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Ls.BLACK_ON_WHITE?t.add(Kw,ZN):r===Ls.WHITE_ON_BLACK&&t.add(Kw,XN)}}static{this.\u0275fac=function(r){return new(r||n)(R(_t),R(Oe))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var h3=new $("cdk-dir-doc",{providedIn:"root",factory:f3});function f3(){return V(Oe)}var p3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function m3(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?p3.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var nk=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Ye,t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=m3(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)(R(h3,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Zw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({})}}return n})();function v3(){return!0}var _3=new $("mat-sanity-checks",{providedIn:"root",factory:v3}),At=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return GN()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}static{this.\u0275fac=function(r){return new(r||n)(R(tk),R(_3,8),R(Oe))}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({imports:[Zw,Zw]})}}return n})();var dm=class{constructor(e,t,r,i,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=o,this.errorState=!1}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isErrorState(i,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var dk=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ir=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(ir||{}),eE=class{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=ir.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},rk=xo({passive:!0,capture:!0}),tE=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=Mi(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,rk)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,rk)))}},ik={enterDuration:225,exitDuration:150},b3=800,ok=xo({passive:!0,capture:!0}),sk=["mousedown","touchstart"],ak=["mouseup","mouseleave","touchend","touchcancel"],nE=class n{static{this._eventManager=new tE}constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Wr(r))}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=U(U({},ik),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||w3(e,t,i),a=e-i.left,c=t-i.top,u=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),m=f.transitionProperty,g=f.transitionDuration,_=m==="none"||g==="0s"||g==="0s, 0s"||i.width===0&&i.height===0,w=new eE(this,d,r,_);d.style.transform="scale3d(1, 1, 1)",w.state=ir.FADING_IN,r.persistent||(this._mostRecentTransientRipple=w);let D=null;return!_&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let F=()=>{D&&(D.fallbackTimer=null),clearTimeout(P),this._finishRippleTransition(w)},L=()=>this._destroyRipple(w),P=setTimeout(L,u+100);d.addEventListener("transitionend",F),d.addEventListener("transitioncancel",L),D={onTransitionEnd:F,onTransitionCancel:L,fallbackTimer:P}}),this._activeRipples.set(w,D),(_||!u)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(e.state===ir.FADING_OUT||e.state===ir.HIDDEN)return;let t=e.element,r=U(U({},ik),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=ir.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Wr(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,sk.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ak.forEach(t=>{this._triggerElement.addEventListener(t,this,ok)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===ir.FADING_IN?this._startFadeOutTransition(e):e.state===ir.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=ir.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=ir.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Qw(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+b3;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Yw(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===ir.VISIBLE||e.config.terminateOnPointerUp&&e.state===ir.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(sk.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(ak.forEach(t=>e.removeEventListener(t,this,ok)),this._pointerUpEventsRegistered=!1))}};function w3(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var hk=new $("mat-ripple-global-options"),E3=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new nE(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:U(U(U({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,U(U({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,U(U({},this.rippleConfig),t))}static{this.\u0275fac=function(r){return new(r||n)(j(ke),j(ne),j(_t),j(hk,8),j(br,8))}}static{this.\u0275dir=Se({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&Ze("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),fk=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({imports:[At,At]})}}return n})();var ck={capture:!0},lk=["focus","mousedown","mouseenter","touchstart"],Xw="mat-ripple-loader-uninitialized",Jw="mat-ripple-loader-class-name",uk="mat-ripple-loader-centered",um="mat-ripple-loader-disabled",pk=(()=>{class n{constructor(){this._document=V(Oe,{optional:!0}),this._animationMode=V(br,{optional:!0}),this._globalRippleOptions=V(hk,{optional:!0}),this._platform=V(_t),this._ngZone=V(ne),this._hosts=new Map,this._onInteraction=t=>{let r=Mi(t);if(r instanceof HTMLElement){let i=r.closest(`[${Xw}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}},this._ngZone.runOutsideAngular(()=>{for(let t of lk)this._document?.addEventListener(t,this._onInteraction,ck)})}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);for(let r of lk)this._document?.removeEventListener(r,this._onInteraction,ck)}configureRipple(t,r){t.setAttribute(Xw,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(Jw))&&t.setAttribute(Jw,r.className||""),r.centered&&t.setAttribute(uk,""),r.disabled&&t.setAttribute(um,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,r){let i=this._hosts.get(t);if(i){i.disabled=r;return}r?t.setAttribute(um,""):t.removeAttribute(um)}_createRipple(t){if(!this._document)return;let r=this._hosts.get(t);if(r)return r;t.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(Jw)),t.append(i);let o=new E3(new ke(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(uk),o.disabled=t.hasAttribute(um),this.attachRipple(t,o),o}attachRipple(t,r){t.removeAttribute(Xw),this._hosts.set(t,r)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var D3=["*"];var T3=new $("MAT_CARD_CONFIG"),Tc=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(r){return new(r||n)(j(T3,8))}}static{this.\u0275cmp=Ue({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,i){r&2&&Ze("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[$e],ngContentSelectors:D3,decls:1,vars:0,template:function(r,i){r&1&&(On(),Xe(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})();var Cc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({imports:[At,Sn,At]})}}return n})();var iE=class{constructor(e){this._box=e,this._destroyed=new Te,this._resizeSubject=new Te,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new he(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(st(t=>t.some(r=>r.target===e)),Pa({bufferSize:1,refCount:!0}),Kn(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},mk=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=V(ne),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new iE(i)),this._observers.get(i).observe(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ve=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ve||{}),Kr="*";function gk(n,e){return{type:ve.Trigger,name:n,definitions:e,options:{}}}function yk(n,e=null){return{type:ve.Animate,styles:e,timings:n}}function vk(n,e=null){return{type:ve.Sequence,steps:n,options:e}}function xc(n){return{type:ve.Style,styles:n,offset:null}}function _k(n,e,t){return{type:ve.State,name:n,styles:e,options:t}}function bk(n,e,t=null){return{type:ve.Transition,expr:n,animation:e,options:t}}var Ao=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},ed=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},hm="!";var C3=["notch"],x3=["matFormFieldNotchedOutline",""],S3=["*"],A3=["textField"],M3=["iconPrefixContainer"],R3=["textPrefixContainer"],N3=["iconSuffixContainer"],k3=["textSuffixContainer"],P3=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],F3=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function O3(n,e){n&1&&yt(0,"span",21)}function L3(n,e){if(n&1&&(re(0,"label",20),Xe(1,1),it(2,O3,1,0,"span",21),Z()),n&2){let t=Ut(2);at("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Gt("for",t._control.disableAutomaticLabeling?null:t._control.id),we(2),yn(!t.hideRequiredMarker&&t._control.required?2:-1)}}function V3(n,e){if(n&1&&it(0,L3,3,5,"label",20),n&2){let t=Ut();yn(t._hasFloatingLabel()?0:-1)}}function j3(n,e){n&1&&yt(0,"div",7)}function B3(n,e){}function U3(n,e){if(n&1&&it(0,B3,0,0,"ng-template",13),n&2){Ut(2);let t=Ts(1);at("ngTemplateOutlet",t)}}function $3(n,e){if(n&1&&(re(0,"div",9),it(1,U3,1,1,null,13),Z()),n&2){let t=Ut();at("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),we(),yn(t._forceDisplayInfixLabel()?-1:1)}}function z3(n,e){n&1&&(re(0,"div",10,2),Xe(2,2),Z())}function H3(n,e){n&1&&(re(0,"div",11,3),Xe(2,3),Z())}function q3(n,e){}function G3(n,e){if(n&1&&it(0,q3,0,0,"ng-template",13),n&2){Ut();let t=Ts(1);at("ngTemplateOutlet",t)}}function W3(n,e){n&1&&(re(0,"div",14,4),Xe(2,4),Z())}function K3(n,e){n&1&&(re(0,"div",15,5),Xe(2,5),Z())}function Q3(n,e){n&1&&yt(0,"div",16)}function Y3(n,e){if(n&1&&(re(0,"div",18),Xe(1,6),Z()),n&2){let t=Ut();at("@transitionMessages",t._subscriptAnimationState)}}function Z3(n,e){if(n&1&&(re(0,"mat-hint",22),Ee(1),Z()),n&2){let t=Ut(2);at("id",t._hintLabelId),we(),Cs(t.hintLabel)}}function X3(n,e){if(n&1&&(re(0,"div",19),it(1,Z3,2,2,"mat-hint",22),Xe(2,7),yt(3,"div",23),Xe(4,8),Z()),n&2){let t=Ut();at("@transitionMessages",t._subscriptAnimationState),we(),yn(t.hintLabel?1:-1)}}var Sc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Se({type:n,selectors:[["mat-label"]],standalone:!0})}}return n})();var J3=new $("MatError");var eG=0,wk=(()=>{class n{constructor(){this.align="start",this.id=`mat-mdc-hint-${eG++}`}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Se({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){r&2&&(oc("id",i.id),Gt("align",null),Ze("mat-mdc-form-field-hint-end",i.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0})}}return n})(),tG=new $("MatPrefix");var nG=new $("MatSuffix");var Ak=new $("FloatingLabelParent"),Ek=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=V(mk),this._ngZone=V(ne),this._parent=V(Ak),this._resizeSubscription=new qe}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return rG(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(r){return new(r||n)(j(ke))}}static{this.\u0275dir=Se({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){r&2&&Ze("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return n})();function rG(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let r=t.scrollWidth;return t.remove(),r}var Ik="mdc-line-ripple--active",fm="mdc-line-ripple--deactivating",Dk=(()=>{class n{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=i=>{let o=this._elementRef.nativeElement.classList,s=o.contains(fm);i.propertyName==="opacity"&&s&&o.remove(Ik,fm)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(fm),t.add(Ik)}deactivate(){this._elementRef.nativeElement.classList.add(fm)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(r){return new(r||n)(j(ke),j(ne))}}static{this.\u0275dir=Se({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return n})(),Tk=(()=>{class n{constructor(t,r){this._elementRef=t,this._ngZone=r,this.open=!1}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static{this.\u0275fac=function(r){return new(r||n)(j(ke),j(ne))}}static{this.\u0275cmp=Ue({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(r&1&&Ln(C3,5),r&2){let o;Et(o=It())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){r&2&&Ze("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[$e],attrs:x3,ngContentSelectors:S3,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){r&1&&(On(),yt(0,"div",1),re(1,"div",2,0),Xe(3),Z(),yt(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})(),iG={transitionMessages:gk("transitionMessages",[_k("enter",xc({opacity:1,transform:"translateY(0%)"})),bk("void => enter",[xc({opacity:0,transform:"translateY(-5px)"}),yk("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},oE=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Se({type:n})}}return n})();var sE=new $("MatFormField"),oG=new $("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ck=0,xk="fill",sG="auto",Sk="fixed",aG="translateY(-50%)",pm=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Fs(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||sG}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){let r=this._appearance,i=t||this._defaults?.appearance||xk;this._appearance=i,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Sk}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||Sk}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,i,o,s,a,c,u){this._elementRef=t,this._changeDetectorRef=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._labelChild=DM(Sc),this._hideRequiredMarker=!1,this.color="primary",this._appearance=xk,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${Ck++}`,this._hintLabelId=`mat-mdc-hint-${Ck++}`,this._subscriptAnimationState="",this._destroyed=new Te,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=V(gn),this.getLabelId=Ti(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Ti(()=>!!this._labelChild()),a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let r=this._control,i="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(i+t.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(i+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(Kn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Xl(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Db(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Kn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,i=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=r?.getBoundingClientRect().width??0,c=i?.getBoundingClientRect().width??0,u=o?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,f=this._dir.value==="rtl"?"-1":"1",m=`${a+c}px`,_=`calc(${f} * (${m} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${aG} translateX(${_})
    )`;let w=a+c+u+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${w}px)`)}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}static{this.\u0275fac=function(r){return new(r||n)(j(ke),j(Er),j(ne),j(nk),j(_t),j(oG,8),j(br,8),j(Oe))}}static{this.\u0275cmp=Ue({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(r&1&&(OM(o,i._labelChild,Sc,5),Di(o,oE,5),Di(o,tG,5),Di(o,nG,5),Di(o,J3,5),Di(o,wk,5)),r&2){LM();let s;Et(s=It())&&(i._formFieldControl=s.first),Et(s=It())&&(i._prefixChildren=s),Et(s=It())&&(i._suffixChildren=s),Et(s=It())&&(i._errorChildren=s),Et(s=It())&&(i._hintChildren=s)}},viewQuery:function(r,i){if(r&1&&(Ln(A3,5),Ln(M3,5),Ln(R3,5),Ln(N3,5),Ln(k3,5),Ln(Ek,5),Ln(Tk,5),Ln(Dk,5)),r&2){let o;Et(o=It())&&(i._textField=o.first),Et(o=It())&&(i._iconPrefixContainer=o.first),Et(o=It())&&(i._textPrefixContainer=o.first),Et(o=It())&&(i._iconSuffixContainer=o.first),Et(o=It())&&(i._textSuffixContainer=o.first),Et(o=It())&&(i._floatingLabel=o.first),Et(o=It())&&(i._notchedOutline=o.first),Et(o=It())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,i){r&2&&Ze("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations",i._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",i.appearance=="fill")("mat-form-field-appearance-outline",i.appearance=="outline")("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary",i.color!=="accent"&&i.color!=="warn")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[nr([{provide:sE,useExisting:n},{provide:Ak,useExisting:n}]),$e],ngContentSelectors:F3,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(r&1){let o=$r();On(P3),it(0,V3,1,1,"ng-template",null,0,jM),re(2,"div",6,1),vt("click",function(a){return nn(o),rn(i._control.onContainerClick(a))}),it(4,j3,1,0,"div",7),re(5,"div",8),it(6,$3,2,2,"div",9)(7,z3,3,0,"div",10)(8,H3,3,0,"div",11),re(9,"div",12),it(10,G3,1,1,null,13),Xe(11),Z(),it(12,W3,3,0,"div",14)(13,K3,3,0,"div",15),Z(),it(14,Q3,1,0,"div",16),Z(),re(15,"div",17),it(16,Y3,2,1,"div",18)(17,X3,5,2,"div",19),Z()}if(r&2){let o;we(2),Ze("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),we(2),yn(!i._hasOutline()&&!i._control.disabled?4:-1),we(2),yn(i._hasOutline()?6:-1),we(),yn(i._hasIconPrefix?7:-1),we(),yn(i._hasTextPrefix?8:-1),we(2),yn(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),we(2),yn(i._hasTextSuffix?12:-1),we(),yn(i._hasIconSuffix?13:-1),we(),yn(i._hasOutline()?-1:14),we(),Ze("mat-mdc-form-field-subscript-dynamic-size",i.subscriptSizing==="dynamic"),we(),yn((o=i._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[Ek,Tk,iR,Dk,wk],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[iG.transitionMessages]},changeDetection:0})}}return n})(),Vs=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({imports:[At,Sn,WN,At]})}}return n})();var Rk=xo({passive:!0}),Nk=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return qt;let r=Wr(t),i=this._monitoredElements.get(r);if(i)return i.subject;let o=new Te,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(s)?(r.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,Rk),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",a,Rk)}}),o}stopMonitoring(t){let r=Wr(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}static{this.\u0275fac=function(r){return new(r||n)(R(_t),R(ne))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var kk=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({})}}return n})();var lG=new $("MAT_INPUT_VALUE_ACCESSOR"),uG=["button","checkbox","file","hidden","image","radio","range","reset","submit"],dG=0,mm=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Fs(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Hp.required)??!1}set required(t){this._required=Fs(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Gw().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Fs(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,r,i,o,s,a,c,u,d,f){this._elementRef=t,this._platform=r,this.ngControl=i,this._autofillMonitor=u,this._ngZone=d,this._formField=f,this._uid=`mat-input-${dG++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Te,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(_=>Gw().has(_)),this._iOSKeyupListener=_=>{let w=_.target;!w.value&&w.selectionStart===0&&w.selectionEnd===0&&(w.setSelectionRange(1,1),w.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let m=this._elementRef.nativeElement,g=m.nodeName.toLowerCase();this._inputValueAccessor=c||m,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&d.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new dm(a,i,s,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=g==="select",this._isTextarea=g==="textarea",this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){uG.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(r){return new(r||n)(j(ke),j(_t),j(ks,10),j(Ps,8),j($w,8),j(dk),j(lG,10),j(Nk),j(ne),j(sE,8))}}static{this.\u0275dir=Se({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,i){r&1&&vt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),r&2&&(oc("id",i.id)("disabled",i.disabled)("required",i.required),Gt("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Ze("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[nr([{provide:oE,useExisting:n}]),Pn]})}}return n})(),gm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({imports:[At,Vs,Vs,kk,At]})}}return n})();var hG=["mat-button",""],Ok=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Lk=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var fG=["mat-fab",""];var pG=new $("MAT_BUTTON_CONFIG");var mG=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Vk=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,r,i,o){this._elementRef=t,this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=V(ek),this._rippleLoader=V(pk),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let s=V(pG,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(let{attribute:u,mdcClasses:d}of mG)a.hasAttribute(u)&&c.add(...d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(r){rp()}}static{this.\u0275dir=Se({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",$t],disabled:[2,"disabled","disabled",$t],ariaDisabled:[2,"aria-disabled","ariaDisabled",$t],disabledInteractive:[2,"disabledInteractive","disabledInteractive",$t]},features:[tr]})}}return n})();var Ac=(()=>{class n extends Vk{constructor(t,r,i,o){super(t,r,i,o)}static{this.\u0275fac=function(r){return new(r||n)(j(ke),j(_t),j(ne),j(br,8))}}static{this.\u0275cmp=Ue({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){r&2&&(Gt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Ds(i.color?"mat-"+i.color:""),Ze("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Fn,$e],attrs:hG,ngContentSelectors:Lk,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(On(Ok),yt(0,"span",0),Xe(1),re(2,"span",1),Xe(3,1),Z(),Xe(4,2),yt(5,"span",2)(6,"span",3)),r&2&&Ze("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})();var gG=new $("mat-mdc-fab-default-options",{providedIn:"root",factory:jk});function jk(){return{color:"accent"}}var Fk=jk(),Bk=(()=>{class n extends Vk{constructor(t,r,i,o,s){super(t,r,i,o),this._options=s,this._isFab=!0,this._options=this._options||Fk,this.color=this._options.color||Fk.color}static{this.\u0275fac=function(r){return new(r||n)(j(ke),j(_t),j(ne),j(br,8),j(gG,8))}}static{this.\u0275cmp=Ue({type:n,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(r,i){r&2&&(Gt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Ds(i.color?"mat-"+i.color:""),Ze("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{extended:[2,"extended","extended",$t]},exportAs:["matButton"],standalone:!0,features:[tr,Fn,$e],attrs:fG,ngContentSelectors:Lk,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(On(Ok),yt(0,"span",0),Xe(1),re(2,"span",1),Xe(3,1),Z(),Xe(4,2),yt(5,"span",2)(6,"span",3)),r&2&&Ze("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-app-corner-large));color:var(--mat-fab-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-app-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-app-level3));height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-app-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}}return n})();var Mc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({imports:[At,fk,At]})}}return n})();var yG="firebase",vG="10.14.1";hr(yG,vG,"app");var Ni=new Br("ANGULARFIRE2_VERSION");var _G=(n,e)=>{let t=e?[e]:MC(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ri=class{constructor(){return _G(bG)}},bG="app-check";function cE(){}var ym=class{zone;delegate;constructor(e,t=wv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},lE=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cE,{},cE,cE)),t.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Rc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ym(Zone.current)),this.insideAngular=t.run(()=>new ym(Zone.current,ls)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(R(ne))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uk(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function uE(n){return n.pipe(Rn(Uk().outsideAngular))}function Kt(n){return wG(Uk())(n)}function wG(n){return function(t){return t=t.lift(new lE(n.ngZone)),t.pipe(mr(n.outsideAngular),Rn(n.insideAngular))}}var EG=new Map,IG={activated:!1,tokenObservers:[]},DG={initialized:!1,enabled:!1};function Dr(n){return EG.get(n)||Object.assign({},IG)}function Kk(){return DG}var TG="https://content-firebaseappcheck.googleapis.com/v1";var CG="exchangeDebugToken",$k={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Kie=24*60*60*1e3;var fE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return M(this,null,function*(){this.stop();try{this.pending=new tv,this.pending.promise.catch(t=>{}),yield xG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new tv,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function xG(n){return new Promise(e=>{setTimeout(e,n)})}var SG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Mo=new AC("appCheck","AppCheck",SG);function Qk(n){if(!Dr(n).activated)throw Mo.create("use-before-activation",{appName:n.name})}function Yk(r,i){return M(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(g){throw Mo.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw Mo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(g){throw Mo.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Mo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,m=Date.now();return{token:u.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function Zk(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${TG}/projects/${t}/apps/${r}:${CG}?key=${i}`,body:{debug_token:e}}}var AG="firebase-app-check-database",MG=1,pE="firebase-app-check-store";var vm=null;function RG(){return vm||(vm=new Promise((n,e)=>{try{let t=indexedDB.open(AG,MG);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Mo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(pE,{keyPath:"compositeKey"})}}}catch(t){e(Mo.create("storage-open",{originalErrorMessage:t?.message}))}}),vm)}function NG(n,e){return kG(PG(n),e)}function kG(n,e){return M(this,null,function*(){let r=(yield RG()).transaction(pE,"readwrite"),o=r.objectStore(pE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Mo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function PG(n){return`${n.options.appId}-${n.name}`}var mE=new Ih("@firebase/app-check");function hE(n,e){return wh()?NG(n,e).catch(t=>{mE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Xk(){return Kk().enabled}function Jk(){return M(this,null,function*(){let n=Kk();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var FG={error:"UNKNOWN_ERROR"};function OG(n){return SC.encodeString(JSON.stringify(n),!1)}function gE(n,e=!1){return M(this,null,function*(){let t=n.app;Qk(t);let r=Dr(t),i=r.token,o;if(i&&!td(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(td(c)?i=c:yield hE(t,void 0))}if(!e&&i&&td(i))return{token:i.token};let s=!1;if(Xk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Yk(Zk(t,yield Jk()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield hE(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Dr(t).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?mE.warn(c.message):mE.error(c),o=c}let a;return i?o?td(i)?a={token:i.token,internalError:o}:a=Hk(o):(a={token:i.token},r.token=i,yield hE(t,i)):a=Hk(o),s&&BG(t,a),a})}function LG(n){return M(this,null,function*(){let e=n.app;Qk(e);let{provider:t}=Dr(e);if(Xk()){let r=yield Jk(),{token:i}=yield Yk(Zk(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function VG(n,e,t,r){let{app:i}=n,o=Dr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&td(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),zk(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>zk(n))}function eP(n,e){let t=Dr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function zk(n){let{app:e}=n,t=Dr(e),r=t.tokenRefresher;r||(r=jG(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function jG(n){let{app:e}=n;return new fE(()=>M(this,null,function*(){let t=Dr(e),r;if(t.token?r=yield gE(n,!0):r=yield gE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Dr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},$k.RETRIAL_MIN_WAIT,$k.RETRIAL_MAX_WAIT)}function BG(n,e){let t=Dr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function td(n){return n.expireTimeMillis-Date.now()>0}function Hk(n){return{token:OG(FG),error:n}}var yE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Dr(this.app);for(let t of e)eP(this.app,t.next);return Promise.resolve()}};function UG(n,e){return new yE(n,e)}function $G(n){return{getToken:e=>gE(n,e),getLimitedUseToken:()=>LG(n),addTokenListener:e=>VG(n,"INTERNAL",e),removeTokenListener:e=>eP(n.app,e)}}var zG="@firebase/app-check",HG="0.8.8";var qG="app-check",qk="app-check-internal";function GG(){os(new dr(qG,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return UG(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qk).initialize()})),os(new dr(qk,n=>{let e=n.getProvider("app-check").getImmediate();return $G(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),hr(zG,HG)}GG();var WG=["localhost","0.0.0.0","127.0.0.1"],soe=typeof window<"u"&&WG.includes(window.location.hostname);var KG="firebase",QG="10.14.1";Pt.registerVersion(KG,QG,"app-compat");var YG=["ngOnDestroy"],nP=(n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(YG.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(u=>t.run(()=>u)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,u)=>s.then(d=>{let f=d?.(...u);return r?.spy?.apply&&r.spy.apply(o,u,f),f})})})});var _m=class{constructor(e){return e}},Ro=new $("angularfire2.app.options"),No=new $("angularfire2.app.name");function js(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let s=Pt.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Pt.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;ZG("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new _m(s)}var ZG=(n,...e)=>{xb()&&typeof console<"u"&&console[n](...e)},XG={provide:_m,useFactory:js,deps:[Ro,ne,[new Xa,No]]},rP=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Ro,useValue:t},{provide:No,useValue:r}]}}constructor(t){Pt.registerVersion("angularfire",Ni.full,"core"),Pt.registerVersion("angularfire",Ni.full,"app-compat"),Pt.registerVersion("angular",BM.full,t.toString())}static \u0275fac=function(r){return new(r||n)(R(Bt))};static \u0275mod=ue({type:n});static \u0275inj=le({providers:[XG]})}return n})();function Nc(n,e,t,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return JG(i,s)||(tP("error",`${e} was already initialized on the ${t} Firebase App with different settings.${e8?" You may need to reload as Firebase is not HMR aware.":""}`),tP("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}function JG(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var e8=typeof module<"u"&&!!module.hot,tP=(n,...e)=>{xb()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var _E=new $("angularfire2.auth.use-emulator"),bE=new $("angularfire2.auth.settings"),wE=new $("angularfire2.auth.tenant-id"),EE=new $("angularfire2.auth.langugage-code"),IE=new $("angularfire2.auth.use-device-language"),DE=new $("angularfire.auth.persistence"),TE=(n,e,t,r,i,o,s,a)=>Nc(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[u,d]of Object.entries(s))c.settings[u]=d;return a&&c.setPersistence(a),c},[t,r,i,o,s,a]),nd=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,c,u,d,f,m,g){let _=new Te,w=J(void 0).pipe(Rn(s.outsideAngular),Ke(()=>o.runOutsideAngular(()=>import("./chunk-SJDVR6DC.js"))),Y(()=>js(t,o,r)),Y(D=>TE(D,o,a,u,d,f,c,m)),Pa({bufferSize:1,refCount:!1}));if(As(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=J(null);else{w.pipe(Wn()).subscribe();let D=w.pipe(Ke(P=>P.getRedirectResult().then(z=>z,()=>null)),Kt,Pa({bufferSize:1,refCount:!1})),F=w.pipe(Ke(P=>new he(z=>({unsubscribe:o.runOutsideAngular(()=>P.onAuthStateChanged(ee=>z.next(ee),ee=>z.error(ee),()=>z.complete()))})))),L=w.pipe(Ke(P=>new he(z=>({unsubscribe:o.runOutsideAngular(()=>P.onIdTokenChanged(ee=>z.next(ee),ee=>z.error(ee),()=>z.complete()))}))));this.authState=D.pipe(rf(F),mr(s.outsideAngular),Rn(s.insideAngular)),this.user=D.pipe(rf(L),mr(s.outsideAngular),Rn(s.insideAngular)),this.idToken=this.user.pipe(Ke(P=>P?pe(P.getIdToken()):J(null))),this.idTokenResult=this.user.pipe(Ke(P=>P?pe(P.getIdTokenResult()):J(null))),this.credential=Xl(D,_,this.authState.pipe(st(P=>!P))).pipe(Y(P=>P?.user?P:null),mr(s.outsideAngular),Rn(s.insideAngular))}return nP(this,w,o,{spy:{apply:(D,F,L)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&L.then(P=>_.next(P))}}})}static \u0275fac=function(r){return new(r||n)(R(Ro),R(No,8),R(Bt),R(ne),R(Rc),R(_E,8),R(bE,8),R(wE,8),R(EE,8),R(IE,8),R(DE,8),R(Ri,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),iP=(()=>{class n{constructor(){Pt.registerVersion("angularfire",Ni.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=le({providers:[nd]})}return n})();var sP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aP={};var ko,CE;(function(){var n;function e(I,v){function b(){}b.prototype=v.prototype,I.D=v.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(T,C,S){for(var E=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)E[qn-2]=arguments[qn];return v.prototype[C].apply(T,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,b){b||(b=0);var T=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)T[C]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(C=0;16>C;++C)T[C]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=I.g[0],b=I.g[1],C=I.g[2];var S=I.g[3],E=v+(S^b&(C^S))+T[0]+3614090360&4294967295;v=b+(E<<7&4294967295|E>>>25),E=S+(C^v&(b^C))+T[1]+3905402710&4294967295,S=v+(E<<12&4294967295|E>>>20),E=C+(b^S&(v^b))+T[2]+606105819&4294967295,C=S+(E<<17&4294967295|E>>>15),E=b+(v^C&(S^v))+T[3]+3250441966&4294967295,b=C+(E<<22&4294967295|E>>>10),E=v+(S^b&(C^S))+T[4]+4118548399&4294967295,v=b+(E<<7&4294967295|E>>>25),E=S+(C^v&(b^C))+T[5]+1200080426&4294967295,S=v+(E<<12&4294967295|E>>>20),E=C+(b^S&(v^b))+T[6]+2821735955&4294967295,C=S+(E<<17&4294967295|E>>>15),E=b+(v^C&(S^v))+T[7]+4249261313&4294967295,b=C+(E<<22&4294967295|E>>>10),E=v+(S^b&(C^S))+T[8]+1770035416&4294967295,v=b+(E<<7&4294967295|E>>>25),E=S+(C^v&(b^C))+T[9]+2336552879&4294967295,S=v+(E<<12&4294967295|E>>>20),E=C+(b^S&(v^b))+T[10]+4294925233&4294967295,C=S+(E<<17&4294967295|E>>>15),E=b+(v^C&(S^v))+T[11]+2304563134&4294967295,b=C+(E<<22&4294967295|E>>>10),E=v+(S^b&(C^S))+T[12]+1804603682&4294967295,v=b+(E<<7&4294967295|E>>>25),E=S+(C^v&(b^C))+T[13]+4254626195&4294967295,S=v+(E<<12&4294967295|E>>>20),E=C+(b^S&(v^b))+T[14]+2792965006&4294967295,C=S+(E<<17&4294967295|E>>>15),E=b+(v^C&(S^v))+T[15]+1236535329&4294967295,b=C+(E<<22&4294967295|E>>>10),E=v+(C^S&(b^C))+T[1]+4129170786&4294967295,v=b+(E<<5&4294967295|E>>>27),E=S+(b^C&(v^b))+T[6]+3225465664&4294967295,S=v+(E<<9&4294967295|E>>>23),E=C+(v^b&(S^v))+T[11]+643717713&4294967295,C=S+(E<<14&4294967295|E>>>18),E=b+(S^v&(C^S))+T[0]+3921069994&4294967295,b=C+(E<<20&4294967295|E>>>12),E=v+(C^S&(b^C))+T[5]+3593408605&4294967295,v=b+(E<<5&4294967295|E>>>27),E=S+(b^C&(v^b))+T[10]+38016083&4294967295,S=v+(E<<9&4294967295|E>>>23),E=C+(v^b&(S^v))+T[15]+3634488961&4294967295,C=S+(E<<14&4294967295|E>>>18),E=b+(S^v&(C^S))+T[4]+3889429448&4294967295,b=C+(E<<20&4294967295|E>>>12),E=v+(C^S&(b^C))+T[9]+568446438&4294967295,v=b+(E<<5&4294967295|E>>>27),E=S+(b^C&(v^b))+T[14]+3275163606&4294967295,S=v+(E<<9&4294967295|E>>>23),E=C+(v^b&(S^v))+T[3]+4107603335&4294967295,C=S+(E<<14&4294967295|E>>>18),E=b+(S^v&(C^S))+T[8]+1163531501&4294967295,b=C+(E<<20&4294967295|E>>>12),E=v+(C^S&(b^C))+T[13]+2850285829&4294967295,v=b+(E<<5&4294967295|E>>>27),E=S+(b^C&(v^b))+T[2]+4243563512&4294967295,S=v+(E<<9&4294967295|E>>>23),E=C+(v^b&(S^v))+T[7]+1735328473&4294967295,C=S+(E<<14&4294967295|E>>>18),E=b+(S^v&(C^S))+T[12]+2368359562&4294967295,b=C+(E<<20&4294967295|E>>>12),E=v+(b^C^S)+T[5]+4294588738&4294967295,v=b+(E<<4&4294967295|E>>>28),E=S+(v^b^C)+T[8]+2272392833&4294967295,S=v+(E<<11&4294967295|E>>>21),E=C+(S^v^b)+T[11]+1839030562&4294967295,C=S+(E<<16&4294967295|E>>>16),E=b+(C^S^v)+T[14]+4259657740&4294967295,b=C+(E<<23&4294967295|E>>>9),E=v+(b^C^S)+T[1]+2763975236&4294967295,v=b+(E<<4&4294967295|E>>>28),E=S+(v^b^C)+T[4]+1272893353&4294967295,S=v+(E<<11&4294967295|E>>>21),E=C+(S^v^b)+T[7]+4139469664&4294967295,C=S+(E<<16&4294967295|E>>>16),E=b+(C^S^v)+T[10]+3200236656&4294967295,b=C+(E<<23&4294967295|E>>>9),E=v+(b^C^S)+T[13]+681279174&4294967295,v=b+(E<<4&4294967295|E>>>28),E=S+(v^b^C)+T[0]+3936430074&4294967295,S=v+(E<<11&4294967295|E>>>21),E=C+(S^v^b)+T[3]+3572445317&4294967295,C=S+(E<<16&4294967295|E>>>16),E=b+(C^S^v)+T[6]+76029189&4294967295,b=C+(E<<23&4294967295|E>>>9),E=v+(b^C^S)+T[9]+3654602809&4294967295,v=b+(E<<4&4294967295|E>>>28),E=S+(v^b^C)+T[12]+3873151461&4294967295,S=v+(E<<11&4294967295|E>>>21),E=C+(S^v^b)+T[15]+530742520&4294967295,C=S+(E<<16&4294967295|E>>>16),E=b+(C^S^v)+T[2]+3299628645&4294967295,b=C+(E<<23&4294967295|E>>>9),E=v+(C^(b|~S))+T[0]+4096336452&4294967295,v=b+(E<<6&4294967295|E>>>26),E=S+(b^(v|~C))+T[7]+1126891415&4294967295,S=v+(E<<10&4294967295|E>>>22),E=C+(v^(S|~b))+T[14]+2878612391&4294967295,C=S+(E<<15&4294967295|E>>>17),E=b+(S^(C|~v))+T[5]+4237533241&4294967295,b=C+(E<<21&4294967295|E>>>11),E=v+(C^(b|~S))+T[12]+1700485571&4294967295,v=b+(E<<6&4294967295|E>>>26),E=S+(b^(v|~C))+T[3]+2399980690&4294967295,S=v+(E<<10&4294967295|E>>>22),E=C+(v^(S|~b))+T[10]+4293915773&4294967295,C=S+(E<<15&4294967295|E>>>17),E=b+(S^(C|~v))+T[1]+2240044497&4294967295,b=C+(E<<21&4294967295|E>>>11),E=v+(C^(b|~S))+T[8]+1873313359&4294967295,v=b+(E<<6&4294967295|E>>>26),E=S+(b^(v|~C))+T[15]+4264355552&4294967295,S=v+(E<<10&4294967295|E>>>22),E=C+(v^(S|~b))+T[6]+2734768916&4294967295,C=S+(E<<15&4294967295|E>>>17),E=b+(S^(C|~v))+T[13]+1309151649&4294967295,b=C+(E<<21&4294967295|E>>>11),E=v+(C^(b|~S))+T[4]+4149444226&4294967295,v=b+(E<<6&4294967295|E>>>26),E=S+(b^(v|~C))+T[11]+3174756917&4294967295,S=v+(E<<10&4294967295|E>>>22),E=C+(v^(S|~b))+T[2]+718787259&4294967295,C=S+(E<<15&4294967295|E>>>17),E=b+(S^(C|~v))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(C+(E<<21&4294967295|E>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var b=v-this.blockSize,T=this.B,C=this.h,S=0;S<v;){if(C==0)for(;S<=b;)i(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<v;)if(T[C++]=I.charCodeAt(S++),C==this.blockSize){i(this,T),C=0;break}}else for(;S<v;)if(T[C++]=I[S++],C==this.blockSize){i(this,T),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var b=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=b&255,b/=256;for(this.u(I),I=Array(16),v=b=0;4>v;++v)for(var T=0;32>T;T+=8)I[b++]=this.g[v]>>>T&255;return I};function o(I,v){var b=a;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=v(I)}function s(I,v){this.h=v;for(var b=[],T=!0,C=I.length-1;0<=C;C--){var S=I[C]|0;T&&S==v||(b[C]=S,T=!1)}this.g=b}var a={};function c(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return D(u(-I));for(var v=[],b=1,T=0;I>=b;T++)v[T]=I/b|0,b*=4294967296;return new s(v,0)}function d(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return D(d(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(v,8)),T=f,C=0;C<I.length;C+=8){var S=Math.min(8,I.length-C),E=parseInt(I.substring(C,C+S),v);8>S?(S=u(Math.pow(v,S)),T=T.j(S).add(u(E))):(T=T.j(b),T=T.add(u(E)))}return T}var f=c(0),m=c(1),g=c(16777216);n=s.prototype,n.m=function(){if(w(this))return-D(this).m();for(var I=0,v=1,b=0;b<this.g.length;b++){var T=this.i(b);I+=(0<=T?T:4294967296+T)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(w(this))return"-"+D(this).toString(I);for(var v=u(Math.pow(I,6)),b=this,T="";;){var C=z(b,v).g;b=F(b,C.j(v));var S=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=C,_(b))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function w(I){return I.h==-1}n.l=function(I){return I=F(this,I),w(I)?-1:_(I)?0:1};function D(I){for(var v=I.g.length,b=[],T=0;T<v;T++)b[T]=~I.g[T];return new s(b,~I.h).add(m)}n.abs=function(){return w(this)?D(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),b=[],T=0,C=0;C<=v;C++){var S=T+(this.i(C)&65535)+(I.i(C)&65535),E=(S>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);T=E>>>16,S&=65535,E&=65535,b[C]=E<<16|S}return new s(b,b[b.length-1]&-2147483648?-1:0)};function F(I,v){return I.add(D(v))}n.j=function(I){if(_(this)||_(I))return f;if(w(this))return w(I)?D(this).j(D(I)):D(D(this).j(I));if(w(I))return D(this.j(D(I)));if(0>this.l(g)&&0>I.l(g))return u(this.m()*I.m());for(var v=this.g.length+I.g.length,b=[],T=0;T<2*v;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<I.g.length;C++){var S=this.i(T)>>>16,E=this.i(T)&65535,qn=I.i(C)>>>16,qi=I.i(C)&65535;b[2*T+2*C]+=E*qi,L(b,2*T+2*C),b[2*T+2*C+1]+=S*qi,L(b,2*T+2*C+1),b[2*T+2*C+1]+=E*qn,L(b,2*T+2*C+1),b[2*T+2*C+2]+=S*qn,L(b,2*T+2*C+2)}for(T=0;T<v;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=v;T<2*v;T++)b[T]=0;return new s(b,0)};function L(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function P(I,v){this.g=I,this.h=v}function z(I,v){if(_(v))throw Error("division by zero");if(_(I))return new P(f,f);if(w(I))return v=z(D(I),v),new P(D(v.g),D(v.h));if(w(v))return v=z(I,D(v)),new P(D(v.g),v.h);if(30<I.g.length){if(w(I)||w(v))throw Error("slowDivide_ only works with positive integers.");for(var b=m,T=v;0>=T.l(I);)b=ee(b),T=ee(T);var C=Q(b,1),S=Q(T,1);for(T=Q(T,2),b=Q(b,2);!_(T);){var E=S.add(T);0>=E.l(I)&&(C=C.add(b),S=E),T=Q(T,1),b=Q(b,1)}return v=F(I,C.j(v)),new P(C,v)}for(C=f;0<=I.l(v);){for(b=Math.max(1,Math.floor(I.m()/v.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=u(b),E=S.j(v);w(E)||0<E.l(I);)b-=T,S=u(b),E=S.j(v);_(S)&&(S=m),C=C.add(S),I=F(I,E)}return new P(C,I)}n.A=function(I){return z(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),b=[],T=0;T<v;T++)b[T]=this.i(T)&I.i(T);return new s(b,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),b=[],T=0;T<v;T++)b[T]=this.i(T)|I.i(T);return new s(b,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),b=[],T=0;T<v;T++)b[T]=this.i(T)^I.i(T);return new s(b,this.h^I.h)};function ee(I){for(var v=I.g.length+1,b=[],T=0;T<v;T++)b[T]=I.i(T)<<1|I.i(T-1)>>>31;return new s(b,I.h)}function Q(I,v){var b=v>>5;v%=32;for(var T=I.g.length-b,C=[],S=0;S<T;S++)C[S]=0<v?I.i(S+b)>>>v|I.i(S+b+1)<<32-v:I.i(S+b);return new s(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CE=aP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,ko=aP.Integer=s}).apply(typeof sP<"u"?sP:typeof self<"u"?self:typeof window<"u"?window:{});var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ki={};var xE,t8,kc,SE,rd,wm,AE,ME,RE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof bm=="object"&&bm];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var x=l[y];if(!(x in p))break e;p=p[x]}l=l[l.length-1],y=p[l],h=h(y),h!=y&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,y=!1,x={next:function(){if(!y&&p<l.length){var N=p++;return{value:h(N,l[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,y),l.apply(h,x)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function _(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(y,x,N){for(var G=Array(arguments.length-2),He=2;He<arguments.length;He++)G[He-2]=arguments[He];return h.prototype[x].apply(y,G)}}function w(l){let h=l.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=l[y];return p}return[]}function D(l,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(c(y)){let x=l.length||0,N=y.length||0;l.length=x+N;for(let G=0;G<N;G++)l[x+G]=y[G]}else l.push(y)}}class F{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function L(l){return/^[\s\xa0]*$/.test(l)}function P(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function z(l){return z[" "](l),l}z[" "]=function(){};var ee=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function Q(l,h,p){for(let y in l)h.call(p,l[y],y,l)}function I(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function v(l){let h={};for(let p in l)h[p]=l[p];return h}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let p,y;for(let x=1;x<arguments.length;x++){y=arguments[x];for(p in y)l[p]=y[p];for(let N=0;N<b.length;N++)p=b[N],Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])}}function C(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function S(l){a.setTimeout(()=>{throw l},0)}function E(){var l=xe;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class qn{constructor(){this.h=this.g=null}add(h,p){let y=qi.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var qi=new F(()=>new te,l=>l.reset());class te{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ae=!1,xe=new qn,wt=()=>{let l=a.Promise.resolve(void 0);oe=()=>{l.then(Gn)}};var Gn=()=>{for(var l;l=E();){try{l.h.call(l.g)}catch(p){S(p)}var h=qi;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}ae=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Gi(l,h){if(et.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(ee){e:{try{z(h.nodeName);var x=!0;break e}catch{}x=!1}x||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Sy[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Gi.aa.h.call(this)}}_(Gi,et);var Sy={2:"touch",3:"pen",4:"mouse"};Gi.prototype.h=function(){Gi.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),ci=0;function En(l,h,p,y,x){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=x,this.key=++ci,this.da=this.fa=!1}function li(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Wi(l){this.src=l,this.g={},this.h=0}Wi.prototype.add=function(l,h,p,y,x){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var G=My(l,h,y,x);return-1<G?(h=l[G],p||(h.fa=!1)):(h=new En(h,this.src,N,!!y,x),h.fa=p,l.push(h)),h};function Ay(l,h){var p=h.type;if(p in l.g){var y=l.g[p],x=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=x)&&Array.prototype.splice.call(y,x,1),N&&(li(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function My(l,h,p,y){for(var x=0;x<l.length;++x){var N=l[x];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==y)return x}return-1}var Ry="closure_lm_"+(1e6*Math.random()|0),Ny={};function TT(l,h,p,y,x){if(y&&y.once)return xT(l,h,p,y,x);if(Array.isArray(h)){for(var N=0;N<h.length;N++)TT(l,h[N],p,y,x);return null}return p=Oy(p),l&&l[pt]?l.K(h,p,u(y)?!!y.capture:!!y,x):CT(l,h,p,!1,y,x)}function CT(l,h,p,y,x,N){if(!h)throw Error("Invalid event type");var G=u(x)?!!x.capture:!!x,He=Py(l);if(He||(l[Ry]=He=new Wi(l)),p=He.add(h,p,y,G,N),p.proxy)return p;if(y=mV(),p.proxy=y,y.src=l,y.listener=p,l.addEventListener)tt||(x=G),x===void 0&&(x=!1),l.addEventListener(h.toString(),y,x);else if(l.attachEvent)l.attachEvent(AT(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function mV(){function l(p){return h.call(l.src,l.listener,p)}let h=gV;return l}function xT(l,h,p,y,x){if(Array.isArray(h)){for(var N=0;N<h.length;N++)xT(l,h[N],p,y,x);return null}return p=Oy(p),l&&l[pt]?l.L(h,p,u(y)?!!y.capture:!!y,x):CT(l,h,p,!0,y,x)}function ST(l,h,p,y,x){if(Array.isArray(h))for(var N=0;N<h.length;N++)ST(l,h[N],p,y,x);else y=u(y)?!!y.capture:!!y,p=Oy(p),l&&l[pt]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],p=My(N,p,y,x),-1<p&&(li(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=Py(l))&&(h=l.g[h.toString()],l=-1,h&&(l=My(h,p,y,x)),(p=-1<l?h[l]:null)&&ky(p))}function ky(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[pt])Ay(h.i,l);else{var p=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(p,y,l.capture):h.detachEvent?h.detachEvent(AT(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=Py(h))?(Ay(p,l),p.h==0&&(p.src=null,h[Ry]=null)):li(l)}}}function AT(l){return l in Ny?Ny[l]:Ny[l]="on"+l}function gV(l,h){if(l.da)l=!0;else{h=new Gi(h,this);var p=l.listener,y=l.ha||l.src;l.fa&&ky(l),l=p.call(y,h)}return l}function Py(l){return l=l[Ry],l instanceof Wi?l:null}var Fy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oy(l){return typeof l=="function"?l:(l[Fy]||(l[Fy]=function(h){return l.handleEvent(h)}),l[Fy])}function Xt(){ft.call(this),this.i=new Wi(this),this.M=this,this.F=null}_(Xt,ft),Xt.prototype[pt]=!0,Xt.prototype.removeEventListener=function(l,h,p,y){ST(this,l,h,p,y)};function un(l,h){var p,y=l.F;if(y)for(p=[];y;y=y.F)p.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new et(h,l);else if(h instanceof et)h.target=h.target||l;else{var x=h;h=new et(y,l),T(h,x)}if(x=!0,p)for(var N=p.length-1;0<=N;N--){var G=h.g=p[N];x=ih(G,y,!0,h)&&x}if(G=h.g=l,x=ih(G,y,!0,h)&&x,x=ih(G,y,!1,h)&&x,p)for(N=0;N<p.length;N++)G=h.g=p[N],x=ih(G,y,!1,h)&&x}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],y=0;y<p.length;y++)li(p[y]);delete l.g[h],l.h--}}this.F=null},Xt.prototype.K=function(l,h,p,y){return this.i.add(String(l),h,!1,p,y)},Xt.prototype.L=function(l,h,p,y){return this.i.add(String(l),h,!0,p,y)};function ih(l,h,p,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var x=!0,N=0;N<h.length;++N){var G=h[N];if(G&&!G.da&&G.capture==p){var He=G.listener,Ht=G.ha||G.src;G.fa&&Ay(l.i,G),x=He.call(Ht,y)!==!1&&x}}return x&&!y.defaultPrevented}function MT(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function RT(l){l.g=MT(()=>{l.g=null,l.i&&(l.i=!1,RT(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class yV extends ft{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:RT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rl(l){ft.call(this),this.h=l,this.g={}}_(Rl,ft);var NT=[];function kT(l){Q(l.g,function(h,p){this.g.hasOwnProperty(p)&&ky(h)},l),l.g={}}Rl.prototype.N=function(){Rl.aa.N.call(this),kT(this)},Rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ly=a.JSON.stringify,vV=a.JSON.parse,_V=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Vy(){}Vy.prototype.h=null;function PT(l){return l.h||(l.h=l.i())}function FT(){}var Nl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jy(){et.call(this,"d")}_(jy,et);function By(){et.call(this,"c")}_(By,et);var ts={},OT=null;function oh(){return OT=OT||new Xt}ts.La="serverreachability";function LT(l){et.call(this,ts.La,l)}_(LT,et);function kl(l){let h=oh();un(h,new LT(h))}ts.STAT_EVENT="statevent";function VT(l,h){et.call(this,ts.STAT_EVENT,l),this.stat=h}_(VT,et);function dn(l){let h=oh();un(h,new VT(h,l))}ts.Ma="timingevent";function jT(l,h){et.call(this,ts.Ma,l),this.size=h}_(jT,et);function Pl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Fl(){this.g=!0}Fl.prototype.xa=function(){this.g=!1};function bV(l,h,p,y,x,N){l.info(function(){if(l.g)if(N)for(var G="",He=N.split("&"),Ht=0;Ht<He.length;Ht++){var Ve=He[Ht].split("=");if(1<Ve.length){var Jt=Ve[0];Ve=Ve[1];var en=Jt.split("_");G=2<=en.length&&en[1]=="type"?G+(Jt+"="+Ve+"&"):G+(Jt+"=redacted&")}}else G=null;else G=N;return"XMLHTTP REQ ("+y+") [attempt "+x+"]: "+h+`
`+p+`
`+G})}function wV(l,h,p,y,x,N,G){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+x+"]: "+h+`
`+p+`
`+N+" "+G})}function _a(l,h,p,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+IV(l,p)+(y?" "+y:"")})}function EV(l,h){l.info(function(){return"TIMEOUT: "+h})}Fl.prototype.info=function(){};function IV(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var y=p[l];if(!(2>y.length)){var x=y[1];if(Array.isArray(x)&&!(1>x.length)){var N=x[0];if(N!="noop"&&N!="stop"&&N!="close")for(var G=1;G<x.length;G++)x[G]=""}}}}return Ly(p)}catch{return h}}var sh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},BT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uy;function ah(){}_(ah,Vy),ah.prototype.g=function(){return new XMLHttpRequest},ah.prototype.i=function(){return{}},Uy=new ah;function Ki(l,h,p,y){this.j=l,this.i=h,this.l=p,this.R=y||1,this.U=new Rl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new UT}function UT(){this.i=null,this.g="",this.h=!1}var $T={},$y={};function zy(l,h,p){l.L=1,l.v=dh(ui(h)),l.m=p,l.P=!0,zT(l,null)}function zT(l,h){l.F=Date.now(),ch(l),l.A=ui(l.v);var p=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),rC(p.i,"t",y),l.C=0,p=l.j.J,l.h=new UT,l.g=wC(l.j,p?h:null,!l.m),0<l.O&&(l.M=new yV(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,y=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(NT[0]=x.toString()),x=NT);for(var N=0;N<x.length;N++){var G=TT(p,x[N],y||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),kl(),bV(l.i,l.u,l.A,l.l,l.R,l.m)}Ki.prototype.ca=function(l){l=l.target;let h=this.M;h&&di(l)==3?h.j():this.Y(l)},Ki.prototype.Y=function(l){try{if(l==this.g)e:{let en=di(this.g);var h=this.g.Ba();let Ea=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||uC(this.g)))){this.J||en!=4||h==7||(h==8||0>=Ea?kl(3):kl(2)),Hy(this);var p=this.g.Z();this.X=p;t:if(HT(this)){var y=uC(this.g);l="";var x=y.length,N=di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),Ol(this);var G="";break t}this.h.i=new a.TextDecoder}for(h=0;h<x;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(N&&h==x-1)});y.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=p==200,wV(this.i,this.u,this.A,this.l,this.R,en,p),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Ht=this.g;if((He=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(He)){var Ve=He;break t}}Ve=null}if(p=Ve)_a(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qy(this,p);else{this.o=!1,this.s=3,dn(12),ns(this),Ol(this);break e}}if(this.P){p=!0;let ur;for(;!this.J&&this.C<G.length;)if(ur=DV(this,G),ur==$y){en==4&&(this.s=4,dn(14),p=!1),_a(this.i,this.l,null,"[Incomplete Response]");break}else if(ur==$T){this.s=4,dn(15),_a(this.i,this.l,G,"[Invalid Chunk]"),p=!1;break}else _a(this.i,this.l,ur,null),qy(this,ur);if(HT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||G.length!=0||this.h.h||(this.s=1,dn(16),p=!1),this.o=this.o&&p,!p)_a(this.i,this.l,G,"[Invalid Chunked Response]"),ns(this),Ol(this);else if(0<G.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Zy(Jt),Jt.M=!0,dn(11))}}else _a(this.i,this.l,G,null),qy(this,G);en==4&&ns(this),this.o&&!this.J&&(en==4?yC(this.j,this):(this.o=!1,ch(this)))}else UV(this.g),p==400&&0<G.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),ns(this),Ol(this)}}}catch{}finally{}};function HT(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function DV(l,h){var p=l.C,y=h.indexOf(`
`,p);return y==-1?$y:(p=Number(h.substring(p,y)),isNaN(p)?$T:(y+=1,y+p>h.length?$y:(h=h.slice(y,y+p),l.C=y+p,h)))}Ki.prototype.cancel=function(){this.J=!0,ns(this)};function ch(l){l.S=Date.now()+l.I,qT(l,l.I)}function qT(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Pl(m(l.ba,l),h)}function Hy(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ki.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(EV(this.i,this.A),this.L!=2&&(kl(),dn(17)),ns(this),this.s=2,Ol(this)):qT(this,this.S-l)};function Ol(l){l.j.G==0||l.J||yC(l.j,l)}function ns(l){Hy(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,kT(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function qy(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Gy(p.h,l))){if(!l.K&&Gy(p.h,l)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var x=y;if(x[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)gh(p),ph(p);else break e;Yy(p),dn(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=Pl(m(p.Za,p),6e3));if(1>=KT(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else is(p,11)}else if((l.K||p.g==l)&&gh(p),!L(h))for(x=p.Da.g.parse(h),h=0;h<x.length;h++){let Ve=x[h];if(p.T=Ve[0],Ve=Ve[1],p.G==2)if(Ve[0]=="c"){p.K=Ve[1],p.ia=Ve[2];let Jt=Ve[3];Jt!=null&&(p.la=Jt,p.j.info("VER="+p.la));let en=Ve[4];en!=null&&(p.Aa=en,p.j.info("SVER="+p.Aa));let Ea=Ve[5];Ea!=null&&typeof Ea=="number"&&0<Ea&&(y=1.5*Ea,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let ur=l.g;if(ur){let vh=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vh){var N=y.h;N.g||vh.indexOf("spdy")==-1&&vh.indexOf("quic")==-1&&vh.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Wy(N,N.h),N.h=null))}if(y.D){let Xy=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;Xy&&(y.ya=Xy,nt(y.I,y.D,Xy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var G=l;if(y.qa=bC(y,y.J?y.ia:null,y.W),G.K){QT(y.h,G);var He=G,Ht=y.L;Ht&&(He.I=Ht),He.B&&(Hy(He),ch(He)),y.g=G}else mC(y);0<p.i.length&&mh(p)}else Ve[0]!="stop"&&Ve[0]!="close"||is(p,7);else p.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?is(p,7):Qy(p):Ve[0]!="noop"&&p.l&&p.l.ta(Ve),p.v=0)}}kl(4)}catch{}}var TV=class{constructor(l,h){this.g=l,this.map=h}};function GT(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function WT(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function KT(l){return l.h?1:l.g?l.g.size:0}function Gy(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Wy(l,h){l.g?l.g.add(h):l.h=h}function QT(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}GT.prototype.cancel=function(){if(this.i=YT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function YT(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return w(l.i)}function CV(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,y=0;y<p;y++)h.push(l[y]);return h}h=[],p=0;for(y in l)h[p++]=l[y];return h}function xV(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let y in l)h[p++]=y;return h}}}function ZT(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=xV(l),y=CV(l),x=y.length,N=0;N<x;N++)h.call(void 0,y[N],p&&p[N],l)}var XT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SV(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var y=l[p].indexOf("="),x=null;if(0<=y){var N=l[p].substring(0,y);x=l[p].substring(y+1)}else N=l[p];h(N,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function rs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof rs){this.h=l.h,lh(this,l.j),this.o=l.o,this.g=l.g,uh(this,l.s),this.l=l.l;var h=l.i,p=new jl;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),JT(this,p),this.m=l.m}else l&&(h=String(l).match(XT))?(this.h=!1,lh(this,h[1]||"",!0),this.o=Ll(h[2]||""),this.g=Ll(h[3]||"",!0),uh(this,h[4]),this.l=Ll(h[5]||"",!0),JT(this,h[6]||"",!0),this.m=Ll(h[7]||"")):(this.h=!1,this.i=new jl(null,this.h))}rs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Vl(h,eC,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Vl(h,eC,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Vl(p,p.charAt(0)=="/"?RV:MV,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Vl(p,kV)),l.join("")};function ui(l){return new rs(l)}function lh(l,h,p){l.j=p?Ll(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function uh(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function JT(l,h,p){h instanceof jl?(l.i=h,PV(l.i,l.h)):(p||(h=Vl(h,NV)),l.i=new jl(h,l.h))}function nt(l,h,p){l.i.set(h,p)}function dh(l){return nt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ll(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Vl(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,AV),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function AV(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var eC=/[#\/\?@]/g,MV=/[#\?:]/g,RV=/[#\?]/g,NV=/[#\?@]/g,kV=/#/g;function jl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Qi(l){l.g||(l.g=new Map,l.h=0,l.i&&SV(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=jl.prototype,n.add=function(l,h){Qi(this),this.i=null,l=ba(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function tC(l,h){Qi(l),h=ba(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function nC(l,h){return Qi(l),h=ba(l,h),l.g.has(h)}n.forEach=function(l,h){Qi(this),this.g.forEach(function(p,y){p.forEach(function(x){l.call(h,x,y,this)},this)},this)},n.na=function(){Qi(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let x=l[y];for(let N=0;N<x.length;N++)p.push(h[y])}return p},n.V=function(l){Qi(this);let h=[];if(typeof l=="string")nC(this,l)&&(h=h.concat(this.g.get(ba(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},n.set=function(l,h){return Qi(this),this.i=null,l=ba(this,l),nC(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function rC(l,h,p){tC(l,h),0<p.length&&(l.i=null,l.g.set(ba(l,h),w(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let N=encodeURIComponent(String(y)),G=this.V(y);for(y=0;y<G.length;y++){var x=N;G[y]!==""&&(x+="="+encodeURIComponent(String(G[y]))),l.push(x)}}return this.i=l.join("&")};function ba(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function PV(l,h){h&&!l.j&&(Qi(l),l.i=null,l.g.forEach(function(p,y){var x=y.toLowerCase();y!=x&&(tC(this,y),rC(this,x,p))},l)),l.j=h}function FV(l,h){let p=new Fl;if(a.Image){let y=new Image;y.onload=g(Yi,p,"TestLoadImage: loaded",!0,h,y),y.onerror=g(Yi,p,"TestLoadImage: error",!1,h,y),y.onabort=g(Yi,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=g(Yi,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function OV(l,h){let p=new Fl,y=new AbortController,x=setTimeout(()=>{y.abort(),Yi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(N=>{clearTimeout(x),N.ok?Yi(p,"TestPingServer: ok",!0,h):Yi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(x),Yi(p,"TestPingServer: error",!1,h)})}function Yi(l,h,p,y,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),y(p)}catch{}}function LV(){this.g=new _V}function VV(l,h,p){let y=p||"";try{ZT(l,function(x,N){let G=x;u(x)&&(G=Ly(x)),h.push(y+N+"="+encodeURIComponent(G))})}catch(x){throw h.push(y+"type="+encodeURIComponent("_badmap")),x}}function Bl(l){this.l=l.Ub||null,this.j=l.eb||!1}_(Bl,Vy),Bl.prototype.g=function(){return new hh(this.l,this.j)},Bl.prototype.i=function(l){return function(){return l}}({});function hh(l,h){Xt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(hh,Xt),n=hh.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,$l(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ul(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,$l(this)),this.g&&(this.readyState=3,$l(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iC(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function iC(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Ul(this):$l(this),this.readyState==3&&iC(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Ul(this))},n.Qa=function(l){this.g&&(this.response=l,Ul(this))},n.ga=function(){this.g&&Ul(this)};function Ul(l){l.readyState=4,l.l=null,l.j=null,l.v=null,$l(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function $l(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(hh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function oC(l){let h="";return Q(l,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function Ky(l,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=oC(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):nt(l,h,p))}function mt(l){Xt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(mt,Xt);var jV=/^https?$/i,BV=["POST","PUT"];n=mt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uy.g(),this.v=this.o?PT(this.o):PT(Uy),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){sC(this,N);return}if(l=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var x in y)p.set(x,y[x]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())p.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),x=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(BV,h,void 0))||y||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,G]of p)this.g.setRequestHeader(N,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lC(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){sC(this,N)}};function sC(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,aC(l),fh(l)}function aC(l){l.A||(l.A=!0,un(l,"complete"),un(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,un(this,"complete"),un(this,"abort"),fh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fh(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cC(this):this.bb())},n.bb=function(){cC(this)};function cC(l){if(l.h&&typeof s<"u"&&(!l.v[1]||di(l)!=4||l.Z()!=2)){if(l.u&&di(l)==4)MT(l.Ea,0,l);else if(un(l,"readystatechange"),di(l)==4){l.h=!1;try{let G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=G===0){var x=String(l.D).match(XT)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),y=!jV.test(x?x.toLowerCase():"")}p=y}if(p)un(l,"complete"),un(l,"success");else{l.m=6;try{var N=2<di(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",aC(l)}}finally{fh(l)}}}}function fh(l,h){if(l.g){lC(l);let p=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||un(l,"ready");try{p.onreadystatechange=y}catch{}}}function lC(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function di(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),vV(h)}};function uC(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function UV(l){let h={};l=(l.g&&2<=di(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(L(l[y]))continue;var p=C(l[y]);let x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[x]||[];h[x]=N,N.push(p)}I(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zl(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function dC(l){this.Aa=0,this.i=[],this.j=new Fl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zl("baseRetryDelayMs",5e3,l),this.cb=zl("retryDelaySeedMs",1e4,l),this.Wa=zl("forwardChannelMaxRetries",2,l),this.wa=zl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new GT(l&&l.concurrentRequestLimit),this.Da=new LV,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=dC.prototype,n.la=8,n.G=1,n.connect=function(l,h,p,y){dn(0),this.W=l,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=bC(this,null,this.W),mh(this)};function Qy(l){if(hC(l),l.G==3){var h=l.U++,p=ui(l.I);if(nt(p,"SID",l.K),nt(p,"RID",h),nt(p,"TYPE","terminate"),Hl(l,p),h=new Ki(l,l.j,h),h.L=2,h.v=dh(ui(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=wC(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ch(h)}_C(l)}function ph(l){l.g&&(Zy(l),l.g.cancel(),l.g=null)}function hC(l){ph(l),l.u&&(a.clearTimeout(l.u),l.u=null),gh(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function mh(l){if(!WT(l.h)&&!l.s){l.s=!0;var h=l.Ga;oe||wt(),ae||(oe(),ae=!0),xe.add(h,l),l.B=0}}function $V(l,h){return KT(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Pl(m(l.Ga,l,h),vC(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let x=new Ki(this,this.j,l),N=this.o;if(this.S&&(N?(N=v(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(x.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=pC(this,x,h),p=ui(this.I),nt(p,"RID",l),nt(p,"CVER",22),this.D&&nt(p,"X-HTTP-Session-Id",this.D),Hl(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(oC(N)))+"&"+h:this.m&&Ky(p,this.m,N)),Wy(this.h,x),this.Ua&&nt(p,"TYPE","init"),this.P?(nt(p,"$req",h),nt(p,"SID","null"),x.T=!0,zy(x,p,null)):zy(x,p,h),this.G=2}}else this.G==3&&(l?fC(this,l):this.i.length==0||WT(this.h)||fC(this))};function fC(l,h){var p;h?p=h.l:p=l.U++;let y=ui(l.I);nt(y,"SID",l.K),nt(y,"RID",p),nt(y,"AID",l.T),Hl(l,y),l.m&&l.o&&Ky(y,l.m,l.o),p=new Ki(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=pC(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Wy(l.h,p),zy(p,y,h)}function Hl(l,h){l.H&&Q(l.H,function(p,y){nt(h,y,p)}),l.l&&ZT({},function(p,y){nt(h,y,p)})}function pC(l,h,p){p=Math.min(l.i.length,p);var y=l.l?m(l.l.Na,l.l,l):null;e:{var x=l.i;let N=-1;for(;;){let G=["count="+p];N==-1?0<p?(N=x[0].g,G.push("ofs="+N)):N=0:G.push("ofs="+N);let He=!0;for(let Ht=0;Ht<p;Ht++){let Ve=x[Ht].g,Jt=x[Ht].map;if(Ve-=N,0>Ve)N=Math.max(0,x[Ht].g-100),He=!1;else try{VV(Jt,G,"req"+Ve+"_")}catch{y&&y(Jt)}}if(He){y=G.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,y}function mC(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;oe||wt(),ae||(oe(),ae=!0),xe.add(h,l),l.v=0}}function Yy(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Pl(m(l.Fa,l),vC(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,gC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Pl(m(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),ph(this),gC(this))};function Zy(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function gC(l){l.g=new Ki(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=ui(l.qa);nt(h,"RID","rpc"),nt(h,"SID",l.K),nt(h,"AID",l.T),nt(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&nt(h,"TO",l.ja),nt(h,"TYPE","xmlhttp"),Hl(l,h),l.m&&l.o&&Ky(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=dh(ui(h)),p.m=null,p.P=!0,zT(p,l)}n.Za=function(){this.C!=null&&(this.C=null,ph(this),Yy(this),dn(19))};function gh(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function yC(l,h){var p=null;if(l.g==h){gh(l),Zy(l),l.g=null;var y=2}else if(Gy(l.h,h))p=h.D,QT(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var x=l.B;y=oh(),un(y,new jT(y,p)),mh(l)}else mC(l);else if(x=h.s,x==3||x==0&&0<h.X||!(y==1&&$V(l,h)||y==2&&Yy(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),x){case 1:is(l,5);break;case 4:is(l,10);break;case 3:is(l,6);break;default:is(l,2)}}}function vC(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function is(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),y=l.Xa;let x=!y;y=new rs(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lh(y,"https"),dh(y),x?FV(y.toString(),p):OV(y.toString(),p)}else dn(2);l.G=0,l.l&&l.l.sa(h),_C(l),hC(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function _C(l){if(l.G=0,l.ka=[],l.l){let h=YT(l.h);(h.length!=0||l.i.length!=0)&&(D(l.ka,h),D(l.ka,l.i),l.h.i.length=0,w(l.i),l.i.length=0),l.l.ra()}}function bC(l,h,p){var y=p instanceof rs?ui(p):new rs(p);if(y.g!="")h&&(y.g=h+"."+y.g),uh(y,y.s);else{var x=a.location;y=x.protocol,h=h?h+"."+x.hostname:x.hostname,x=+x.port;var N=new rs(null);y&&lh(N,y),h&&(N.g=h),x&&uh(N,x),p&&(N.l=p),y=N}return p=l.D,h=l.ya,p&&h&&nt(y,p,h),nt(y,"VER",l.la),Hl(l,y),y}function wC(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new mt(new Bl({eb:p})):new mt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function EC(){}n=EC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yh(){}yh.prototype.g=function(l,h){return new Mn(l,h)};function Mn(l,h){Xt.call(this),this.g=new dC(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!L(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!L(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new wa(this)}_(Mn,Xt),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Qy(this.g)},Mn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Ly(l),l=p);h.i.push(new TV(h.Ya++,l)),h.G==3&&mh(h)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Qy(this.g),delete this.g,Mn.aa.N.call(this)};function IC(l){jy.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}_(IC,jy);function DC(){By.call(this),this.status=1}_(DC,By);function wa(l){this.g=l}_(wa,EC),wa.prototype.ua=function(){un(this.g,"a")},wa.prototype.ta=function(l){un(this.g,new IC(l))},wa.prototype.sa=function(l){un(this.g,new DC)},wa.prototype.ra=function(){un(this.g,"b")},yh.prototype.createWebChannel=yh.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,RE=ki.createWebChannelTransport=function(){return new yh},ME=ki.getStatEventTarget=function(){return oh()},AE=ki.Event=ts,wm=ki.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sh.NO_ERROR=0,sh.TIMEOUT=8,sh.HTTP_ERROR=6,rd=ki.ErrorCode=sh,BT.COMPLETE="complete",SE=ki.EventType=BT,FT.EventType=Nl,Nl.OPEN="a",Nl.CLOSE="b",Nl.ERROR="c",Nl.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,kc=ki.WebChannel=FT,t8=ki.FetchXmlHttpFactory=Bl,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,xE=ki.XhrIo=mt}).apply(typeof bm<"u"?bm:typeof self<"u"?self:typeof window<"u"?window:{});var cP="@firebase/firestore";var Nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");var ul="10.14.0";var Bo=new Ih("@firebase/firestore");function Vc(){return Bo.logLevel}function d1(n){Bo.setLogLevel(n)}function B(n,...e){if(Bo.logLevel<=Nr.DEBUG){let t=e.map(OI);Bo.debug(`Firestore (${ul}): ${n}`,...t)}}function Dt(n,...e){if(Bo.logLevel<=Nr.ERROR){let t=e.map(OI);Bo.error(`Firestore (${ul}): ${n}`,...t)}}function Tr(n,...e){if(Bo.logLevel<=Nr.WARN){let t=e.map(OI);Bo.warn(`Firestore (${ul}): ${n}`,...t)}}function OI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function X(n="Unexpected state"){let e=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+n;throw Dt(e),new Error(e)}function ie(n,e){n||X()}function h1(n,e){n||X()}function W(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends Eh{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Vt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Rm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},LE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Nt.UNAUTHENTICATED))}shutdown(){}},VE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},jE=class{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ie(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Vt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vt,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>M(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vt)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie(typeof r.accessToken=="string"),new Rm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ie(e===null||typeof e=="string"),new Nt(e)}},BE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},UE=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new BE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},$E=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},zE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ie(this.o===void 0);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ie(typeof t.token=="string"),this.R=t.token,new $E(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function r8(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Nm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=r8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function fe(n,e){return n<e?-1:n>e?1:0}function Wc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function f1(n){return n+"\0"}var ut=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new O(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ut(0,0))}static max(){return new n(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var km=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&X(),r===void 0?r=e.length-t:r>e.length-t&&X(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Fe=class n extends km{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},i8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tt=class n extends km{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return i8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new O(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new O(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new O(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(Fe.fromString(e))}static fromName(e){return new n(Fe.fromString(e).popFirst(5))}static empty(){return new n(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Fe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Fe(e.slice()))}};var Kc=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function HE(n){return n.fields.find(e=>e.kind===2)}function Us(n){return n.fields.filter(e=>e.kind!==2)}Kc.UNKNOWN_ID=-1;var Hc=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var md=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,sr.min())}};function p1(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ut(t+1,0):new ut(t,r));return new sr(i,K.empty(),e)}function m1(n){return new sr(n.readTime,n.key,-1)}var sr=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),K.empty(),-1)}static max(){return new n(se.max(),K.empty(),-1)}};function LI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:fe(n.largestBatchId,e.largestBatchId))}var g1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Yo(n){return M(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==g1)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var A=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};var Fm=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Vt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Ws(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=VI(r.target.error);this.V.reject(new Ws(e,i))}}static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(o){throw new Ws(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(B("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new GE(t)}},Uo=class n{constructor(e,t,r){this.name=e,this.version=t,this.p=r,n.S(ql())===12.2&&Dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return B("SimpleDb","Removing database:",e),$s(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!wh())return!1;if(n.v())return!0;let e=ql(),t=n.S(e),r=0<t&&t<10,i=y1(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return M(this,null,function*(){return this.db||(B("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;t(s)},i.onblocked=()=>{r(new Ws(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new O(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new O(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Ws(e,s))},i.onupgradeneeded=o=>{B("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{B("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){return M(this,null,function*(){let o=t==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=Fm.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),A.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&s<3;if(B("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function y1(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var qE=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return $s(this.B.delete())}},Ws=class extends O{constructor(e,t){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function Zo(n){return n.name==="IndexedDbTransactionError"}var GE=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(B("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(B("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$s(r)}add(e){return B("SimpleDb","ADD",this.store.name,e,e),$s(this.store.add(e))}get(e){return $s(this.store.get(e)).next(t=>(t===void 0&&(t=null),B("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return B("SimpleDb","DELETE",this.store.name,e),$s(this.store.delete(e))}count(){return B("SimpleDb","COUNT",this.store.name),$s(this.store.count())}U(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new A((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new A((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){B("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,t);r.H=!1;let i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.W(i,t)}Y(e){let t=this.cursor({});return new A((r,i)=>{t.onerror=o=>{let s=VI(o.target.error);i(s)},t.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){let r=[];return new A((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new qE(a),u=t(a.primaryKey,a.value,c);if(u instanceof A){let d=u.catch(f=>(c.done(),A.reject(f)));r.push(d)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>A.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function $s(n){return new A((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=VI(r.target.error);t(i)}})}var lP=!1;function VI(n){let e=Uo.S(ql());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lP||(lP=!0,setTimeout(()=>{throw r},0)),r}}return n}var WE=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){B("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>M(this,null,function*(){this.task=null;try{B("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){Zo(t)?B("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield Yo(t)}yield this.X(6e4)}))}},KE=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return M(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let r=new Set,i=t,o=!0;return A.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return B("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(B("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{let s=m1(o);LI(s,r)>0&&(r=s)}),new sr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Bn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Od(n){return n==null}function gd(n){return n===0&&1/n==-1/0}function v1(n){return typeof n=="number"&&Number.isInteger(n)&&!gd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function vn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uP(e)),e=o8(n.get(t),e);return uP(e)}function o8(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function uP(n){return n+""}function Qr(n){let e=n.length;if(ie(e>=2),e===2)return ie(n.charAt(0)===""&&n.charAt(1)===""),Fe.emptyPath();let t=e-2,r=[],i="";for(let o=0;o<e;){let s=n.indexOf("",o);switch((s<0||s>t)&&X(),n.charAt(s+1)){case"":let a=n.substring(o,s),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:X()}o=s+2}return new Fe(r)}var dP=["userId","batchId"];function Cm(n,e){return[n,vn(e)]}function _1(n,e,t){return[n,vn(e),t]}var s8={},a8=["prefixPath","collectionGroup","readTime","documentId"],c8=["prefixPath","collectionGroup","documentId"],l8=["collectionGroup","readTime","prefixPath","documentId"],u8=["canonicalId","targetId"],d8=["targetId","path"],h8=["path","targetId"],f8=["collectionId","parent"],p8=["indexId","uid"],m8=["uid","sequenceNumber"],g8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],y8=["indexId","uid","orderedDocumentKey"],v8=["userId","collectionPath","documentId"],_8=["userId","collectionPath","largestBatchId"],b8=["userId","collectionGroup","largestBatchId"],b1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],w8=[...b1,"documentOverlays"],w1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],E1=w1,jI=[...E1,"indexConfiguration","indexState","indexEntries"],E8=jI,I8=[...jI,"globals"];var yd=class extends Pm{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function jt(n,e){let t=W(n);return Uo.F(t._e,e)}function hP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oa(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function I1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ot=class n{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}},zc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1;Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Zr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var We=class n{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Om(this.data.getIterator())}getIteratorFrom(e){return new Om(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Om=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Pc(n){return n.hasNext()?n.getNext():void 0}var Un=class n{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new n([])}unionWith(e){let t=new We(Tt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Lm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function D1(){return typeof atob<"u"}var xt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Lm("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xt.EMPTY_BYTE_STRING=new xt("");var D8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(n){if(ie(!!n),typeof n=="string"){let e=0,t=D8.exec(n);if(ie(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $o(n){return typeof n=="string"?xt.fromBase64String(n):xt.fromUint8Array(n)}function Sg(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function BI(n){let e=n.mapValue.fields.__previous_value__;return Sg(e)?BI(e):e}function vd(n){let e=Oi(n.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}var QE=class{constructor(e,t,r,i,o,s,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},zo=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xm={nullValue:"NULL_VALUE"};function Ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sg(n)?4:T1(n)?9007199254740991:Ag(n)?10:11:X()}function ei(n,e){if(n===e)return!0;let t=Ks(n);if(t!==Ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vd(n).isEqual(vd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Oi(i.timestampValue),a=Oi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return $o(i.bytesValue).isEqual($o(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ct(i.geoPointValue.latitude)===ct(o.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ct(i.integerValue)===ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ct(i.doubleValue),a=ct(o.doubleValue);return s===a?gd(s)===gd(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Wc(n.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(hP(s)!==hP(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!ei(s[c],a[c])))return!1;return!0}(n,e);default:return X()}}function _d(n,e){return(n.values||[]).find(t=>ei(t,e))!==void 0}function Ho(n,e){if(n===e)return 0;let t=Ks(n),r=Ks(e);if(t!==r)return fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ct(o.integerValue||o.doubleValue),c=ct(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return fP(n.timestampValue,e.timestampValue);case 4:return fP(vd(n),vd(e));case 5:return fe(n.stringValue,e.stringValue);case 6:return function(o,s){let a=$o(o),c=$o(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=fe(a[u],c[u]);if(d!==0)return d}return fe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=fe(ct(o.latitude),ct(s.latitude));return a!==0?a:fe(ct(o.longitude),ct(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return pP(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},m=s.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,_=(c=m.value)===null||c===void 0?void 0:c.arrayValue,w=fe(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((d=_?.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:pP(g,_)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Vo.mapValue&&s===Vo.mapValue)return 0;if(o===Vo.mapValue)return 1;if(s===Vo.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let m=fe(c[f],d[f]);if(m!==0)return m;let g=Ho(a[c[f]],u[d[f]]);if(g!==0)return g}return fe(c.length,d.length)}(n.mapValue,e.mapValue);default:throw X()}}function fP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return fe(n,e);let t=Oi(n),r=Oi(e),i=fe(t.seconds,r.seconds);return i!==0?i:fe(t.nanos,r.nanos)}function pP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ho(t[i],r[i]);if(o)return o}return fe(t.length,r.length)}function Qc(n){return YE(n)}function YE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Oi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $o(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=YE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${YE(t.fields[s])}`;return i+"}"}(n.mapValue):X()}function Qs(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ZE(n){return!!n&&"integerValue"in n}function bd(n){return!!n&&"arrayValue"in n}function mP(n){return!!n&&"nullValue"in n}function gP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sm(n){return!!n&&"mapValue"in n}function Ag(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ud(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return oa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ud(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ud(n.arrayValue.values[t]);return e}return Object.assign({},n)}function T1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var C1={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function T8(n){return"nullValue"in n?xm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qs(zo.empty(),K.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Ag(n)?C1:{mapValue:{}}:X()}function C8(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qs(zo.empty(),K.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?C1:"mapValue"in n?Ag(n)?{mapValue:{}}:Vo:X()}function yP(n,e){let t=Ho(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vP(n,e){let t=Ho(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var cn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ud(t)}setAll(e){let t=Tt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ud(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Sm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Sm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){oa(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ud(this.value))}};function x1(n){let e=[];return oa(n.fields,(t,r)=>{let i=new Tt([t]);if(Sm(r)){let o=x1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Un(e)}var kt=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),cn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ti=class{constructor(e,t){this.position=e,this.inclusive=t}};function _P(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=Ho(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ei(n.position[t],e.position[t]))return!1;return!0}var Ys=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function x8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Vm=class{},Ae=class n extends Vm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new e0(e,t,r):t==="array-contains"?new r0(e,r):t==="in"?new jm(e,r):t==="not-in"?new i0(e,r):t==="array-contains-any"?new o0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new t0(e,r):new n0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ho(t,this.value)):t!==null&&Ks(this.value)===Ks(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ze=class n extends Vm{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Yc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Yc(n){return n.op==="and"}function XE(n){return n.op==="or"}function UI(n){return S1(n)&&Yc(n)}function S1(n){for(let e of n.filters)if(e instanceof ze)return!1;return!0}function JE(n){if(n instanceof Ae)return n.field.canonicalString()+n.op.toString()+Qc(n.value);if(UI(n))return n.filters.map(e=>JE(e)).join(",");{let e=n.filters.map(t=>JE(t)).join(",");return`${n.op}(${e})`}}function A1(n,e){return n instanceof Ae?function(r,i){return i instanceof Ae&&r.op===i.op&&r.field.isEqual(i.field)&&ei(r.value,i.value)}(n,e):n instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&A1(s,i.filters[a]),!0):!1}(n,e):void X()}function M1(n,e){let t=n.filters.concat(e);return ze.create(t,n.op)}function R1(n){return n instanceof Ae?function(t){return`${t.field.canonicalString()} ${t.op} ${Qc(t.value)}`}(n):n instanceof ze?function(t){return t.op.toString()+" {"+t.getFilters().map(R1).join(" ,")+"}"}(n):"Filter"}var e0=class extends Ae{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},t0=class extends Ae{constructor(e,t){super(e,"in",t),this.keys=N1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},n0=class extends Ae{constructor(e,t){super(e,"not-in",t),this.keys=N1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function N1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var r0=class extends Ae{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return bd(t)&&_d(t.arrayValue,this.value)}},jm=class extends Ae{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&_d(this.value.arrayValue,t)}},i0=class extends Ae{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!_d(this.value.arrayValue,t)}},o0=class extends Ae{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!bd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_d(this.value.arrayValue,r))}};var s0=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function a0(n,e=null,t=[],r=[],i=null,o=null,s=null){return new s0(n,e,t,r,i,o,s)}function Zs(n){let e=W(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>JE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Od(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qc(r)).join(",")),e.ue=t}return e.ue}function Ld(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!x8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!A1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bP(n.startAt,e.startAt)&&bP(n.endAt,e.endAt)}function Bm(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Um(n,e){return n.filters.filter(t=>t instanceof Ae&&t.field.isEqual(e))}function wP(n,e,t){let r=xm,i=!0;for(let o of Um(n,e)){let s=xm,a=!0;switch(o.op){case"<":case"<=":s=T8(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=xm}yP({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];yP({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}function EP(n,e,t){let r=Vo,i=!0;for(let o of Um(n,e)){let s=Vo,a=!0;switch(o.op){case">=":case">":s=C8(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Vo}vP({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];vP({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}var Cr=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function k1(n,e,t,r,i,o,s,a){return new Cr(n,e,t,r,i,o,s,a)}function dl(n){return new Cr(n)}function IP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $I(n){return n.collectionGroup!==null}function qc(n){let e=W(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new We(Tt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ys(o,r))}),t.has(Tt.keyField().canonicalString())||e.ce.push(new Ys(Tt.keyField(),r))}return e.ce}function _n(n){let e=W(n);return e.le||(e.le=S8(e,qc(n))),e.le}function S8(n,e){if(n.limitType==="F")return a0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ys(i.field,o)});let t=n.endAt?new ti(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ti(n.startAt.position,n.startAt.inclusive):null;return a0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function c0(n,e){let t=n.filters.concat([e]);return new Cr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $m(n,e,t){return new Cr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vd(n,e){return Ld(_n(n),_n(e))&&n.limitType===e.limitType}function P1(n){return`${Zs(_n(n))}|lt:${n.limitType}`}function jc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>R1(i)).join(", ")}]`),Od(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Qc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Qc(i)).join(",")),`Target(${r})`}(_n(n))}; limitType=${n.limitType})`}function jd(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of qc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=_P(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,qc(r),i)||r.endAt&&!function(s,a,c){let u=_P(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,qc(r),i))}(n,e)}function F1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function O1(n){return(e,t)=>{let r=!1;for(let i of qc(n)){let o=A8(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function A8(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Ho(c,u):X()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}var ni=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return I1(this.inner)}size(){return this.innerSize}};var M8=new ot(K.comparator);function An(){return M8}var L1=new ot(K.comparator);function cd(...n){let e=L1;for(let t of n)e=e.insert(t.key,t);return e}function V1(n){let e=L1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yr(){return dd()}function j1(){return dd()}function dd(){return new ni(n=>n.toString(),(n,e)=>n.isEqual(e))}var R8=new ot(K.comparator),N8=new We(K.comparator);function _e(...n){let e=N8;for(let t of n)e=e.add(t);return e}var k8=new We(fe);function zI(){return k8}function HI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function B1(n){return{integerValue:""+n}}function U1(n,e){return v1(e)?B1(e):HI(n,e)}var Zc=class{constructor(){this._=void 0}};function P8(n,e,t){return n instanceof qo?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Sg(o)&&(o=BI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Li?z1(n,e):n instanceof Vi?H1(n,e):function(i,o){let s=$1(i,o),a=DP(s)+DP(i.Pe);return ZE(s)&&ZE(i.Pe)?B1(a):HI(i.serializer,a)}(n,e)}function F8(n,e,t){return n instanceof Li?z1(n,e):n instanceof Vi?H1(n,e):t}function $1(n,e){return n instanceof Go?function(r){return ZE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var qo=class extends Zc{},Li=class extends Zc{constructor(e){super(),this.elements=e}};function z1(n,e){let t=q1(e);for(let r of n.elements)t.some(i=>ei(i,r))||t.push(r);return{arrayValue:{values:t}}}var Vi=class extends Zc{constructor(e){super(),this.elements=e}};function H1(n,e){let t=q1(e);for(let r of n.elements)t=t.filter(i=>!ei(i,r));return{arrayValue:{values:t}}}var Go=class extends Zc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function DP(n){return ct(n.integerValue||n.doubleValue)}function q1(n){return bd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Xs=class{constructor(e,t){this.field=e,this.transform=t}};function O8(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Li&&i instanceof Li||r instanceof Vi&&i instanceof Vi?Wc(r.elements,i.elements,ei):r instanceof Go&&i instanceof Go?ei(r.Pe,i.Pe):r instanceof qo&&i instanceof qo}(n.transform,e.transform)}var l0=class{constructor(e,t){this.version=e,this.transformResults=t}},bt=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Am(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Xc=class{};function G1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ko(n.key,bt.none()):new Wo(n.key,n.data,bt.none());{let t=n.data,r=cn.empty(),i=new We(Tt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xr(n.key,r,new Un(i.toArray()),bt.none())}}function L8(n,e,t){n instanceof Wo?function(i,o,s){let a=i.value.clone(),c=CP(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof xr?function(i,o,s){if(!Am(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=CP(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(W1(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function hd(n,e,t,r){return n instanceof Wo?function(o,s,a,c){if(!Am(o.precondition,s))return a;let u=o.value.clone(),d=xP(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof xr?function(o,s,a,c){if(!Am(o.precondition,s))return a;let u=xP(o.fieldTransforms,c,s),d=s.data;return d.setAll(W1(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return Am(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function V8(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=$1(r.transform,i||null);o!=null&&(t===null&&(t=cn.empty()),t.set(r.field,o))}return t||null}function TP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wc(r,i,(o,s)=>O8(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Wo=class extends Xc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xr=class extends Xc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function W1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function CP(n,e,t){let r=new Map;ie(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,F8(s,a,t[i]))}return r}function xP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,P8(o,s,e))}return r}var Ko=class extends Xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wd=class extends Xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ed=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&L8(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=hd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=hd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=j1();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=G1(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_e())}isEqual(e){return this.batchId===e.batchId&&Wc(this.mutations,e.mutations,(t,r)=>TP(t,r))&&Wc(this.baseMutations,e.baseMutations,(t,r)=>TP(t,r))}},u0=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ie(e.mutations.length===r.length);let i=function(){return R8}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Id=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var d0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Mt,Pe;function K1(n){switch(n){default:return X();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function Q1(n){if(n===void 0)return Dt("GRPC error has no .code"),k.UNKNOWN;switch(n){case Mt.OK:return k.OK;case Mt.CANCELLED:return k.CANCELLED;case Mt.UNKNOWN:return k.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return k.INTERNAL;case Mt.UNAVAILABLE:return k.UNAVAILABLE;case Mt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Mt.NOT_FOUND:return k.NOT_FOUND;case Mt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Mt.ABORTED:return k.ABORTED;case Mt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Mt.DATA_LOSS:return k.DATA_LOSS;default:return X()}}(Pe=Mt||(Mt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var SP=null;function Y1(){return new TextEncoder}var j8=new ko([4294967295,4294967295],0);function AP(n){let e=Y1().encode(n),t=new CE;return t.update(e),new Uint8Array(t.digest())}function MP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ko([t,r],0),new ko([i,o],0)]}var h0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Gs(`Invalid padding: ${t}`);if(r<0)throw new Gs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Gs(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ko.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ko.fromNumber(r)));return i.compare(j8)===1&&(i=new ko([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=AP(e),[r,i]=MP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=AP(e),[r,i]=MP(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Gs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Dd=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new ot(fe),An(),_e())}},Td=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,_e(),_e(),_e())}};var Gc=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},zm=class{constructor(e,t){this.targetId=e,this.me=t}},Hm=class{constructor(e,t,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},qm=class{constructor(){this.fe=0,this.ge=NP(),this.pe=xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),t=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:X()}}),new Td(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=NP()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},f0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=An(),this.qe=RP(),this.Qe=new ot(fe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Bm(o))if(r===0){let s=new K(o.path);this.Ue(t,s,kt.newNoDocument(s,se.min()))}else ie(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}SP?.et(function(d,f,m,g,_){var w,D,F,L,P,z;let ee={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},Q=f.unchangedNames;return Q&&(ee.bloomFilter={applied:_===0,hashCount:(w=Q?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(L=(F=(D=Q?.bits)===null||D===void 0?void 0:D.bitmap)===null||F===void 0?void 0:F.length)!==null&&L!==void 0?L:0,padding:(z=(P=Q?.bits)===null||P===void 0?void 0:P.padding)!==null&&z!==void 0?z:0,mightContain:I=>{var v;return(v=g?.mightContain(I))!==null&&v!==void 0&&v}}),ee}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=$o(r).toUint8Array()}catch(c){if(c instanceof Lm)return Tr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new h0(s,i,o)}catch(c){return Tr(c instanceof Gs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Bm(a.target)){let c=new K(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,kt.newNoDocument(c,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Dd(e,t,this.Qe,this.ke,r);return this.ke=An(),this.qe=RP(),this.Qe=new ot(fe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new qm,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new We(fe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qm),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function RP(){return new ot(K.comparator)}function NP(){return new ot(K.comparator)}var B8={asc:"ASCENDING",desc:"DESCENDING"},U8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$8={and:"AND",or:"OR"},p0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function m0(n,e){return n.useProto3Json||Od(e)?e:{value:e}}function Jc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function z8(n,e){return Jc(n,e.toTimestamp())}function Ct(n){return ie(!!n),se.fromTimestamp(function(t){let r=Oi(t);return new ut(r.seconds,r.nanos)}(n))}function qI(n,e){return g0(n,e).canonicalString()}function g0(n,e){let t=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function X1(n){let e=Fe.fromString(n);return ie(cF(e)),e}function Cd(n,e){return qI(n.databaseId,e.path)}function Xr(n,e){let t=X1(e);if(t.get(1)!==n.databaseId.projectId)throw new O(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(tF(t))}function J1(n,e){return qI(n.databaseId,e)}function eF(n){let e=X1(n);return e.length===4?Fe.emptyPath():tF(e)}function y0(n){return new Fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tF(n){return ie(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function kP(n,e,t){return{name:Cd(n,e),fields:t.value.mapValue.fields}}function nF(n,e,t){let r=Xr(n,e.name),i=Ct(e.updateTime),o=e.createTime?Ct(e.createTime):se.min(),s=new cn({mapValue:{fields:e.fields}}),a=kt.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function H8(n,e){return"found"in e?function(r,i){ie(!!i.found),i.found.name,i.found.updateTime;let o=Xr(r,i.found.name),s=Ct(i.found.updateTime),a=i.found.createTime?Ct(i.found.createTime):se.min(),c=new cn({mapValue:{fields:i.found.fields}});return kt.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(r,i){ie(!!i.missing),ie(!!i.readTime);let o=Xr(r,i.missing),s=Ct(i.readTime);return kt.newNoDocument(o,s)}(n,e):X()}function q8(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(ie(d===void 0||typeof d=="string"),xt.fromBase64String(d||"")):(ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array),xt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?k.UNKNOWN:Q1(u.code);return new O(d,u.message||"")}(s);t=new Hm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Xr(n,r.document.name),o=Ct(r.document.updateTime),s=r.document.createTime?Ct(r.document.createTime):se.min(),a=new cn({mapValue:{fields:r.document.fields}}),c=kt.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Gc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Xr(n,r.document),o=r.readTime?Ct(r.readTime):se.min(),s=kt.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Gc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Xr(n,r.document),o=r.removedTargetIds||[];t=new Gc([],o,i,null)}else{if(!("filter"in e))return X();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new d0(i,o),a=r.targetId;t=new zm(a,s)}}return t}function xd(n,e){let t;if(e instanceof Wo)t={update:kP(n,e.key,e.value)};else if(e instanceof Ko)t={delete:Cd(n,e.key)};else if(e instanceof xr)t={update:kP(n,e.key,e.data),updateMask:Z8(e.fieldMask)};else{if(!(e instanceof wd))return X();t={verify:Cd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof qo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Li)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Go)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:z8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(n,e.precondition)),t}function v0(n,e){let t=e.currentDocument?function(o){return o.updateTime!==void 0?bt.updateTime(Ct(o.updateTime)):o.exists!==void 0?bt.exists(o.exists):bt.none()}(e.currentDocument):bt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;if("setToServerValue"in a)ie(a.setToServerValue==="REQUEST_TIME"),c=new qo;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new Li(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new Vi(d)}else"increment"in a?c=new Go(s,a.increment):X();let u=Tt.fromServerFormat(a.fieldPath);return new Xs(u,c)}(n,i)):[];if(e.update){e.update.name;let i=Xr(n,e.update.name),o=new cn({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let u=c.fieldPaths||[];return new Un(u.map(d=>Tt.fromServerFormat(d)))}(e.updateMask);return new xr(i,o,s,t,r)}return new Wo(i,o,t,r)}if(e.delete){let i=Xr(n,e.delete);return new Ko(i,t)}if(e.verify){let i=Xr(n,e.verify);return new wd(i,t)}return X()}function G8(n,e){return n&&n.length>0?(ie(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Ct(i.updateTime):Ct(o);return s.isEqual(se.min())&&(s=Ct(o)),new l0(s,i.transformResults||[])}(t,e))):[]}function rF(n,e){return{documents:[J1(n,e.path)]}}function iF(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=J1(n,i);let o=function(u){if(u.length!==0)return aF(ze.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Bc(m.field),direction:K8(m.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=m0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function oF(n){let e=eF(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ie(r===1);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let m=sF(f);return m instanceof ze&&UI(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(m=>function(_){return new Ys(Uc(_.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Od(m)?null:m}(t.limit));let c=null;t.startAt&&(c=function(f){let m=!!f.before,g=f.values||[];return new ti(g,m)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let m=!f.before,g=f.values||[];return new ti(g,m)}(t.endAt)),k1(e,i,s,o,a,"F",c,u)}function W8(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sF(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Uc(t.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Uc(t.unaryFilter.field);return Ae.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Uc(t.unaryFilter.field);return Ae.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Uc(t.unaryFilter.field);return Ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(n):n.fieldFilter!==void 0?function(t){return Ae.create(Uc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ze.create(t.compositeFilter.filters.map(r=>sF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(t.compositeFilter.op))}(n):X()}function K8(n){return B8[n]}function Q8(n){return U8[n]}function Y8(n){return $8[n]}function Bc(n){return{fieldPath:n.canonicalString()}}function Uc(n){return Tt.fromServerFormat(n.fieldPath)}function aF(n){return n instanceof Ae?function(t){if(t.op==="=="){if(gP(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NAN"}};if(mP(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gP(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NOT_NAN"}};if(mP(t.value))return{unaryFilter:{field:Bc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(t.field),op:Q8(t.op),value:t.value}}}(n):n instanceof ze?function(t){let r=t.getFilters().map(i=>aF(i));return r.length===1?r[0]:{compositeFilter:{op:Y8(t.op),filters:r}}}(n):X()}function Z8(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cF(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var el=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=xt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Gm=class{constructor(e){this.ct=e}};function X8(n,e){let t;if(e.document)t=nF(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=K.fromSegments(e.noDocument.path),i=ea(e.noDocument.readTime);t=kt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return X();{let r=K.fromSegments(e.unknownDocument.path),i=ea(e.unknownDocument.version);t=kt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){let o=new ut(i[0],i[1]);return se.fromTimestamp(o)}(e.readTime)),t}function PP(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Wm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:Cd(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Jc(o,s.version.toTimestamp()),createTime:Jc(o,s.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Js(e.version)};else{if(!e.isUnknownDocument())return X();r.unknownDocument={path:t.path.toArray(),version:Js(e.version)}}return r}function Wm(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Js(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ea(n){let e=new ut(n.seconds,n.nanoseconds);return se.fromTimestamp(e)}function zs(n,e){let t=(e.baseMutations||[]).map(o=>v0(n.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>v0(n.ct,o)),i=ut.fromMillis(e.localWriteTimeMs);return new Ed(e.batchId,i,t,r)}function ld(n){let e=ea(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ea(n.lastLimboFreeSnapshotVersion):se.min(),r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return ie(o.documents.length===1),_n(dl(eF(o.documents[0])))}(n.query):function(o){return _n(oF(o))}(n.query),new el(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,xt.fromBase64String(n.resumeToken))}function lF(n,e){let t=Js(e.snapshotVersion),r=Js(e.lastLimboFreeSnapshotVersion),i;i=Bm(e.target)?rF(n.ct,e.target):iF(n.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zs(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function GI(n){let e=oF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$m(e,e.limit,"L"):e}function NE(n,e){return new Id(e.largestBatchId,v0(n.ct,e.overlayMutation))}function FP(n,e){let t=e.path.lastSegment();return[n,vn(e.path.popLast()),t]}function OP(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Js(r.readTime),documentKey:vn(r.documentKey.path),largestBatchId:r.largestBatchId}}var _0=class{getBundleMetadata(e,t){return LP(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:ea(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return LP(e).put(function(i){return{bundleId:i.id,createTime:Js(Ct(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return VP(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:GI(o.bundledQuery),readTime:ea(o.readTime)}}(r)})}saveNamedQuery(e,t){return VP(e).put(function(i){return{name:i.name,readTime:Js(Ct(i.readTime)),bundledQuery:i.bundledQuery}}(t))}};function LP(n){return jt(n,"bundles")}function VP(n){return jt(n,"namedQueries")}var Km=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return id(e).get(FP(this.userId,t)).next(r=>r?NE(this.serializer,r):null)}getOverlays(e,t){let r=Yr();return A.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((o,s)=>{let a=new Id(t,s);i.push(this.ht(e,a))}),A.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(s=>i.add(vn(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(id(e).j("collectionPathOverlayIndex",a))}),A.waitFor(o)}getOverlaysForCollection(e,t,r){let i=Yr(),o=vn(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return id(e).U("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let u=NE(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let o=Yr(),s,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return id(e).J({index:"collectionGroupOverlayIndex",range:a},(c,u,d)=>{let f=NE(this.serializer,u);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}ht(e,t){return id(e).put(function(i,o,s){let[a,c,u]=FP(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:xd(i.ct,s.mutation)}}(this.serializer,this.userId,t))}};function id(n){return jt(n,"documentOverlays")}var b0=class{Pt(e){return jt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let r=t?.value;return r?xt.fromUint8Array(r):xt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var Pi=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ct(e.integerValue));else if("doubleValue"in e){let r=ct(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),gd(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Oi(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt($o(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?T1(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Ag(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):X()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(ct(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),K.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Pi.vt=new Pi;function J8(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function jP(n){let e=64-function(r){let i=0;for(let o=0;o<8;++o){let s=J8(255&r[o]);if(i+=s,s!==8)break}return i}(n);return Math.ceil(e/8)}var w0=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{let i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){let t=this.qt(e),r=jP(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){let t=this.qt(e),r=jP(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},E0=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},I0=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},Hs=class{constructor(){this.jt=new w0,this.Ht=new E0(this.jt),this.Jt=new I0(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var qs=class n{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new n(this.indexId,this.documentKey,this.arrayValue,r)}};function Po(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=BP(n.arrayValue,e.arrayValue),t!==0?t:(t=BP(n.directionalValue,e.directionalValue),t!==0?t:K.comparator(n.documentKey,e.documentKey)))}function BP(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}var Qm=class{constructor(e){this.Xt=new We((t,r)=>Tt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(ie(e.collectionGroup===this.collectionId),this.nn)return!1;let t=HE(e);if(t!==void 0&&!this.sn(t))return!1;let r=Us(e),i=new Set,o=0,s=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new We(Tt.comparator),t=[];for(let r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Hc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Hc(r.field,0))}for(let r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Hc(r.field,r.dir==="asc"?0:1)));return new Kc(Kc.UNKNOWN_ID,this.collectionId,t,md.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function uF(n){var e,t;if(ie(n instanceof Ae||n instanceof ze),n instanceof Ae){if(n instanceof jm){let i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Ae.create(n.field,"==",o)))||[];return ze.create(i,"or")}return n}let r=n.filters.map(i=>uF(i));return ze.create(r,n.op)}function e5(n){if(n.getFilters().length===0)return[];let e=C0(uF(n));return ie(dF(e)),D0(e)||T0(e)?[e]:e.getFilters()}function D0(n){return n instanceof Ae}function T0(n){return n instanceof ze&&UI(n)}function dF(n){return D0(n)||T0(n)||function(t){if(t instanceof ze&&XE(t)){for(let r of t.getFilters())if(!D0(r)&&!T0(r))return!1;return!0}return!1}(n)}function C0(n){if(ie(n instanceof Ae||n instanceof ze),n instanceof Ae)return n;if(n.filters.length===1)return C0(n.filters[0]);let e=n.filters.map(r=>C0(r)),t=ze.create(e,n.op);return t=Ym(t),dF(t)?t:(ie(t instanceof ze),ie(Yc(t)),ie(t.filters.length>1),t.filters.reduce((r,i)=>WI(r,i)))}function WI(n,e){let t;return ie(n instanceof Ae||n instanceof ze),ie(e instanceof Ae||e instanceof ze),t=n instanceof Ae?e instanceof Ae?function(i,o){return ze.create([i,o],"and")}(n,e):UP(n,e):e instanceof Ae?UP(e,n):function(i,o){if(ie(i.filters.length>0&&o.filters.length>0),Yc(i)&&Yc(o))return M1(i,o.getFilters());let s=XE(i)?i:o,a=XE(i)?o:i,c=s.filters.map(u=>WI(u,a));return ze.create(c,"or")}(n,e),Ym(t)}function UP(n,e){if(Yc(e))return M1(e,n.getFilters());{let t=e.filters.map(r=>WI(n,r));return ze.create(t,"or")}}function Ym(n){if(ie(n instanceof Ae||n instanceof ze),n instanceof Ae)return n;let e=n.getFilters();if(e.length===1)return Ym(e[0]);if(S1(n))return n;let t=e.map(i=>Ym(i)),r=[];return t.forEach(i=>{i instanceof Ae?r.push(i):i instanceof ze&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ze.create(r,n.op)}var x0=class{constructor(){this.un=new Sd}addToCollectionParentIndex(e,t){return this.un.add(t),A.resolve()}getCollectionParents(e,t){return A.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return A.resolve()}deleteFieldIndex(e,t){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,t){return A.resolve()}getDocumentsMatchingTarget(e,t){return A.resolve(null)}getIndexType(e,t){return A.resolve(0)}getFieldIndexes(e,t){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,t){return A.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,t){return A.resolve(sr.min())}updateCollectionGroup(e,t,r){return A.resolve()}updateIndexEntries(e,t){return A.resolve()}},Sd=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new We(Fe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(Fe.comparator)).toArray()}};var Em=new Uint8Array(0),S0=class{constructor(e,t){this.databaseId=t,this.cn=new Sd,this.ln=new ni(r=>Zs(r),(r,i)=>Ld(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let o={collectionId:r,parent:vn(i)};return $P(e).put(o)}return A.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[f1(t),""],!1,!0);return $P(e).U(i).next(o=>{for(let s of o){if(s.collectionId!==t)break;r.push(Qr(s.parent))}return r})}addFieldIndex(e,t){let r=od(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(t);delete i.indexId;let o=r.add(i);if(t.indexState){let s=Oc(e);return o.next(a=>{s.put(OP(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){let r=od(e),i=Oc(e),o=Fc(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=od(e),r=Fc(e),i=Oc(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return A.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new Qm(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let r=Fc(e),i=!0,o=new Map;return A.forEach(this.hn(t),s=>this.Pn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=_e(),a=[];return A.forEach(o,(c,u)=>{B("IndexedDbIndexManager",`Using index ${function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(z=>`${z.fieldPath}:${z.kind}`).join(",")}`}(c)} to execute ${Zs(t)}`);let d=function(P,z){let ee=HE(z);if(ee===void 0)return null;for(let Q of Um(P,ee.fieldPath))switch(Q.op){case"array-contains-any":return Q.value.arrayValue.values||[];case"array-contains":return[Q.value]}return null}(u,c),f=function(P,z){let ee=new Map;for(let Q of Us(z))for(let I of Um(P,Q.fieldPath))switch(I.op){case"==":case"in":ee.set(Q.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return ee.set(Q.fieldPath.canonicalString(),I.value),Array.from(ee.values())}return null}(u,c),m=function(P,z){let ee=[],Q=!0;for(let I of Us(z)){let v=I.kind===0?wP(P,I.fieldPath,P.startAt):EP(P,I.fieldPath,P.startAt);ee.push(v.value),Q&&(Q=v.inclusive)}return new ti(ee,Q)}(u,c),g=function(P,z){let ee=[],Q=!0;for(let I of Us(z)){let v=I.kind===0?EP(P,I.fieldPath,P.endAt):wP(P,I.fieldPath,P.endAt);ee.push(v.value),Q&&(Q=v.inclusive)}return new ti(ee,Q)}(u,c),_=this.In(c,u,m),w=this.In(c,u,g),D=this.Tn(c,u,f),F=this.En(c.indexId,d,_,m.inclusive,w,g.inclusive,D);return A.forEach(F,L=>r.G(L,t.limit).next(P=>{P.forEach(z=>{let ee=K.fromSegments(z.documentKey);s.has(ee)||(s=s.add(ee),a.push(ee))})}))}).next(()=>a)}return A.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=e5(ze.create(e.filters,"and")).map(r=>a0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,o,s,a){let c=(t!=null?t.length:1)*Math.max(r.length,o.length),u=c/(t!=null?t.length:1),d=[];for(let f=0;f<c;++f){let m=t?this.dn(t[f/u]):Em,g=this.An(e,m,r[f%u],i),_=this.Rn(e,m,o[f%u],s),w=a.map(D=>this.An(e,m,D,!0));d.push(...this.createRange(g,_,w))}return d}An(e,t,r,i){let o=new qs(e,K.empty(),t,r);return i?o:o.Zt()}Rn(e,t,r,i){let o=new qs(e,K.empty(),t,r);return i?o.Zt():o}Pn(e,t){let r=new Qm(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2,i=this.hn(t);return A.forEach(i,o=>this.Pn(e,o).next(s=>{s?r!==0&&s.fields.length<function(c){let u=new We(Tt.comparator),d=!1;for(let f of c.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(let f of c.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(t)&&i.length>1&&r===2?1:r)}Vn(e,t){let r=new Hs;for(let i of Us(e)){let o=t.data.field(i.fieldPath);if(o==null)return null;let s=r.Yt(i.kind);Pi.vt.It(o,s)}return r.zt()}dn(e){let t=new Hs;return Pi.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let r=new Hs;return Pi.vt.It(Qs(this.databaseId,t),r.Yt(function(o){let s=Us(o);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(r===null)return[];let i=[];i.push(new Hs);let o=0;for(let s of Us(e)){let a=r[o++];for(let c of i)if(this.fn(t,s.fieldPath)&&bd(a))i=this.gn(i,s,a);else{let u=c.Yt(s.kind);Pi.vt.It(a,u)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let c=new Hs;c.seed(a.zt()),Pi.vt.It(s,c.Yt(t.kind)),o.push(c)}return o}fn(e,t){return!!e.filters.find(r=>r instanceof Ae&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=od(e),i=Oc(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{let s=[];return A.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(d,f){let m=f?new md(f.sequenceNumber,new sr(ea(f.readTime),new K(Qr(f.documentKey)),f.largestBatchId)):md.empty(),g=d.fields.map(([_,w])=>new Hc(Tt.fromServerFormat(_),w));return new Kc(d.indexId,d.collectionGroup,g,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:fe(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=od(e),o=Oc(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>A.forEach(a,c=>o.put(OP(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){let r=new Map;return A.forEach(t,(i,o)=>{let s=r.get(i.collectionGroup);return(s?A.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),A.forEach(a,c=>this.wn(e,i,c).next(u=>{let d=this.Sn(o,c);return u.isEqual(d)?A.resolve():this.bn(e,o,c,u,d)}))))})}Dn(e,t,r,i){return Fc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return Fc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){let i=Fc(e),o=new We(Po);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(s,a)=>{o=o.add(new qs(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,t){let r=new We(Po),i=this.Vn(t,e);if(i==null)return r;let o=HE(t);if(o!=null){let s=e.data.field(o.fieldPath);if(bd(s))for(let a of s.arrayValue.values||[])r=r.add(new qs(t.indexId,e.key,this.dn(a),i))}else r=r.add(new qs(t.indexId,e.key,Em,i));return r}bn(e,t,r,i,o){B("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let s=[];return function(c,u,d,f,m){let g=c.getIterator(),_=u.getIterator(),w=Pc(g),D=Pc(_);for(;w||D;){let F=!1,L=!1;if(w&&D){let P=d(w,D);P<0?L=!0:P>0&&(F=!0)}else w!=null?L=!0:F=!0;F?(f(D),D=Pc(_)):L?(m(w),w=Pc(g)):(w=Pc(g),D=Pc(_))}}(i,o,Po,a=>{s.push(this.Dn(e,t,r,a))},a=>{s.push(this.vn(e,t,r,a))}),A.waitFor(s)}yn(e){let t=1;return Oc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>Po(s,a)).filter((s,a,c)=>!a||Po(s,c[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=Po(s,e),c=Po(s,t);if(a===0)i[0]=e.Zt();else if(a>0&&c<0)i.push(s),i.push(s.Zt());else if(c>0)break}i.push(t);let o=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];let a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Em,[]],c=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Em,[]];o.push(IDBKeyRange.bound(a,c))}return o}Cn(e,t){return Po(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zP)}getMinOffset(e,t){return A.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||X())).next(zP)}};function $P(n){return jt(n,"collectionParents")}function Fc(n){return jt(n,"indexEntries")}function od(n){return jt(n,"indexConfiguration")}function Oc(n){return jt(n,"indexState")}function zP(n){ie(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;LI(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new sr(e.readTime,e.documentKey,t)}var HP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},or=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function hF(n,e,t){let r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId),a=0,c=r.J({range:s},(d,f,m)=>(a++,m.delete()));o.push(c.next(()=>{ie(a===1)}));let u=[];for(let d of t.mutations){let f=_1(e,d.key.path,t.batchId);o.push(i.delete(f)),u.push(d.key)}return A.waitFor(o).next(()=>u)}function Zm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw X();e=n.noDocument}return JSON.stringify(e).length}or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(41943040,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);var Xm=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){ie(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new n(o,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fo(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let o=$c(e),s=Fo(e);return s.add({}).next(a=>{ie(typeof a=="number");let c=new Ed(a,t,r,i),u=function(g,_,w){let D=w.baseMutations.map(L=>xd(g.ct,L)),F=w.mutations.map(L=>xd(g.ct,L));return{userId:_,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:D,mutations:F}}(this.serializer,this.userId,c),d=[],f=new We((m,g)=>fe(m.canonicalString(),g.canonicalString()));for(let m of i){let g=_1(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(s.put(u)),d.push(o.put(g,s8))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),A.waitFor(d).next(()=>c)})}lookupMutationBatch(e,t){return Fo(e).get(t).next(r=>r?(ie(r.userId===this.userId),zs(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?A.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Fo(e).J({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(ie(a.batchId>=r),o=zs(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Fo(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fo(e).U("userMutationsIndex",t).next(r=>r.map(i=>zs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=Cm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return $c(e).J({range:i},(s,a,c)=>{let[u,d,f]=s,m=Qr(d);if(u===this.userId&&t.path.isEqual(m))return Fo(e).get(f).next(g=>{if(!g)throw X();ie(g.userId===this.userId),o.push(zs(this.serializer,g))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new We(fe),i=[];return t.forEach(o=>{let s=Cm(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=$c(e).J({range:a},(u,d,f)=>{let[m,g,_]=u,w=Qr(g);m===this.userId&&o.path.isEqual(w)?r=r.add(_):f.done()});i.push(c)}),A.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=Cm(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new We(fe);return $c(e).J({range:s},(c,u,d)=>{let[f,m,g]=c,_=Qr(m);f===this.userId&&r.isPrefixOf(_)?_.length===i&&(a=a.add(g)):d.done()}).next(()=>this.xn(e,a))}xn(e,t){let r=[],i=[];return t.forEach(o=>{i.push(Fo(e).get(o).next(s=>{if(s===null)throw X();ie(s.userId===this.userId),r.push(zs(this.serializer,s))}))}),A.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return hF(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),A.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return A.resolve();let r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return $c(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){let c=Qr(o[1]);i.push(c)}else a.done()}).next(()=>{ie(i.length===0)})})}containsKey(e,t){return fF(e,this.userId,t)}Nn(e){return pF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function fF(n,e,t){let r=Cm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return $c(n).J({range:o,H:!0},(a,c,u)=>{let[d,f,m]=a;d===e&&f===i&&(s=!0),u.done()}).next(()=>s)}function Fo(n){return jt(n,"mutations")}function $c(n){return jt(n,"documentMutations")}function pF(n){return jt(n,"mutationQueues")}var tl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var A0=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let r=new tl(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>se.fromTimestamp(new ut(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Lc(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(ie(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0,o=[];return Lc(e).J((s,a)=>{let c=ld(a);c.sequenceNumber<=t&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>A.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Lc(e).J((r,i)=>{let o=ld(i);t(o)})}qn(e){return qP(e).get("targetGlobalKey").next(t=>(ie(t!==null),t))}Qn(e,t){return qP(e).put("targetGlobalKey",t)}Kn(e,t){return Lc(e).put(lF(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let r=Zs(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Lc(e).J({range:i,index:"queryTargetsIndex"},(s,a,c)=>{let u=ld(a);Ld(t,u.target)&&(o=u,c.done())}).next(()=>o)}addMatchingKeys(e,t,r){let i=[],o=Oo(e);return t.forEach(s=>{let a=vn(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),A.waitFor(i)}removeMatchingKeys(e,t,r){let i=Oo(e);return A.forEach(t,o=>{let s=vn(o.path);return A.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){let r=Oo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Oo(e),o=_e();return i.J({range:r,H:!0},(s,a,c)=>{let u=Qr(s[1]),d=new K(u);o=o.add(d)}).next(()=>o)}containsKey(e,t){let r=vn(t.path),i=IDBKeyRange.bound([r],[f1(r)],!1,!0),o=0;return Oo(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],c,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,t){return Lc(e).get(t).next(r=>r?ld(r):null)}};function Lc(n){return jt(n,"targets")}function qP(n){return jt(n,"targetGlobal")}function Oo(n){return jt(n,"targetDocuments")}function GP([n,e],[t,r]){let i=fe(n,t);return i===0?fe(e,r):i}var M0=class{constructor(e){this.Un=e,this.buffer=new We(GP),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();GP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},R0=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){B("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>M(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?B("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Yo(t)}yield this.Hn(3e5)}))}},N0=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return A.resolve(Bn.oe);let r=new M0(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),A.resolve(HP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HP):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Vc()<=Nr.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),A.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function t5(n,e){return new N0(n,e)}var k0=class{constructor(e,t){this.db=e,this.garbageCollector=t5(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return Im(e,r)}removeReference(e,t,r){return Im(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Im(e,t)}nr(e,t){return function(i,o){let s=!1;return pF(i).Y(a=>fF(i,a,o).next(c=>(c&&(s=!0),A.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.tr(e,(s,a)=>{if(a<=t){let c=this.nr(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,se.min()),Oo(e).delete(function(f){return[0,vn(f.path)]}(s))))});i.push(c)}}).next(()=>A.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Im(e,t)}tr(e,t){let r=Oo(e),i,o=Bn.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:u})=>{s===0?(o!==Bn.oe&&t(new K(Qr(i)),o),o=u,i=c):o=Bn.oe}).next(()=>{o!==Bn.oe&&t(new K(Qr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Im(n,e){return Oo(n).put(function(r,i){return{targetId:0,path:vn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}var Jm=class{constructor(){this.changes=new ni(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?A.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var P0=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Bs(e).put(r)}removeEntry(e,t,r){return Bs(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Wm(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=kt.newInvalidDocument(t);return Bs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(sd(t))},(i,o)=>{r=this.ir(t,o)}).next(()=>r)}sr(e,t){let r={size:0,document:kt.newInvalidDocument(t)};return Bs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(sd(t))},(i,o)=>{r={document:this.ir(t,o),size:Zm(o)}}).next(()=>r)}getEntries(e,t){let r=An();return this._r(e,t,(i,o)=>{let s=this.ir(i,o);r=r.insert(i,s)}).next(()=>r)}ar(e,t){let r=An(),i=new ot(K.comparator);return this._r(e,t,(o,s)=>{let a=this.ir(o,s);r=r.insert(o,a),i=i.insert(o,Zm(s))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return A.resolve();let i=new We(QP);t.forEach(c=>i=i.add(c));let o=IDBKeyRange.bound(sd(i.first()),sd(i.last())),s=i.getIterator(),a=s.getNext();return Bs(e).J({index:"documentKeyIndex",range:o},(c,u,d)=>{let f=K.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&QP(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?d.$(sd(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Wm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bs(e).U(IDBKeyRange.bound(a,c,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let d=An();for(let f of u){let m=this.ir(K.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(jd(t,m)||i.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,t,r,i){let o=An(),s=KP(t,r),a=KP(t,sr.max());return Bs(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,u,d)=>{let f=this.ir(K.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new F0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return WP(e).get("remoteDocumentGlobalKey").next(t=>(ie(!!t),t))}rr(e,t){return WP(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let r=X8(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(se.min())))return r}return kt.newInvalidDocument(e)}};function mF(n){return new P0(n)}var F0=class extends Jm{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new ni(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new We((o,s)=>fe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.lr.get(o);if(t.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=PP(this.cr.serializer,s);i=i.add(o.path.popLast());let u=Zm(c);r+=u-a.size,t.push(this.cr.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){let c=PP(this.cr.serializer,s.convertToNoDocument(se.min()));t.push(this.cr.addEntry(e,o,c))}}),i.forEach(o=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.cr.updateMetadata(e,r)),A.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function WP(n){return jt(n,"remoteDocumentGlobal")}function Bs(n){return jt(n,"remoteDocumentsV14")}function sd(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function KP(n,e){let t=e.documentKey.path.toArray();return[n,Wm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function QP(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=fe(t[o],r[o]),i)return i;return i=fe(t.length,r.length),i||(i=fe(t[t.length-2],r[r.length-2]),i||fe(t[t.length-1],r[r.length-1]))}var O0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var eg=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&hd(r.mutation,i,Un.empty(),ut.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_e()){let i=Yr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=cd();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Yr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_e()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=An(),s=dd(),a=function(){return dd()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof xr)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),hd(d.mutation,u,d.mutation.getFieldMask(),ut.now())):s.set(u.key,Un.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new O0(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=dd(),i=new ot((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||Un.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=j1();d.forEach(m=>{if(!o.has(m)){let g=G1(t.get(m),r.get(m));g!==null&&f.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return A.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$I(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):A.resolve(Yr()),a=-1,c=o;return s.next(u=>A.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?A.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,_e())).next(d=>({batchId:a,changes:V1(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=cd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=cd();return this.indexManager.getCollectionParents(e,o).next(a=>A.forEach(a,c=>{let u=function(f,m){return new Cr(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,kt.newInvalidDocument(d)))});let a=cd();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&hd(d.mutation,u,Un.empty(),ut.now()),jd(t,u)&&(a=a.insert(c,u))}),a})}};var L0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return A.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ct(i.createTime)}}(t)),A.resolve()}getNamedQuery(e,t){return A.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:GI(i.bundledQuery),readTime:Ct(i.readTime)}}(t)),A.resolve()}};var V0=class{constructor(){this.overlays=new ot(K.comparator),this.Ir=new Map}getOverlay(e,t){return A.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Yr();return A.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),A.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),A.resolve()}getOverlaysForCollection(e,t,r){let i=Yr(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return A.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ot((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Yr(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Yr(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return A.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Id(t,r));let o=this.Ir.get(t);o===void 0&&(o=_e(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var j0=class{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return A.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,A.resolve()}};var Ad=class{constructor(){this.Tr=new We(Rt.Er),this.dr=new We(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Rt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Rt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new K(new Fe([])),r=new Rt(t,e),i=new Rt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new K(new Fe([])),r=new Rt(t,e),i=new Rt(t,e+1),o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Rt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Rt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return K.comparator(e.key,t.key)||fe(e.wr,t.wr)}static Ar(e,t){return fe(e.wr,t.wr)||K.comparator(e.key,t.key)}};var B0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new We(Rt.Er)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ed(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(s)}lookupMutationBatch(e,t){return A.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return A.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Rt(t,0),i=new Rt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),A.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new We(fe);return t.forEach(i=>{let o=new Rt(i,0),s=new Rt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),A.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new Rt(new K(o),0),a=new We(fe);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},s),A.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ie(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return A.forEach(t.mutations,i=>{let o=new Rt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Rt(t,0),i=this.br.firstAfterOrEqual(r);return A.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var U0=class{constructor(e){this.Mr=e,this.docs=function(){return new ot(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return A.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(t))}getEntries(e,t){let r=An();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():kt.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=An(),s=t.path,a=new K(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||LI(m1(d),r)<=0||(i.has(d.key)||jd(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return A.resolve(o)}getAllFromCollectionGroup(e,t,r,i){X()}Or(e,t){return A.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $0(this)}getSize(e){return A.resolve(this.size)}},$0=class extends Jm{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),A.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var z0=class{constructor(e){this.persistence=e,this.Nr=new ni(t=>Zs(t),Ld),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ad,this.targetCount=0,this.kr=tl.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),A.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new tl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,A.resolve()}updateTargetData(e,t){return this.Kn(t),A.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(o).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return A.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),A.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),A.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),A.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return A.resolve(r)}containsKey(e,t){return A.resolve(this.Br.containsKey(t))}};var tg=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Bn(0),this.Kr=!1,this.Kr=!0,this.$r=new j0,this.referenceDelegate=e(this),this.Ur=new z0(this),this.indexManager=new x0,this.remoteDocumentCache=function(i){return new U0(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Gm(t),this.Gr=new L0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new V0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new B0(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new H0(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return A.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},H0=class extends Pm{constructor(e){super(),this.currentSequenceNumber=e}},ng=class n{constructor(e){this.persistence=e,this.Jr=new Ad,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),A.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),A.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Xr,r=>{let i=K.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return A.or([()=>A.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var q0=class{constructor(e){this.serializer=e}O(e,t,r,i){let o=new Fm("createOrUpgrade",t);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dP,{unique:!0}),c.createObjectStore("documentMutations")}(e),YP(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=A.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),YP(e)),s=s.next(()=>function(c){let u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:se.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(c,u){return u.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dP,{unique:!0});let f=u.store("mutations"),m=d.map(g=>f.put(g));return A.waitFor(m)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(s=s.next(()=>this.ii(o))),r<8&&i>=8&&(s=s.next(()=>this.si(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(c){let u=c.createObjectStore("documentOverlays",{keyPath:v8});u.createIndex("collectionPathOverlayIndex",_8,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",b8,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){let u=c.createObjectStore("remoteDocumentsV14",{keyPath:a8});u.createIndex("documentKeyIndex",c8),u.createIndex("collectionGroupIndex",l8)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:p8}).createIndex("sequenceNumberIndex",m8,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:g8}).createIndex("documentKeyIndex",y8,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=Zm(i)}).next(()=>{let r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){let t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>A.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>A.forEach(a,c=>{ie(c.userId===o.userId);let u=zs(this.serializer,c);return hF(e,o.userId,u).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let o=[];return r.J((s,a)=>{let c=new Fe(s),u=function(f){return[0,vn(f)]}(c);o.push(t.get(u).next(d=>d?A.resolve():(f=>t.put({targetId:0,path:vn(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>A.waitFor(o))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:f8});let r=t.store("collectionParents"),i=new Sd,o=s=>{if(i.add(s)){let a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:vn(c)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{let c=new Fe(s);return o(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,c],u)=>{let d=Qr(a);return o(d.popLast())}))}oi(e){let t=e.store("targets");return t.J((r,i)=>{let o=ld(i),s=lF(this.serializer,o);return t.put(s)})}_i(e,t){let r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{let a=t.store("remoteDocumentsV14"),c=function(f){return f.document?new K(Fe.fromString(f.document.name).popFirst(5)):f.noDocument?K.fromSegments(f.noDocument.path):f.unknownDocument?K.fromSegments(f.unknownDocument.path):X()}(s).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>A.waitFor(i))}ai(e,t){let r=t.store("mutations"),i=mF(this.serializer),o=new tg(ng.Zr,this.serializer.ct);return r.U().next(s=>{let a=new Map;return s.forEach(c=>{var u;let d=(u=a.get(c.userId))!==null&&u!==void 0?u:_e();zs(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),A.forEach(a,(c,u)=>{let d=new Nt(u),f=Km.lt(this.serializer,d),m=o.getIndexManager(d),g=Xm.lt(d,this.serializer,m,o.referenceDelegate);return new eg(i,g,f,m).recalculateAndSaveOverlaysForDocumentKeys(new yd(t,Bn.oe),c).next()})})}};function YP(n){n.createObjectStore("targetDocuments",{keyPath:d8}).createIndex("documentTargetsIndex",h8,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u8,{unique:!0}),n.createObjectStore("targetGlobal")}var kE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",G0=class n{constructor(e,t,r,i,o,s,a,c,u,d,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=o,this.window=s,this.document=a,this.ci=u,this.li=d,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!n.D())throw new O(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new k0(this,i),this.Ai=t+"main",this.serializer=new Gm(c),this.Ri=new Uo(this.Ai,this.hi,new q0(this.serializer)),this.$r=new b0,this.Ur=new A0(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mF(this.serializer),this.Gr=new _0,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&Dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new O(k.FAILED_PRECONDITION,kE);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Bn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>M(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>M(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>M(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Dm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Zo(e))return B("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return B("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return ad(e).get("owner").next(t=>A.resolve(this.vi(t)))}Ci(e){return Dm(e).delete(this.clientId)}Fi(){return M(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=jt(t,"clientMetadata");return r.U().next(i=>{let o=this.xi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return A.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?A.resolve(!0):ad(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new O(k.FAILED_PRECONDITION,kE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dm(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&B("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return M(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new yd(e,Bn.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Dm(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return Xm.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new S0(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Km.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){B("IndexedDbPersistence","Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",o=function(c){return c===17?I8:c===16?E8:c===15?jI:c===14?E1:c===13?w1:c===12?w8:c===11?b1:void X()}(this.hi),s;return this.Ri.runTransaction(e,i,o,a=>(s=new yd(a,this.Qr?this.Qr.next():Bn.oe),t==="readwrite-primary"?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw Dt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new O(k.FAILED_PRECONDITION,g1);return r(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return ad(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new O(k.FAILED_PRECONDITION,kE)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ad(e).put("owner",t)}static D(){return Uo.D()}bi(e){let t=ad(e);return t.get("owner").next(r=>this.vi(r)?(B("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):A.resolve())}Mi(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(Dt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;nv()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let r=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return B("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Dt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Dt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function ad(n){return jt(n,"owner")}function Dm(n){return jt(n,"clientMetadata")}function KI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var W0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=_e(),i=_e();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var K0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var rg=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return nv()?8:y1(ql())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new K0;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Vc()<=Nr.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",jc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),A.resolve()):(Vc()<=Nr.DEBUG&&B("QueryEngine","Query:",jc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Vc()<=Nr.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",jc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(t))):A.resolve())}Yi(e,t){if(IP(t))return A.resolve(null);let r=_n(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=$m(t,null,"F"),r=_n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(t,a);return this.ns(t,u,s,c.readTime)?this.Yi(e,$m(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,r,i){return IP(t)||i.isEqual(se.min())?A.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?A.resolve(null):(Vc()<=Nr.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jc(t)),this.rs(e,s,t,p1(i,-1)).next(a=>a))})}ts(e,t){let r=new We(O1(e));return t.forEach((i,o)=>{jd(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Vc()<=Nr.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",jc(t)),this.Ji.getDocumentsMatchingQuery(e,t,sr.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Q0=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new ot(fe),this._s=new ni(o=>Zs(o),Ld),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function gF(n,e,t,r){return new Q0(n,e,t,r)}function yF(n,e){return M(this,null,function*(){let t=W(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=_e();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function n5(n,e){let t=W(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,m=f.keys(),g=A.resolve();return m.forEach(_=>{g=g.next(()=>d.getEntry(c,_)).next(w=>{let D=u.docVersions.get(_);ie(D!==null),w.version.compareTo(D)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function vF(n){let e=W(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function r5(n,e){let t=W(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((d,f)=>{let m=i.get(f);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(o,d.addedDocuments,f)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(xt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(w,D,F){return w.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,g,d)&&a.push(t.Ur.updateTargetData(o,g))});let c=An(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(_F(o,s,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(se.min())){let d=t.Ur.getLastRemoteSnapshotVersion(o).next(f=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return A.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.os=i,o))}function _F(n,e,t){let r=_e(),i=_e();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=An();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function i5(n,e){let t=W(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nl(n,e){let t=W(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,A.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new el(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function rl(n,e,t){return M(this,null,function*(){let r=W(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Zo(s))throw s;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function ig(n,e,t){let r=W(n),i=se.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=W(c),m=f._s.get(d);return m!==void 0?A.resolve(f.os.get(m)):f.Ur.getTargetData(u,d)}(r,s,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:_e())).next(a=>(EF(r,F1(e),a),{documents:a,Ts:o})))}function bF(n,e){let t=W(n),r=W(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function wF(n,e){let t=W(n),r=t.us.get(e)||se.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.cs.getAllFromCollectionGroup(i,e,p1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(EF(t,e,i),i))}function EF(n,e,t){let r=n.us.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}function o5(n,e,t,r){return M(this,null,function*(){let i=W(n),o=_e(),s=An();for(let u of t){let d=e.Es(u.metadata.name);u.document&&(o=o.add(d));let f=e.ds(u);f.setReadTime(e.As(u.metadata.readTime)),s=s.insert(d,f)}let a=i.cs.newChangeBuffer({trackRemovals:!0}),c=yield nl(i,function(d){return _n(dl(Fe.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>_F(u,a,s).next(d=>(a.apply(u),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(u,c.targetId).next(()=>i.Ur.addMatchingKeys(u,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.Ps,d.Is)).next(()=>d.Ps)))})}function s5(r,i){return M(this,arguments,function*(n,e,t=_e()){let o=yield nl(n,_n(GI(e.bundledQuery))),s=W(n);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=Ct(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.Gr.saveNamedQuery(a,e);let u=o.withResumeToken(xt.EMPTY_BYTE_STRING,c);return s.os=s.os.insert(u.targetId,u),s.Ur.updateTargetData(a,u).next(()=>s.Ur.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Ur.addMatchingKeys(a,t,o.targetId)).next(()=>s.Gr.saveNamedQuery(a,e))})})}function ZP(n,e){return`firestore_clients_${n}_${e}`}function XP(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function PE(n,e){return`firestore_targets_${n}_${e}`}var og=class n{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){let i=JSON.parse(r),o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new O(i.error.code,i.error.message))),s?new n(e,t,i.state,o):(Dt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},fd=class n{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){let r=JSON.parse(t),i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new O(r.error.code,r.error.message))),o?new n(e,r.state,i):(Dt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},sg=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){let r=JSON.parse(t),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=zI();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=v1(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new n(e,o):(Dt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},Y0=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(Dt("SharedClientState",`Failed to parse online state: ${e}`),null)}},Md=class{constructor(){this.activeTargetIds=zI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},pd=class{constructor(e,t,r,i,o){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ot(fe),this.started=!1,this.bs=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=ZP(this.persistenceKey,this.ps),this.vs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new Md),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return M(this,null,function*(){let e=yield this.syncEngine.Qi();for(let r of e){if(r===this.ps)continue;let i=this.getItem(ZP(this.persistenceKey,r));if(i){let o=sg.Rs(r,i);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();let t=this.storage.getItem(this.xs);if(t){let r=this.Ls(t);r&&this.Bs(r)}for(let r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(PE(this.persistenceKey,e));if(i){let o=fd.Rs(e,i);o&&(r=o.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(PE(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return B("SharedClientState","READ",e,t),t}setItem(e,t){B("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){B("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let t=e;if(t.storageArea===this.storage){if(B("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void Dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>M(this,null,function*(){if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){let r=this.Gs(t.key);return this.zs(r,null)}{let r=this.js(t.key,t.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){let r=this.Hs(t.key,t.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){let r=this.Ys(t.key,t.newValue);if(r)return this.Zs(r)}}else if(t.key===this.xs){if(t.newValue!==null){let r=this.Ls(t.newValue);if(r)return this.Bs(r)}}else if(t.key===this.vs){let r=function(o){let s=Bn.oe;if(o!=null)try{let a=JSON.parse(o);ie(typeof a=="number"),s=a}catch(a){Dt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(t.newValue);r!==Bn.oe&&this.sequenceNumberHandler(r)}else if(t.key===this.Os){let r=this.Xs(t.newValue);yield Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){let i=new og(this.currentUser,e,t,r),o=XP(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){let t=XP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){let t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,r){let i=PE(this.persistenceKey,e),o=new fd(e,t,r);this.setItem(i,o.Vs())}Ws(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){let t=this.Cs.exec(e);return t?t[1]:null}js(e,t){let r=this.Gs(e);return sg.Rs(r,t)}Hs(e,t){let r=this.Fs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return og.Rs(new Nt(o),i,t)}Ys(e,t){let r=this.Ms.exec(e),i=Number(r[1]);return fd.Rs(i,t)}Ls(e){return Y0.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return M(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);B("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){let r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=zI();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}},ag=class{constructor(){this.so=new Md,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Md,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Z0=class{_o(e){}shutdown(){}};var cg=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Tm=null;function FE(){return Tm===null?Tm=function(){return 268435456+Math.round(2147483648*Math.random())}():Tm++,"0x"+Tm.toString(16)}var a5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var X0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var an="WebChannelConnection",J0=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=FE(),c=this.xo(t,r.toUriEncodedString());B("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,c,u,i).then(d=>(B("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Tr("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=a5[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=FE();return new Promise((s,a)=>{let c=new xE;c.setWithCredentials(!0),c.listenOnce(SE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case rd.NO_ERROR:let d=c.getResponseJson();B(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case rd.TIMEOUT:B(an,`RPC '${e}' ${o} timed out`),a(new O(k.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:let f=c.getStatus();if(B(an,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let _=function(D){let F=D.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(F)>=0?F:k.UNKNOWN}(g.status);a(new O(_,g.message))}else a(new O(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new O(k.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{B(an,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);B(an,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=FE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=RE(),a=ME(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");B(an,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c),m=!1,g=!1,_=new X0({Io:D=>{g?B(an,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(m||(B(an,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),B(an,`RPC '${e}' stream ${i} sending:`,D),f.send(D))},To:()=>f.close()}),w=(D,F,L)=>{D.listen(F,P=>{try{L(P)}catch(z){setTimeout(()=>{throw z},0)}})};return w(f,kc.EventType.OPEN,()=>{g||(B(an,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),w(f,kc.EventType.CLOSE,()=>{g||(g=!0,B(an,`RPC '${e}' stream ${i} transport closed`),_.So())}),w(f,kc.EventType.ERROR,D=>{g||(g=!0,Tr(an,`RPC '${e}' stream ${i} transport errored:`,D),_.So(new O(k.UNAVAILABLE,"The operation could not be completed")))}),w(f,kc.EventType.MESSAGE,D=>{var F;if(!g){let L=D.data[0];ie(!!L);let P=L,z=P.error||((F=P[0])===null||F===void 0?void 0:F.error);if(z){B(an,`RPC '${e}' stream ${i} received error:`,z);let ee=z.status,Q=function(b){let T=Mt[b];if(T!==void 0)return Q1(T)}(ee),I=z.message;Q===void 0&&(Q=k.INTERNAL,I="Unknown error status: "+ee+" with message "+z.message),g=!0,_.So(new O(Q,I)),f.close()}else B(an,`RPC '${e}' stream ${i} received:`,L),_.bo(L)}}),w(a,AE.STAT_EVENT,D=>{D.stat===wm.PROXY?B(an,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===wm.NOPROXY&&B(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}};function IF(){return typeof window<"u"?window:null}function Mm(){return typeof document<"u"?document:null}function Bd(n){return new p0(n,!0)}var Rd=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var lg=class{constructor(e,t,r,i,o,s,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Rd(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return M(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return M(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return M(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(Dt(t.toString()),Dt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new O(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>M(this,null,function*(){this.state=0,this.start()}))}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},eI=class extends lg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=q8(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Ct(s.readTime):se.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=y0(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=Bm(c)?{documents:rF(o,c)}:{query:iF(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Z1(o,s.resumeToken);let u=m0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=Jc(o,s.snapshotVersion.toTimestamp());let u=m0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=W8(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=y0(this.serializer),t.removeTarget=e,this.a_(t)}},tI=class extends lg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ie(!!e.streamToken),this.lastStreamToken=e.streamToken,ie(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=G8(e.writeResults,e.commitTime),r=Ct(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=y0(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>xd(this.serializer,r))};this.a_(t)}};var nI=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new O(k.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,g0(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(k.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,g0(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(k.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},rI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dt(t),this.D_=!1):B("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var iI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>M(this,null,function*(){Xo(this)&&(B("RemoteStore","Restarting streams for network reachability change."),yield function(c){return M(this,null,function*(){let u=W(c);u.L_.add(4),yield hl(u),u.q_.set("Unknown"),u.L_.delete(4),yield Ud(u)})}(this))}))}),this.q_=new rI(r,i)}};function Ud(n){return M(this,null,function*(){if(Xo(n))for(let e of n.B_)yield e(!0)})}function hl(n){return M(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Mg(n,e){let t=W(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),ZI(t)?YI(t):pl(t).r_()&&QI(t,e))}function il(n,e){let t=W(n),r=pl(t);t.N_.delete(e),r.r_()&&DF(t,e),t.N_.size===0&&(r.r_()?r.o_():Xo(t)&&t.q_.set("Unknown"))}function QI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pl(n).A_(e)}function DF(n,e){n.Q_.xe(e),pl(n).R_(e)}function YI(n){n.Q_=new f0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),pl(n).start(),n.q_.v_()}function ZI(n){return Xo(n)&&!pl(n).n_()&&n.N_.size>0}function Xo(n){return W(n).L_.size===0}function TF(n){n.Q_=void 0}function c5(n){return M(this,null,function*(){n.q_.set("Online")})}function l5(n){return M(this,null,function*(){n.N_.forEach((e,t)=>{QI(n,e)})})}function u5(n,e){return M(this,null,function*(){TF(n),ZI(n)?(n.q_.M_(e),YI(n)):n.q_.set("Unknown")})}function d5(n,e,t){return M(this,null,function*(){if(n.q_.set("Online"),e instanceof Hm&&e.state===2&&e.cause)try{yield function(i,o){return M(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ug(n,r)}else if(e instanceof Gc?n.Q_.Ke(e):e instanceof zm?n.Q_.He(e):n.Q_.We(e),!t.isEqual(se.min()))try{let r=yield vF(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.N_.get(c);if(!d)return;o.N_.set(c,d.withResumeToken(xt.EMPTY_BYTE_STRING,d.snapshotVersion)),DF(o,c);let f=new el(d.target,c,u,d.sequenceNumber);QI(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield ug(n,r)}})}function ug(n,e,t){return M(this,null,function*(){if(!Zo(e))throw e;n.L_.add(1),yield hl(n),n.q_.set("Offline"),t||(t=()=>vF(n.localStore)),n.asyncQueue.enqueueRetryable(()=>M(this,null,function*(){B("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Ud(n)}))})}function CF(n,e){return e().catch(t=>ug(n,t,e))}function fl(n){return M(this,null,function*(){let e=W(n),t=Qo(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;h5(e);)try{let i=yield i5(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,f5(e,i)}catch(i){yield ug(e,i)}xF(e)&&SF(e)})}function h5(n){return Xo(n)&&n.O_.length<10}function f5(n,e){n.O_.push(e);let t=Qo(n);t.r_()&&t.V_&&t.m_(e.mutations)}function xF(n){return Xo(n)&&!Qo(n).n_()&&n.O_.length>0}function SF(n){Qo(n).start()}function p5(n){return M(this,null,function*(){Qo(n).p_()})}function m5(n){return M(this,null,function*(){let e=Qo(n);for(let t of n.O_)e.m_(t.mutations)})}function g5(n,e,t){return M(this,null,function*(){let r=n.O_.shift(),i=u0.from(r,e,t);yield CF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield fl(n)})}function y5(n,e){return M(this,null,function*(){e&&Qo(n).V_&&(yield function(r,i){return M(this,null,function*(){if(function(s){return K1(s)&&s!==k.ABORTED}(i.code)){let o=r.O_.shift();Qo(r).s_(),yield CF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield fl(r)}})}(n,e)),xF(n)&&SF(n)})}function JP(n,e){return M(this,null,function*(){let t=W(n);t.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");let r=Xo(t);t.L_.add(3),yield hl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Ud(t)})}function oI(n,e){return M(this,null,function*(){let t=W(n);e?(t.L_.delete(2),yield Ud(t)):e||(t.L_.add(2),yield hl(t),t.q_.set("Unknown"))})}function pl(n){return n.K_||(n.K_=function(t,r,i){let o=W(t);return o.w_(),new eI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:c5.bind(null,n),Ro:l5.bind(null,n),mo:u5.bind(null,n),d_:d5.bind(null,n)}),n.B_.push(e=>M(this,null,function*(){e?(n.K_.s_(),ZI(n)?YI(n):n.q_.set("Unknown")):(yield n.K_.stop(),TF(n))}))),n.K_}function Qo(n){return n.U_||(n.U_=function(t,r,i){let o=W(t);return o.w_(),new tI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:p5.bind(null,n),mo:y5.bind(null,n),f_:m5.bind(null,n),g_:g5.bind(null,n)}),n.B_.push(e=>M(this,null,function*(){e?(n.U_.s_(),yield fl(n)):(yield n.U_.stop(),n.O_.length>0&&(B("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var sI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ml(n,e){if(Dt("AsyncQueue",`${e}: ${n}`),Zo(n))return new O(k.UNAVAILABLE,`${e}: ${n}`);throw n}var dg=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=cd(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var hg=class{constructor(){this.W_=new ot(K.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},ol=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,dg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var aI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},cI=class{constructor(){this.queries=e1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=W(t),o=i.queries;i.queries=e1(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new O(k.ABORTED,"Firestore shutting down"))}};function e1(){return new ni(n=>P1(n),Vd)}function XI(n,e){return M(this,null,function*(){let t=W(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new aI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=ml(s,`Initialization of query '${jc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&eD(t)})}function JI(n,e){return M(this,null,function*(){let t=W(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function v5(n,e){let t=W(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&eD(t)}function _5(n,e,t){let r=W(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function eD(n){n.Y_.forEach(e=>{e.next()})}var lI,t1;(t1=lI||(lI={})).ea="default",t1.Cache="cache";var Nd=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ol(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lI.Cache}};var uI=class{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}};var fg=class{constructor(e){this.serializer=e}Es(e){return Xr(this.serializer,e)}ds(e){return e.metadata.exists?nF(this.serializer,e.document,!1):kt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ct(e)}},dI=class{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AF(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;let r=Fe.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){let t=new Map,r=new fg(this.serializer);for(let i of e)if(i.metadata.queries){let o=r.Es(i.metadata.name);for(let s of i.metadata.queries){let a=(t.get(s)||_e()).add(o);t.set(s,a)}}return t}complete(){return M(this,null,function*(){let e=yield o5(this.localStore,new fg(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(let r of this.queries)yield s5(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function AF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var pg=class{constructor(e){this.key=e}},mg=class{constructor(e){this.key=e}},gg=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=O1(e),this.Ra=new dg(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new hg,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let m=i.get(d),g=jd(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),D=!1;m&&g?m.data.isEqual(g.data)?_!==w&&(r.track({type:3,doc:g}),D=!0):this.ga(m,g)||(r.track({type:2,doc:g}),D=!0,(c&&this.Aa(g,c)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),D=!0):m&&!g&&(r.track({type:1,doc:m}),D=!0,(c||u)&&(a=!0)),D&&(g?(s=s.add(g),o=w?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((d,f)=>function(g,_){let w=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return w(g)-w(_)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new ol(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new mg(r))}),this.da.forEach(r=>{e.has(r)||t.push(new pg(r))}),t}ba(e){this.Ta=e.Ts,this.da=_e();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ol.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},hI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},fI=class{constructor(e){this.key=e,this.va=!1}},pI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ni(a=>P1(a),Vd),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(K.comparator),this.Na=new Map,this.La=new Ad,this.Ba={},this.ka=new Map,this.qa=tl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function b5(n,e,t=!0){return M(this,null,function*(){let r=Rg(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield MF(r,e,t,!0),i})}function w5(n,e){return M(this,null,function*(){let t=Rg(n);yield MF(t,e,!0,!1)})}function MF(n,e,t,r){return M(this,null,function*(){let i=yield nl(n.localStore,_n(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield tD(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Mg(n.remoteStore,i),a})}function tD(n,e,t,r,i){return M(this,null,function*(){n.Ka=(f,m,g)=>function(w,D,F,L){return M(this,null,function*(){let P=D.view.ma(F);P.ns&&(P=yield ig(w.localStore,D.query,!1).then(({documents:I})=>D.view.ma(I,P)));let z=L&&L.targetChanges.get(D.targetId),ee=L&&L.targetMismatches.get(D.targetId)!=null,Q=D.view.applyChanges(P,w.isPrimaryClient,z,ee);return mI(w,D.targetId,Q.wa),Q.snapshot})}(n,f,m,g);let o=yield ig(n.localStore,e,!0),s=new gg(e,o.Ts),a=s.ma(o.documents),c=Td.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);mI(n,t,u.wa);let d=new hI(e,t,s);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function E5(n,e,t){return M(this,null,function*(){let r=W(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Vd(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&il(r.remoteStore,i.targetId),sl(r,i.targetId)}).catch(Yo))):(sl(r,i.targetId),yield rl(r.localStore,i.targetId,!0))})}function I5(n,e){return M(this,null,function*(){let t=W(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),il(t.remoteStore,r.targetId))})}function D5(n,e,t){return M(this,null,function*(){let r=oD(n);try{let i=yield function(s,a){let c=W(s),u=ut.now(),d=a.reduce((g,_)=>g.add(_.key),_e()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=An(),w=_e();return c.cs.getEntries(g,d).next(D=>{_=D,_.forEach((F,L)=>{L.isValidDocument()||(w=w.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,_)).next(D=>{f=D;let F=[];for(let L of a){let P=V8(L,f.get(L.key).overlayedDocument);P!=null&&F.push(new xr(L.key,P,x1(P.value.mapValue),bt.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,F,a)}).next(D=>{m=D;let F=D.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(g,D.batchId,F)})}).then(()=>({batchId:m.batchId,changes:V1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new ot(fe)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Ui(r,i.changes),yield fl(r.remoteStore)}catch(i){let o=ml(i,"Failed to persist write");t.reject(o)}})}function RF(n,e){return M(this,null,function*(){let t=W(n);try{let r=yield r5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ie(s.va):i.removedDocuments.size>0&&(ie(s.va),s.va=!1))}),yield Ui(t,r,e)}catch(r){yield Yo(r)}})}function n1(n,e,t){let r=W(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=W(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let m of f.j_)m.Z_(a)&&(u=!0)}),u&&eD(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function T5(n,e,t){return M(this,null,function*(){let r=W(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ot(K.comparator);s=s.insert(o,kt.newNoDocument(o,se.min()));let a=_e().add(o),c=new Dd(se.min(),new Map,new ot(fe),s,a);yield RF(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),iD(r)}else yield rl(r.localStore,e,!1).then(()=>sl(r,e,t)).catch(Yo)})}function C5(n,e){return M(this,null,function*(){let t=W(n),r=e.batch.batchId;try{let i=yield n5(t.localStore,e);rD(t,r,null),nD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ui(t,i)}catch(i){yield Yo(i)}})}function x5(n,e,t){return M(this,null,function*(){let r=W(n);try{let i=yield function(s,a){let c=W(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(ie(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);rD(r,e,t),nD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ui(r,i)}catch(i){yield Yo(i)}})}function S5(n,e){return M(this,null,function*(){let t=W(n);Xo(t.remoteStore)||B("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(s){let a=W(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(r===-1)return void e.resolve();let i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){let i=ml(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function nD(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function rD(n,e,t){let r=W(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function sl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||NF(n,r)})}function NF(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(il(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),iD(n))}function mI(n,e,t){for(let r of t)r instanceof pg?(n.La.addReference(r.key,e),A5(n,r)):r instanceof mg?(B("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||NF(n,r.key)):X()}function A5(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(B("SyncEngine","New document in limbo: "+t),n.xa.add(r),iD(n))}function iD(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new K(Fe.fromString(e)),r=n.qa.next();n.Na.set(r,new fI(t)),n.Oa=n.Oa.insert(t,r),Mg(n.remoteStore,new el(_n(dl(t.path)),r,"TargetPurposeLimboResolution",Bn.oe))}}function Ui(n,e,t){return M(this,null,function*(){let r=W(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=W0.Wi(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(c,u){return M(this,null,function*(){let d=W(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>A.forEach(u,m=>A.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>A.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Zo(f))throw f;B("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let g=d.os.get(m),_=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(m,w)}}})}(r.localStore,o))})}function M5(n,e){return M(this,null,function*(){let t=W(n);if(!t.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());let r=yield yF(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new O(k.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ui(t,r.hs)}})}function R5(n,e){let t=W(n),r=t.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function N5(n,e){return M(this,null,function*(){let t=W(n),r=yield ig(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&mI(t,e.targetId,i.wa),i})}function k5(n,e){return M(this,null,function*(){let t=W(n);return wF(t.localStore,e).then(r=>Ui(t,r))})}function P5(n,e,t,r){return M(this,null,function*(){let i=W(n),o=yield function(a,c){let u=W(a),d=W(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Mn(f,c).next(m=>m?u.localDocuments.getDocuments(f,m):A.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?yield fl(i.remoteStore):t==="acknowledged"||t==="rejected"?(rD(i,e,r||null),nD(i,e),function(a,c){W(W(a).mutationQueue).On(c)}(i.localStore,e)):X(),yield Ui(i,o)):B("SyncEngine","Cannot apply mutation batch with id: "+e)})}function F5(n,e){return M(this,null,function*(){let t=W(n);if(Rg(t),oD(t),e===!0&&t.Qa!==!0){let r=t.sharedClientState.getAllActiveQueryTargets(),i=yield r1(t,r.toArray());t.Qa=!0,yield oI(t.remoteStore,!0);for(let o of i)Mg(t.remoteStore,o)}else if(e===!1&&t.Qa!==!1){let r=[],i=Promise.resolve();t.Ma.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(sl(t,s),rl(t.localStore,s,!0))),il(t.remoteStore,s)}),yield i,yield r1(t,r),function(s){let a=W(s);a.Na.forEach((c,u)=>{il(a.remoteStore,u)}),a.La.pr(),a.Na=new Map,a.Oa=new ot(K.comparator)}(t),t.Qa=!1,yield oI(t.remoteStore,!1)}})}function r1(n,e,t){return M(this,null,function*(){let r=W(n),i=[],o=[];for(let s of e){let a,c=r.Ma.get(s);if(c&&c.length!==0){a=yield nl(r.localStore,_n(c[0]));for(let u of c){let d=r.Fa.get(u),f=yield N5(r,d);f.snapshot&&o.push(f.snapshot)}}else{let u=yield bF(r.localStore,s);a=yield nl(r.localStore,u),yield tD(r,kF(u),s,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(o),i})}function kF(n){return k1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function O5(n){return function(t){return W(W(t).persistence).Qi()}(W(n).localStore)}function L5(n,e,t,r){return M(this,null,function*(){let i=W(n);if(i.Qa)return void B("SyncEngine","Ignoring unexpected query state notification.");let o=i.Ma.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{let s=yield wF(i.localStore,F1(o[0])),a=Dd.createSynthesizedRemoteEventForCurrentChange(e,t==="current",xt.EMPTY_BYTE_STRING);yield Ui(i,s,a);break}case"rejected":yield rl(i.localStore,e,!0),sl(i,e,r);break;default:X()}})}function V5(n,e,t){return M(this,null,function*(){let r=Rg(n);if(r.Qa){for(let i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){B("SyncEngine","Adding an already active target "+i);continue}let o=yield bF(r.localStore,i),s=yield nl(r.localStore,o);yield tD(r,kF(o),s.targetId,!1,s.resumeToken),Mg(r.remoteStore,s)}for(let i of t)r.Ma.has(i)&&(yield rl(r.localStore,i,!1).then(()=>{il(r.remoteStore,i),sl(r,i)}).catch(Yo))}})}function Rg(n){let e=W(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=RF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T5.bind(null,e),e.Ca.d_=v5.bind(null,e.eventManager),e.Ca.$a=_5.bind(null,e.eventManager),e}function oD(n){let e=W(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x5.bind(null,e),e}function j5(n,e,t){let r=W(n);(function(o,s,a){return M(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(g,_){let w=W(g),D=Ct(_.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",F=>w.Gr.getBundleMetadata(F,_.id)).then(F=>!!F&&F.createTime.compareTo(D)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(AF(c));let u=new dI(c,o.localStore,s.serializer),d=yield s.Ua();for(;d;){let m=yield u.la(d);m&&a._updateProgress(m),d=yield s.Ua()}let f=yield u.complete();return yield Ui(o,f.Ia,void 0),yield function(g,_){let w=W(g);return w.persistence.runTransaction("Save bundle","readwrite",D=>w.Gr.saveBundleMetadata(D,_))}(o.localStore,c),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(c){return Tr("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var gI=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return M(this,null,function*(){this.serializer=Bd(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return gF(this.persistence,new rg,t.initialUser,this.serializer)}Ga(t){return new tg(ng.Zr,this.serializer)}Wa(t){return new ag}terminate(){return M(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var yg=class n extends gI{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return M(this,null,function*(){yield ev(n.prototype,this,"initialize").call(this,e),yield this.Ja.initialize(this,e),yield oD(this.Ja.syncEngine),yield fl(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(e){return gF(this.persistence,new rg,e.initialUser,this.serializer)}ja(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new R0(r,e.asyncQueue,t)}Ha(e,t){let r=new KE(t,this.persistence);return new WE(e.asyncQueue,r)}Ga(e){let t=KI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new G0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,IF(),Mm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new ag}},yI=class n extends yg{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return M(this,null,function*(){yield ev(n.prototype,this,"initialize").call(this,e);let t=this.Ja.syncEngine;this.sharedClientState instanceof pd&&(this.sharedClientState.syncEngine={no:P5.bind(null,t),ro:L5.bind(null,t),io:V5.bind(null,t),Qi:O5.bind(null,t),eo:k5.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.yi(r=>M(this,null,function*(){yield F5(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}Wa(e){let t=IF();if(!pd.D(t))throw new O(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=KI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pd(t,e.asyncQueue,r,e.clientId,e.initialUser)}},sD=(()=>{class n{initialize(t,r){return M(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>n1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M5.bind(null,this.syncEngine),yield oI(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new cI}()}createDatastore(t){let r=Bd(t.databaseInfo.databaseId),i=function(s){return new J0(s)}(t.databaseInfo);return function(s,a,c,u){return new nI(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new iI(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>n1(this.syncEngine,r,0),function(){return cg.D()?new cg:new Z0}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,f){let m=new pI(o,s,a,c,u,d);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return M(this,null,function*(){var t,r;yield function(o){return M(this,null,function*(){let s=W(o);B("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield hl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();function i1(n,e=10240){let t=0;return{read(){return M(this,null,function*(){if(t<n.byteLength){let i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})},cancel(){return M(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var al=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var vI=class{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Vt,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}getMetadata(){return M(this,null,function*(){return this.metadata.promise})}Ua(){return M(this,null,function*(){return yield this.getMetadata(),this.tu()})}tu(){return M(this,null,function*(){let e=yield this.nu();if(e===null)return null;let t=this.eu.decode(e),r=Number(t);isNaN(r)&&this.ru(`length string (${t}) is not valid number`);let i=yield this.iu(r);return new uI(JSON.parse(i),e.length+r)})}su(){return this.buffer.findIndex(e=>e===123)}nu(){return M(this,null,function*(){for(;this.su()<0&&!(yield this.ou()););if(this.buffer.length===0)return null;let e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}iu(e){return M(this,null,function*(){for(;this.buffer.length<e;)(yield this.ou())&&this.ru("Reached the end of bundle when more is expected.");let t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){return M(this,null,function*(){let e=yield this.Xa.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var _I=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return M(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new O(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(i,o){return M(this,null,function*(){let s=W(i),a={documents:o.map(f=>Cd(s.serializer,f))},c=yield s.Lo("BatchGetDocuments",s.serializer.databaseId,Fe.emptyPath(),a,o.length),u=new Map;c.forEach(f=>{let m=H8(s.serializer,f);u.set(m.key.toString(),m)});let d=[];return o.forEach(f=>{let m=u.get(f.toString());ie(!!m),d.push(m)}),d})}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ko(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return M(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=K.fromPath(r);this.mutations.push(new wd(i,this.precondition(i)))}),yield function(r,i){return M(this,null,function*(){let o=W(r),s={writes:i.map(a=>xd(o.serializer,a))};yield o.Mo("Commit",o.serializer.databaseId,Fe.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw X();t=se.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new O(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(se.min())?bt.exists(!1):bt.updateTime(t):bt.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(se.min()))throw new O(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bt.updateTime(t)}return bt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var bI=class{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new Rd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(()=>M(this,null,function*(){let e=new _I(this.datastore),t=this.cu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})}))}cu(e){try{let t=this.updateFunction(e);return!Od(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!K1(t)}return!1}};var wI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>M(this,null,function*(){B("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=ml(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function OE(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>M(this,null,function*(){r.isEqual(i)||(yield yF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function o1(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield aD(n);B("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>JP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>JP(e.remoteStore,i)),n._onlineComponents=e})}function aD(n){return M(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield OE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Tr("Error using user provided cache. Falling back to memory cache: "+t),yield OE(n,new gI)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield OE(n,new gI);return n._offlineComponents})}function Ng(n){return M(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield o1(n,n._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield o1(n,new sD))),n._onlineComponents})}function PF(n){return aD(n).then(e=>e.persistence)}function cD(n){return aD(n).then(e=>e.localStore)}function FF(n){return Ng(n).then(e=>e.remoteStore)}function lD(n){return Ng(n).then(e=>e.syncEngine)}function B5(n){return Ng(n).then(e=>e.datastore)}function cl(n){return M(this,null,function*(){let e=yield Ng(n),t=e.eventManager;return t.onListen=b5.bind(null,e.syncEngine),t.onUnlisten=E5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=w5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I5.bind(null,e.syncEngine),t})}function U5(n){return n.asyncQueue.enqueue(()=>M(this,null,function*(){let e=yield PF(n),t=yield FF(n);return e.setNetworkEnabled(!0),function(i){let o=W(i);return o.L_.delete(0),Ud(o)}(t)}))}function $5(n){return n.asyncQueue.enqueue(()=>M(this,null,function*(){let e=yield PF(n),t=yield FF(n);return e.setNetworkEnabled(!1),function(i){return M(this,null,function*(){let o=W(i);o.L_.add(0),yield hl(o),o.q_.set("Offline")})}(t)}))}function z5(n,e){let t=new Vt;return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(i,o,s){return M(this,null,function*(){try{let a=yield function(u,d){let f=W(u);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new O(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=ml(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield cD(n),e,t)})),t.promise}function OF(n,e,t={}){let r=new Vt;return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(o,s,a,c,u){let d=new al({next:m=>{d.Za(),s.enqueueAndForget(()=>JI(o,f));let g=m.docs.has(a);!g&&m.fromCache?u.reject(new O(k.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new O(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Nd(dl(a.path),d,{includeMetadataChanges:!0,_a:!0});return XI(o,f)}(yield cl(n),n.asyncQueue,e,t,r)})),r.promise}function H5(n,e){let t=new Vt;return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(i,o,s){return M(this,null,function*(){try{let a=yield ig(i,o,!0),c=new gg(o,a.Ts),u=c.ma(a.documents),d=c.applyChanges(u,!1);s.resolve(d.snapshot)}catch(a){let c=ml(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield cD(n),e,t)})),t.promise}function LF(n,e,t={}){let r=new Vt;return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(o,s,a,c,u){let d=new al({next:m=>{d.Za(),s.enqueueAndForget(()=>JI(o,f)),m.fromCache&&c.source==="server"?u.reject(new O(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Nd(a,d,{includeMetadataChanges:!0,_a:!0});return XI(o,f)}(yield cl(n),n.asyncQueue,e,t,r)})),r.promise}function q5(n,e){let t=new al(e);return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(i,o){W(i).Y_.add(o),o.next()}(yield cl(n),t)})),()=>{t.Za(),n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(i,o){W(i).Y_.delete(o)}(yield cl(n),t)}))}}function G5(n,e,t,r){let i=function(s,a){let c;return c=typeof s=="string"?Y1().encode(s):s,function(d,f){return new vI(d,f)}(function(d,f){if(d instanceof Uint8Array)return i1(d,f);if(d instanceof ArrayBuffer)return i1(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(t,Bd(e));n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){j5(yield lD(n),i,r)}))}function W5(n,e){return n.asyncQueue.enqueue(()=>M(this,null,function*(){return function(r,i){let o=W(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,i))}(yield cD(n),e)}))}function VF(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var s1=new Map;function uD(n,e,t){if(!t)throw new O(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dD(n,e,t,r){if(e===!0&&r===!0)throw new O(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function a1(n){if(!K.isDocumentKey(n))throw new O(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function c1(n){if(K.isDocumentKey(n))throw new O(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":X()}function Le(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=kg(n);throw new O(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jF(n,e){if(e<=0)throw new O(k.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var vg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ta=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LE;switch(r.type){case"firstParty":return new UE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return M(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=s1.get(t);r&&(B("ComponentProvider","Removing Datastore"),s1.delete(t),r.terminate())}(this),Promise.resolve()}};function BF(n,e,t,r={}){var i;let o=(n=Le(n,ta))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Nt.MOCK_USER;else{a=bh(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new O(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Nt(u)}n._authCredentials=new VE(new Rm(a,c))}}var Qt=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Je=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Jr=class n extends Qt{constructor(e,t,r){super(e,t,dl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function hD(n,e,...t){if(n=je(n),uD("collection","path",e),n instanceof ta){let r=Fe.fromString(e,...t);return c1(r),new Jr(n,null,r)}{if(!(n instanceof Je||n instanceof Jr))throw new O(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Fe.fromString(e,...t));return c1(r),new Jr(n.firestore,null,r)}}function UF(n,e){if(n=Le(n,ta),uD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new O(k.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qt(n,null,function(r){return new Cr(Fe.emptyPath(),r)}(e))}function $d(n,e,...t){if(n=je(n),arguments.length===1&&(e=Nm.newId()),uD("doc","path",e),n instanceof ta){let r=Fe.fromString(e,...t);return a1(r),new Je(n,null,new K(r))}{if(!(n instanceof Je||n instanceof Jr))throw new O(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Fe.fromString(e,...t));return a1(r),new Je(n.firestore,n instanceof Jr?n.converter:null,new K(r))}}function fD(n,e){return n=je(n),e=je(e),(n instanceof Je||n instanceof Jr)&&(e instanceof Je||e instanceof Jr)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pD(n,e){return n=je(n),e=je(e),n instanceof Qt&&e instanceof Qt&&n.firestore===e.firestore&&Vd(n._query,e._query)&&n.converter===e.converter}var _g=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Rd(this,"async_queue_retry"),this.Vu=()=>{let r=Mm();r&&B("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Mm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Mm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Vt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return M(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zo(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Dt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=sI.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&X()}verifyOperationInProgress(){}wu(){return M(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function EI(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var II=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var $F=-1,dt=class extends ta{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new _g,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return M(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new _g(e),this._firestoreClient=void 0,yield e}})}};function Yt(n){if(n._terminated)throw new O(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zF(n),n._firestoreClient}function zF(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new QE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,VF(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new wI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}function HF(n,e){Tr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return GF(n,sD.provider,{build:r=>new yg(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function qF(n){return M(this,null,function*(){Tr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=n._freezeSettings();GF(n,sD.provider,{build:t=>new yI(t,e.cacheSizeBytes)})})}function GF(n,e,t){if((n=Le(n,dt))._firestoreClient||n._terminated)throw new O(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new O(k.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},zF(n)}function WF(n){if(n._initialized&&!n._terminated)throw new O(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Vt;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{yield function(r){return M(this,null,function*(){if(!Uo.D())return Promise.resolve();let i=r+"main";yield Uo.delete(i)})}(KI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function KF(n){return function(t){let r=new Vt;return t.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return S5(yield lD(t),r)})),r.promise}(Yt(n=Le(n,dt)))}function QF(n){return U5(Yt(n=Le(n,dt)))}function YF(n){return $5(Yt(n=Le(n,dt)))}function ZF(n,e){let t=Yt(n=Le(n,dt)),r=new II;return G5(t,n._databaseId,e,r),r}function XF(n,e){return W5(Yt(n=Le(n,dt)),e).then(t=>t?new Qt(n,null,t.query):null)}var ri=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(xt.fromBase64String(e))}catch(t){throw new O(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Sr=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new O(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ji=class{constructor(e){this._methodName=e}};var na=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}};var kd=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var K5=/^__.*__$/,DI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wo(e,this.data,t,this.fieldTransforms)}},bg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function JF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var wg=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Eg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(JF(this.Cu)&&K5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},TI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bd(e)}Qu(e,t,r,i=!1){return new wg({Cu:e,methodName:t,qu:r,path:Tt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function sa(n){let e=n._freezeSettings(),t=Bd(n._databaseId);return new TI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Pg(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);yD("Data must be an object, but it was:",s,r);let a=nO(r,s),c,u;if(o.merge)c=new Un(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let m=MI(e,f,t);if(!s.contains(m))throw new O(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);iO(d,m)||d.push(m)}c=new Un(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new DI(new cn(a),c,u)}var Pd=class n extends ji{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function eO(n,e,t){return new wg({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var CI=class n extends ji{_toFieldTransform(e){return new Xs(e.path,new qo)}isEqual(e){return e instanceof n}},xI=class n extends ji{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=eO(this,e,!0),r=this.Ku.map(o=>aa(o,t)),i=new Li(r);return new Xs(e.path,i)}isEqual(e){return e instanceof n&&rv(this.Ku,e.Ku)}},SI=class n extends ji{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=eO(this,e,!0),r=this.Ku.map(o=>aa(o,t)),i=new Vi(r);return new Xs(e.path,i)}isEqual(e){return e instanceof n&&rv(this.Ku,e.Ku)}},AI=class n extends ji{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){let t=new Go(e.serializer,U1(e.serializer,this.$u));return new Xs(e.path,t)}isEqual(e){return e instanceof n&&this.$u===e.$u}};function mD(n,e,t,r){let i=n.Qu(1,e,t);yD("Data must be an object, but it was:",i,r);let o=[],s=cn.empty();oa(r,(c,u)=>{let d=vD(e,c,t);u=je(u);let f=i.Nu(d);if(u instanceof Pd)o.push(d);else{let m=aa(u,f);m!=null&&(o.push(d),s.set(d,m))}});let a=new Un(o);return new bg(s,a,i.fieldTransforms)}function gD(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[MI(e,r,t)],c=[i];if(o.length%2!=0)throw new O(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(MI(e,o[m])),c.push(o[m+1]);let u=[],d=cn.empty();for(let m=a.length-1;m>=0;--m)if(!iO(u,a[m])){let g=a[m],_=c[m];_=je(_);let w=s.Nu(g);if(_ instanceof Pd)u.push(g);else{let D=aa(_,w);D!=null&&(u.push(g),d.set(g,D))}}let f=new Un(u);return new bg(d,f,s.fieldTransforms)}function tO(n,e,t,r=!1){return aa(t,n.Qu(r?4:3,e))}function aa(n,e){if(rO(n=je(n)))return yD("Unsupported field value:",e,n),nO(n,e);if(n instanceof ji)return function(r,i){if(!JF(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=aa(a,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ut.fromDate(r);return{timestampValue:Jc(i.serializer,o)}}if(r instanceof ut){let o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jc(i.serializer,o)}}if(r instanceof na)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:Z1(i.serializer,r._byteString)};if(r instanceof Je){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kd)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return HI(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${kg(r)}`)}(n,e)}function nO(n,e){let t={};return I1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(n,(r,i)=>{let o=aa(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function rO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof na||n instanceof ri||n instanceof Je||n instanceof ji||n instanceof kd)}function yD(n,e,t){if(!rO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=kg(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function MI(n,e,t){if((e=je(e))instanceof Sr)return e._internalPath;if(typeof e=="string")return vD(n,e);throw Eg("Field path arguments must be of type string or ",n,!1,void 0,t)}var Q5=new RegExp("[~\\*/\\[\\]]");function vD(n,e,t){if(e.search(Q5)>=0)throw Eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sr(...e.split("."))._internalPath}catch{throw Eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Eg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new O(k.INVALID_ARGUMENT,a+n+c)}function iO(n,e){return n.some(t=>t.isEqual(e))}var ra=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new RI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Fg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},RI=class extends ra{data(){return super.data()}};function Fg(n,e){return typeof e=="string"?vD(n,e):e instanceof Sr?e._internalPath:e._delegate._internalPath}function oO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new O(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fd=class{},ia=class extends Fd{};function $i(n,e,...t){let r=[];e instanceof Fd&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof NI).length,a=o.filter(c=>c instanceof Ig).length;if(s>1||s>0&&a>0)throw new O(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Ig=class n extends ia{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return mO(e._query,t),new Qt(e.firestore,e.converter,c0(e._query,t))}_parse(e){let t=sa(e.firestore);return function(o,s,a,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new O(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){u1(f,d);let g=[];for(let _ of f)g.push(l1(c,o,_));m={arrayValue:{values:g}}}else m=l1(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||u1(f,d),m=tO(a,s,f,d==="in"||d==="not-in");return Ae.create(u,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function sO(n,e,t){let r=e,i=Fg("where",n);return Ig._create(i,r,t)}var NI=class n extends Fd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ze.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)mO(s,c),s=c0(s,c)}(e._query,t),new Qt(e.firestore,e.converter,c0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var kI=class n extends ia{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new O(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ys(o,s)}(e._query,this._field,this._direction);return new Qt(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Cr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function aO(n,e="asc"){let t=e,r=Fg("orderBy",n);return kI._create(r,t)}var Dg=class n extends ia{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Qt(e.firestore,e.converter,$m(e._query,this._limit,this._limitType))}};function cO(n){return jF("limit",n),Dg._create("limit",n,"F")}function lO(n){return jF("limitToLast",n),Dg._create("limitToLast",n,"L")}var Tg=class n extends ia{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=pO(e,this.type,this._docOrFields,this._inclusive);return new Qt(e.firestore,e.converter,function(i,o){return new Cr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}};function uO(...n){return Tg._create("startAt",n,!0)}function dO(...n){return Tg._create("startAfter",n,!1)}var Cg=class n extends ia{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=pO(e,this.type,this._docOrFields,this._inclusive);return new Qt(e.firestore,e.converter,function(i,o){return new Cr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}};function hO(...n){return Cg._create("endBefore",n,!1)}function fO(...n){return Cg._create("endAt",n,!0)}function pO(n,e,t,r){if(t[0]=je(t[0]),t[0]instanceof ra)return function(o,s,a,c,u){if(!c)throw new O(k.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of qc(o))if(f.field.isKeyField())d.push(Qs(s,c.key));else{let m=c.data.field(f.field);if(Sg(m))throw new O(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let g=f.field.canonicalString();throw new O(k.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(m)}return new ti(d,u)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=sa(n.firestore);return function(s,a,c,u,d,f){let m=s.explicitOrderBy;if(d.length>m.length)throw new O(k.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let _=0;_<d.length;_++){let w=d[_];if(m[_].field.isKeyField()){if(typeof w!="string")throw new O(k.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!$I(s)&&w.indexOf("/")!==-1)throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);let D=s.path.child(Fe.fromString(w));if(!K.isDocumentKey(D))throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);let F=new K(D);g.push(Qs(a,F))}else{let D=tO(c,u,w);g.push(D)}}return new ti(g,f)}(n._query,n.firestore._databaseId,i,e,t,r)}}function l1(n,e,t){if(typeof(t=je(t))=="string"){if(t==="")throw new O(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$I(e)&&t.indexOf("/")!==-1)throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Fe.fromString(t));if(!K.isDocumentKey(r))throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qs(n,new K(r))}if(t instanceof Je)return Qs(n,t._key);throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kg(t)}.`)}function u1(n,e){if(!Array.isArray(n)||n.length===0)throw new O(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mO(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new O(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var ll=class{convertValue(e,t="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return oa(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ct(s.doubleValue));return new kd(o)}convertGeoPoint(e){return new na(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=BI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){let t=Oi(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Fe.fromString(e);ie(cF(r));let i=new zo(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||Dt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Og(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var PI=class extends ll{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,t)}};var Fi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ar=class extends ra{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Fg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},jo=class extends ar{data(e={}){return super.data(e)}},Ar=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jo(this._firestore,this._userDataWriter,r.key,r,new Fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new jo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new jo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Y5(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Y5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}function _D(n,e){return n instanceof ar&&e instanceof ar?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ar&&e instanceof Ar&&n._firestore===e._firestore&&pD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function gO(n){n=Le(n,Je);let e=Le(n.firestore,dt);return OF(Yt(e),n._key).then(t=>ID(e,n,t))}var Bi=class extends ll{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,t)}};function yO(n){n=Le(n,Je);let e=Le(n.firestore,dt),t=Yt(e),r=new Bi(e);return z5(t,n._key).then(i=>new ar(e,r,n._key,i,new Fi(i!==null&&i.hasLocalMutations,!0),n.converter))}function vO(n){n=Le(n,Je);let e=Le(n.firestore,dt);return OF(Yt(e),n._key,{source:"server"}).then(t=>ID(e,n,t))}function _O(n){n=Le(n,Qt);let e=Le(n.firestore,dt),t=Yt(e),r=new Bi(e);return oO(n._query),LF(t,n._query).then(i=>new Ar(e,r,n,i))}function bO(n){n=Le(n,Qt);let e=Le(n.firestore,dt),t=Yt(e),r=new Bi(e);return H5(t,n._query).then(i=>new Ar(e,r,n,i))}function wO(n){n=Le(n,Qt);let e=Le(n.firestore,dt),t=Yt(e),r=new Bi(e);return LF(t,n._query,{source:"server"}).then(i=>new Ar(e,r,n,i))}function bD(n,e,t){n=Le(n,Je);let r=Le(n.firestore,dt),i=Og(n.converter,e,t);return gl(r,[Pg(sa(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,bt.none())])}function wD(n,e,t,...r){n=Le(n,Je);let i=Le(n.firestore,dt),o=sa(i),s;return s=typeof(e=je(e))=="string"||e instanceof Sr?gD(o,"updateDoc",n._key,e,t,r):mD(o,"updateDoc",n._key,e),gl(i,[s.toMutation(n._key,bt.exists(!0))])}function EO(n){return gl(Le(n.firestore,dt),[new Ko(n._key,bt.none())])}function IO(n,e){let t=Le(n.firestore,dt),r=$d(n),i=Og(n.converter,e);return gl(t,[Pg(sa(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,bt.exists(!1))]).then(()=>r)}function ED(n,...e){var t,r,i;n=je(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||EI(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(EI(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(n instanceof Je)u=Le(n.firestore,dt),d=dl(n._key.path),c={next:f=>{e[s]&&e[s](ID(u,n,f))},error:e[s+1],complete:e[s+2]};else{let f=Le(n,Qt);u=Le(f.firestore,dt),d=f._query;let m=new Bi(u);c={next:g=>{e[s]&&e[s](new Ar(u,m,f,g))},error:e[s+1],complete:e[s+2]},oO(n._query)}return function(m,g,_,w){let D=new al(w),F=new Nd(g,D,_);return m.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return XI(yield cl(m),F)})),()=>{D.Za(),m.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return JI(yield cl(m),F)}))}}(Yt(u),d,a,c)}function DO(n,e){return q5(Yt(n=Le(n,dt)),EI(e)?e:{next:e})}function gl(n,e){return function(r,i){let o=new Vt;return r.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return D5(yield lD(r),i,o)})),o.promise}(Yt(n),e)}function ID(n,e,t){let r=t.docs.get(e._key),i=new Bi(n);return new ar(n,i,e._key,r,new Fi(t.hasPendingWrites,t.fromCache),e.converter)}var Z5={maxAttempts:5};var xg=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sa(e)}set(e,t,r){this._verifyNotCommitted();let i=Lo(e,this._firestore),o=Og(i.converter,t,r),s=Pg(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,bt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let o=Lo(e,this._firestore),s;return s=typeof(t=je(t))=="string"||t instanceof Sr?gD(this._dataReader,"WriteBatch.update",o._key,t,r,i):mD(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,bt.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Lo(e,this._firestore);return this._mutations=this._mutations.concat(new Ko(t._key,bt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Lo(n,e){if((n=je(n)).firestore!==e)throw new O(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var FI=class extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=sa(t)}get(t){let r=Lo(t,this._firestore),i=new PI(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return X();let s=o[0];if(s.isFoundDocument())return new ra(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new ra(this._firestore,i,r._key,null,r.converter);throw X()})}set(t,r,i){let o=Lo(t,this._firestore),s=Og(o.converter,r,i),a=Pg(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(t,r,i,...o){let s=Lo(t,this._firestore),a;return a=typeof(r=je(r))=="string"||r instanceof Sr?gD(this._dataReader,"Transaction.update",s._key,r,i,o):mD(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(t){let r=Lo(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=Lo(e,this._firestore),r=new Bi(this._firestore);return super.get(e).then(i=>new ar(this._firestore,r,t._key,i._document,new Fi(!1,!1),t.converter))}};function TO(n,e,t){n=Le(n,dt);let r=Object.assign(Object.assign({},Z5),t);return function(o){if(o.maxAttempts<1)throw new O(k.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){let c=new Vt;return o.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){let u=yield B5(o);new bI(o.asyncQueue,u,a,s,c).au()})),c.promise}(Yt(n),i=>e(new FI(n,i)),r)}function CO(){return new Pd("deleteField")}function xO(){return new CI("serverTimestamp")}function SO(...n){return new xI("arrayUnion",n)}function AO(...n){return new SI("arrayRemove",n)}function MO(n){return new AI("increment",n)}(function(e,t=!0){(function(i){ul=i})(Dh),os(new dr("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new dt(new jE(r.getProvider("auth-internal")),new zE(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new O(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),hr(cP,"4.7.3",e),hr(cP,"4.7.3","esm2017")})();var X5="@firebase/firestore-compat",J5="0.3.38";function AD(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new O("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function RO(){if(typeof Uint8Array>"u")throw new O("unimplemented","Uint8Arrays are not available in this environment.")}function NO(){if(!D1())throw new O("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Lg=class n{constructor(e){this._delegate=e}static fromBase64String(e){return NO(),new n(ri.fromBase64String(e))}static fromUint8Array(e){return RO(),new n(ri.fromUint8Array(e))}toBase64(){return NO(),this._delegate.toBase64()}toUint8Array(){return RO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function DD(n){return e9(n,["next","error","complete"])}function e9(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var TD=class{enableIndexedDbPersistence(e,t){return HF(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return qF(e._delegate)}clearIndexedDbPersistence(e){return WF(e._delegate)}},Vg=class{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof zo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Tr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){BF(this._delegate,e,t,r)}enableNetwork(){return QF(this._delegate)}disableNetwork(){return YF(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,dD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return KF(this._delegate)}onSnapshotsInSync(e){return DO(this._delegate,e)}get app(){if(!this._appCompat)throw new O("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _l(this,hD(this._delegate,e))}catch(t){throw bn(t,"collection()","Firestore.collection()")}}doc(e){try{return new ii(this,$d(this._delegate,e))}catch(t){throw bn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new da(this,UF(this._delegate,e))}catch(t){throw bn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return TO(this._delegate,t=>e(new jg(this,t)))}batch(){return Yt(this._delegate),new Bg(new xg(this._delegate,e=>gl(this._delegate,e)))}loadBundle(e){return ZF(this._delegate,e)}namedQuery(e){return XF(this._delegate,e).then(t=>t?new da(this,t):null)}},yl=class extends ll{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lg(new ri(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return ii.forKey(t,this.firestore,null)}};function t9(n){d1(n)}var jg=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yl(e)}get(e){let t=ca(e);return this._delegate.get(t).then(r=>new la(this._firestore,new ar(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){let i=ca(e);return r?(AD("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let o=ca(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){let t=ca(e);return this._delegate.delete(t),this}},Bg=class{constructor(e){this._delegate=e}set(e,t,r){let i=ca(e);return r?(AD("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let o=ca(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){let t=ca(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},vl=class n{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){let r=new jo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ua(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let r=n.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new n(e,new yl(e),t),i.set(t,o)),o}};vl.INSTANCES=new WeakMap;var ii=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yl(e)}static forPath(e,t,r){if(e.length%2!==0)throw new O("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new Je(t._delegate,r,new K(e)))}static forKey(e,t,r){return new n(t,new Je(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _l(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _l(this.firestore,hD(this._delegate,e))}catch(t){throw bn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=je(e),e instanceof Je?fD(this._delegate,e):!1}set(e,t){t=AD("DocumentReference.set",t);try{return t?bD(this._delegate,e,t):bD(this._delegate,e)}catch(r){throw bn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?wD(this._delegate,e):wD(this._delegate,e,t,...r)}catch(i){throw bn(i,"updateDoc()","DocumentReference.update()")}}delete(){return EO(this._delegate)}onSnapshot(...e){let t=kO(e),r=PO(e,i=>new la(this.firestore,new ar(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ED(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=yO(this._delegate):e?.source==="server"?t=vO(this._delegate):t=gO(this._delegate),t.then(r=>new la(this.firestore,new ar(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(vl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function bn(n,e,t){return n.message=n.message.replace(e,t),n}function kO(n){for(let e of n)if(typeof e=="object"&&!DD(e))return e;return{}}function PO(n,e){var t,r;let i;return DD(n[0])?i=n[0]:DD(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var la=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ii(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _D(this._delegate,e._delegate)}},ua=class extends la{data(e){let t=this._delegate.data(e);return this._delegate._converter||h1(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},da=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yl(e)}where(e,t,r){try{return new n(this.firestore,$i(this._delegate,sO(e,t,r)))}catch(i){throw bn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,$i(this._delegate,aO(e,t)))}catch(r){throw bn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,$i(this._delegate,cO(e)))}catch(t){throw bn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,$i(this._delegate,lO(e)))}catch(t){throw bn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,$i(this._delegate,uO(...e)))}catch(t){throw bn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,$i(this._delegate,dO(...e)))}catch(t){throw bn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,$i(this._delegate,hO(...e)))}catch(t){throw bn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,$i(this._delegate,fO(...e)))}catch(t){throw bn(t,"endAt()","Query.endAt()")}}isEqual(e){return pD(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=bO(this._delegate):e?.source==="server"?t=wO(this._delegate):t=_O(this._delegate),t.then(r=>new zd(this.firestore,new Ar(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let t=kO(e),r=PO(e,i=>new zd(this.firestore,new Ar(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ED(this._delegate,t,r)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(vl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},CD=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ua(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},zd=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new da(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ua(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new CD(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ua(this._firestore,r))})}isEqual(e){return _D(this._delegate,e._delegate)}},_l=class n extends da{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new ii(this.firestore,e):null}doc(e){try{return e===void 0?new ii(this.firestore,$d(this._delegate)):new ii(this.firestore,$d(this._delegate,e))}catch(t){throw bn(t,"doc()","CollectionReference.doc()")}}add(e){return IO(this._delegate,e).then(t=>new ii(this.firestore,t))}isEqual(e){return fD(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(vl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function ca(n){return Le(n,Je)}var xD=class n{constructor(...e){this._delegate=new Sr(...e)}static documentId(){return new n(Tt.keyField().canonicalString())}isEqual(e){return e=je(e),e instanceof Sr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var SD=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=xO();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=CO();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=SO(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=AO(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=MO(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var n9={Firestore:Vg,GeoPoint:na,Timestamp:ut,Blob:Lg,Transaction:jg,WriteBatch:Bg,DocumentReference:ii,DocumentSnapshot:la,Query:da,QueryDocumentSnapshot:ua,QuerySnapshot:zd,CollectionReference:_l,FieldPath:xD,FieldValue:SD,setLogLevel:t9,CACHE_SIZE_UNLIMITED:$F};function r9(n,e){n.INTERNAL.registerComponent(new dr("firestore-compat",t=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},n9)))}function i9(n){r9(n,(e,t)=>new Vg(e,t,new TD)),n.registerVersion(X5,J5)}i9(Pt);function o9(n,e=ls){return new he(t=>{let r;return e!=null?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}function FO(n,e){return o9(n,e)}function s9(n,e){return FO(n,e).pipe(mi(void 0),eu(),Y(t=>{let[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function ND(n,e){return FO(n,e).pipe(Y(t=>({payload:t,type:"query"})))}var Ug=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let r=this.ref.collection(e),{ref:i,query:o}=BO(r,t);return new zg(i,o,this.afs)}snapshotChanges(){return s9(this.ref,this.afs.schedulers.outsideAngular).pipe(Kt)}valueChanges(e={}){return this.snapshotChanges().pipe(Y(({payload:t})=>e.idField?De(U({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return pe(this.ref.get(e)).pipe(Kt)}};function $g(n,e){return ND(n,e).pipe(mi(void 0),eu(),Y(t=>{let[r,i]=t,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{let u=o.find(f=>f.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function OO(n,e,t){return $g(n,t).pipe(ds((r,i)=>a9(r,i.map(o=>o.payload),e),[]),Jl(),Y(r=>r.map(i=>({type:i.type,payload:i}))))}function a9(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=c9(n,r))}),n}function MD(n,e,t,...r){let i=n.slice();return i.splice(e,t,...r),i}function c9(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return MD(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return MD(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return MD(n,e.oldIndex,1);break}return n}function LO(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var zg=class{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=$g(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Y(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(mi(void 0),eu(),st(([r,i])=>i.length>0||!r),Y(([,r])=>r),Kt)}auditTrail(e){return this.stateChanges(e).pipe(ds((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=LO(e);return OO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kt)}valueChanges(e={}){return ND(this.query,this.afs.schedulers.outsideAngular).pipe(Y(t=>t.payload.docs.map(r=>e.idField?De(U({},r.data()),{[e.idField]:r.id}):r.data())),Kt)}get(e){return pe(this.query.get(e)).pipe(Kt)}add(e){return this.ref.add(e)}doc(e){return new Ug(this.ref.doc(e),this.afs)}},RD=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?$g(this.query,this.afs.schedulers.outsideAngular).pipe(Kt):$g(this.query,this.afs.schedulers.outsideAngular).pipe(Y(t=>t.filter(r=>e.indexOf(r.type)>-1)),st(t=>t.length>0),Kt)}auditTrail(e){return this.stateChanges(e).pipe(ds((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=LO(e);return OO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kt)}valueChanges(e={}){return ND(this.query,this.afs.schedulers.outsideAngular).pipe(Y(r=>r.payload.docs.map(i=>e.idField?U({[e.idField]:i.id},i.data()):i.data())),Kt)}get(e){return pe(this.query.get(e)).pipe(Kt)}},VO=new $("angularfire2.enableFirestorePersistence"),jO=new $("angularfire2.firestore.persistenceSettings"),l9=new $("angularfire2.firestore.settings"),u9=new $("angularfire2.firestore.use-emulator");function BO(n,e=t=>t){return{query:e(n),ref:n}}var Hd=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,o,s,a,c,u,d,f,m,g,_,w,D,F,L){this.schedulers=c;let P=js(t,a,r),z=d;f&&TE(P,a,m,_,w,D,g,F),[this.firestore,this.persistenceEnabled$]=Nc(`${P.name}.firestore`,"AngularFirestore",P.name,()=>{let ee=a.runOutsideAngular(()=>P.firestore());if(o&&ee.settings(o),z&&ee.useEmulator(...z),i&&!As(s)){let Q=()=>{try{return pe(ee.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(I){return typeof console<"u"&&console.warn(I),J(!1)}};return[ee,a.runOutsideAngular(Q)]}else return[ee,J(!1)]},[o,z,i])}collection(t,r){let i;typeof t=="string"?i=this.firestore.collection(t):i=t;let{ref:o,query:s}=BO(i,r),a=this.schedulers.ngZone.run(()=>o);return new zg(a,s,this)}collectionGroup(t,r){let i=r||(s=>s),o=this.firestore.collectionGroup(t);return new RD(i(o),this)}doc(t){let r;typeof t=="string"?r=this.firestore.doc(t):r=t;let i=this.schedulers.ngZone.run(()=>r);return new Ug(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(R(Ro),R(No,8),R(VO,8),R(l9,8),R(Bt),R(ne),R(Rc),R(jO,8),R(u9,8),R(nd,8),R(_E,8),R(bE,8),R(wE,8),R(EE,8),R(IE,8),R(DE,8),R(Ri,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),UO=(()=>{class n{constructor(){Pt.registerVersion("angularfire",Ni.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:VO,useValue:!0},{provide:jO,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=le({providers:[Hd]})}return n})();var cr=class n{constructor(e,t){this.afAuth=e;this.firestore=t}register(e,t,r){return pe(this.afAuth.createUserWithEmailAndPassword(e,t).then(i=>{if(i.user){let o=i.user.uid,s={uid:o,email:e,username:r,createdAt:new Date,photoURL:"https://firebasestorage.googleapis.com/v0/b/eso-companion-app-89474.firebasestorage.app/o/shared%2Fprofile_default.png?alt=media&token=3179657a-a62a-4ad7-b634-316a8a666f7c"};return this.firestore.collection("users").doc(o).set(s)}return null}).catch(i=>{}))}login(e,t){return pe(this.afAuth.signInWithEmailAndPassword(e,t))}logout(){return pe(this.afAuth.signOut())}getCurrentUser(){return this.afAuth.authState}static \u0275fac=function(t){return new(t||n)(R(nd),R(Hd))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function d9(n,e){if(n&1&&(re(0,"p",8),Ee(1),Z()),n&2){let t=Ut();we(),Cs(t.errorMessage)}}var Hg=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";errorMessage="";onLogin(){this.authService.login(this.email,this.password).subscribe({next:()=>{this.router.navigate(["/home"]),console.log("User login successful!")},error:e=>{this.errorMessage=e.message}})}static \u0275fac=function(t){return new(t||n)(j(cr),j(Wt))};static \u0275cmp=Ue({type:n,selectors:[["app-login"]],standalone:!0,features:[$e],decls:16,vars:4,consts:[["loginForm","ngForm"],[1,"login-container"],[3,"ngSubmit"],["appearance","fill"],["matInput","","type","email","required","","name","email",3,"ngModelChange","ngModel"],["matInput","","type","password","required","","name","password",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){if(t&1){let i=$r();re(0,"mat-card",1)(1,"h2"),Ee(2,"Login"),Z(),re(3,"form",2,0),vt("ngSubmit",function(){return nn(i),rn(r.onLogin())}),re(5,"mat-form-field",3)(6,"mat-label"),Ee(7,"Email"),Z(),re(8,"input",4),yo("ngModelChange",function(s){return nn(i),xs(r.email,s)||(r.email=s),rn(s)}),Z()(),re(9,"mat-form-field",3)(10,"mat-label"),Ee(11,"Password"),Z(),re(12,"input",5),yo("ngModelChange",function(s){return nn(i),xs(r.password,s)||(r.password=s),rn(s)}),Z()(),re(13,"button",6),Ee(14," Login "),Z()(),it(15,d9,2,1,"p",7),Z()}if(t&2){let i=Ts(4);we(8),go("ngModel",r.email),we(4),go("ngModel",r.password),we(),at("disabled",i.invalid),we(2),at("ngIf",r.errorMessage)}},dependencies:[Sn,_o,am,sm,Ec,nm,rm,Xu,Zu,Ps,Cc,Tc,Vs,pm,Sc,gm,mm,Mc,Ac],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:1rem}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.login-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d32f2f;margin-top:1rem;text-align:center}"]})};function h9(n,e){if(n&1&&(re(0,"p",9),Ee(1),Z()),n&2){let t=Ut();we(),Cs(t.errorMessage)}}var qg=class n{constructor(e,t){this.authService=e;this.router=t}username="";email="";password="";errorMessage="";onRegister(){this.authService.register(this.email,this.password,this.username).subscribe({next:()=>{this.router.navigate(["/home"]),console.log("User registration successful!")},error:e=>{this.errorMessage=e.message}})}static \u0275fac=function(t){return new(t||n)(j(cr),j(Wt))};static \u0275cmp=Ue({type:n,selectors:[["app-register"]],standalone:!0,features:[$e],decls:20,vars:5,consts:[["registerForm","ngForm"],[1,"register-container"],[3,"ngSubmit"],["appearance","fill"],["matInput","","type","text","required","","name","username",3,"ngModelChange","ngModel"],["matInput","","type","email","required","","name","email",3,"ngModelChange","ngModel"],["matInput","","type","password","required","","name","password",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){if(t&1){let i=$r();re(0,"mat-card",1)(1,"h2"),Ee(2,"Register"),Z(),re(3,"form",2,0),vt("ngSubmit",function(){return nn(i),rn(r.onRegister())}),re(5,"mat-form-field",3)(6,"mat-label"),Ee(7,"Username"),Z(),re(8,"input",4),yo("ngModelChange",function(s){return nn(i),xs(r.username,s)||(r.username=s),rn(s)}),Z()(),re(9,"mat-form-field",3)(10,"mat-label"),Ee(11,"Email"),Z(),re(12,"input",5),yo("ngModelChange",function(s){return nn(i),xs(r.email,s)||(r.email=s),rn(s)}),Z()(),re(13,"mat-form-field",3)(14,"mat-label"),Ee(15,"Password"),Z(),re(16,"input",6),yo("ngModelChange",function(s){return nn(i),xs(r.password,s)||(r.password=s),rn(s)}),Z()(),re(17,"button",7),Ee(18," Register "),Z()(),it(19,h9,2,1,"p",8),Z()}if(t&2){let i=Ts(4);we(8),go("ngModel",r.username),we(4),go("ngModel",r.email),we(4),go("ngModel",r.password),we(),at("disabled",i.invalid),we(2),at("ngIf",r.errorMessage)}},dependencies:[Sn,_o,am,sm,Ec,nm,rm,Xu,Zu,Ps,Cc,Tc,Vs,pm,Sc,gm,mm,Ac],styles:[".register-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:1rem}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.register-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d32f2f;margin-top:1rem;text-align:center}"]})};var Gg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-forum"]],standalone:!0,features:[$e],decls:2,vars:0,template:function(t,r){t&1&&(re(0,"p"),Ee(1,"forum works!"),Z())}})};var f9=["*"],Wg;function p9(){if(Wg===void 0&&(Wg=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Wg=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Wg}function Gd(n){return p9()?.createHTML(n)||n}function zO(n){return Error(`Unable to find icon with the name "${n}"`)}function m9(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function HO(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function qO(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var zi=class{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},g9=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new zi(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){let s=this._sanitizer.sanitize(sn.HTML,i);if(!s)throw qO(i);let a=Gd(s);return this._addSvgIconConfig(t,r,new zi("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new zi(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let o=this._sanitizer.sanitize(sn.HTML,r);if(!o)throw qO(r);let s=Gd(o);return this._addSvgIconSetConfig(t,new zi("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(sn.RESOURCE_URL,t);if(!r)throw HO(t);let i=this._cachedIconsByUrl.get(r);return i?J(Kg(i)):this._loadSvgIconFromConfig(new zi(t,null)).pipe(Qe(o=>this._cachedIconsByUrl.set(r,o)),Y(o=>Kg(o)))}getNamedSvgIcon(t,r=""){let i=GO(r,t),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):Zi(zO(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?J(Kg(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Y(r=>Kg(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return J(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Pr(a=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(sn.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(u)),J(null)})));return Zl(o).pipe(Y(()=>{let s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw zO(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Qe(r=>t.svgText=r),Y(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?J(null):this._fetchIcon(t).pipe(Qe(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let o=t.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(Gd("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(Gd("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw m9();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(sn.RESOURCE_URL,r);if(!s)throw HO(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Y(u=>Gd(u)),gr(()=>this._inProgressUrlFetches.delete(s)),tu());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(GO(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,t);if(o)return y9(o)?new zi(o.url,null,o.options):new zi(o,null)}}static{this.\u0275fac=function(r){return new(r||n)(R(dR,8),R(Yb),R(Oe,8),R(kn))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Kg(n){return n.cloneNode(!0)}function GO(n,e){return n+":"+e}function y9(n){return!!(n.url&&n.options)}var v9=new $("MAT_ICON_DEFAULT_OPTIONS"),_9=new $("mat-icon-location",{providedIn:"root",factory:b9});function b9(){let n=V(Oe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var WO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],w9=WO.map(n=>`[${n}]`).join(", "),E9=/^url\(['"]?#(.*?)['"]?\)$/,Qg=(()=>{class n{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,o,s,a){this._elementRef=t,this._iconRegistry=r,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=qe.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(w9),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)WO.forEach(s=>{let a=r[o],c=a.getAttribute(s),u=c?c.match(E9):null;if(u){let d=i.get(a);d||(d=[],i.set(a,d)),d.push({name:s,value:u[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Dn(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static{this.\u0275fac=function(r){return new(r||n)(j(ke),j(g9),nc("aria-hidden"),j(_9),j(kn),j(v9,8))}}static{this.\u0275cmp=Ue({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(Gt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ds(i.color?"mat-"+i.color:""),Ze("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",$t],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[tr,$e],ngContentSelectors:f9,decls:1,vars:0,template:function(r,i){r&1&&(On(),Xe(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),Yg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({imports:[At,At]})}}return n})();var rL="firebasestorage.googleapis.com",iL="storageBucket",I9=2*60*1e3,D9=10*60*1e3,T9=1e3;var ht=class n extends Eh{constructor(e,t,r=0){super(kD(e),`Firebase Storage: ${t} (${kD(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},lt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(lt||{});function kD(n){return"storage/"+n}function UD(){let n="An unknown error occurred, please check the error payload for server response.";return new ht(lt.UNKNOWN,n)}function C9(n){return new ht(lt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function x9(n){return new ht(lt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function S9(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht(lt.UNAUTHENTICATED,n)}function A9(){return new ht(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function M9(n){return new ht(lt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function oL(){return new ht(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sL(){return new ht(lt.CANCELED,"User canceled the upload/download.")}function R9(n){return new ht(lt.INVALID_URL,"Invalid URL '"+n+"'.")}function N9(n){return new ht(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function k9(){return new ht(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iL+"' property when initializing the app?")}function aL(){return new ht(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function P9(){return new ht(lt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function F9(){return new ht(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function O9(n){return new ht(lt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ha(n){return new ht(lt.INVALID_ARGUMENT,n)}function cL(){return new ht(lt.APP_DELETED,"The Firebase app was deleted.")}function $D(n){return new ht(lt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kd(n,e){return new ht(lt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Wd(n){throw new ht(lt.INTERNAL_ERROR,"Internal error: "+n)}var wn=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw N9(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(z){z.path_=decodeURIComponent(z.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${i}/o${m}`,"i"),_={bucket:1,path:3},w=t===rL?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",F=new RegExp(`^https?://${w}/${i}/${D}`,"i"),P=[{regex:a,indices:c,postModify:o},{regex:g,indices:_,postModify:u},{regex:F,indices:{bucket:1,path:2},postModify:u}];for(let z=0;z<P.length;z++){let ee=P[z],Q=ee.regex.exec(e);if(Q){let I=Q[ee.indices.bucket],v=Q[ee.indices.path];v||(v=""),r=new n(I,v),ee.postModify(r);break}}if(r==null)throw R9(e);return r}},FD=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function L9(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function d(...D){u||(u=!0,e.apply(null,D))}function f(D){i=setTimeout(()=>{i=null,n(g,c())},D)}function m(){o&&clearTimeout(o)}function g(D,...F){if(u){m();return}if(D){m(),d.call(null,D,...F);return}if(c()||s){m(),d.call(null,D,...F);return}r<64&&(r*=2);let P;a===1?(a=2,P=0):P=(r+Math.random())*1e3,f(P)}let _=!1;function w(D){_||(_=!0,m(),!u&&(i!==null?(D||(a=2),clearTimeout(i),f(0)):D||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,w(!0)},t),w}function V9(n){n(!1)}function j9(n){return n!==void 0}function B9(n){return typeof n=="function"}function U9(n){return typeof n=="object"&&!Array.isArray(n)}function Jg(n){return typeof n=="string"||n instanceof String}function QO(n){return zD()&&n instanceof Blob}function zD(){return typeof Blob<"u"}function OD(n,e,t,r){if(r<e)throw ha(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ha(`Invalid value for '${n}'. Expected ${t} or less.`)}function Jo(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function lL(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Il=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Il||{});function uL(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var LD=class{constructor(e,t,r,i,o,s,a,c,u,d,f,m=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new El(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Il.NO_ERROR,c=o.getStatus();if(!a||uL(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===Il.ABORT;r(!1,new El(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new El(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());j9(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=UD();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?cL():sL();s(c)}else{let c=oL();s(c)}};this.canceled_?t(!1,new El(!1,null,!0)):this.backoffId_=L9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&V9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},El=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function $9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function z9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function H9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function q9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function G9(n,e,t,r,i,o,s=!0){let a=lL(n.urlParams),c=n.url+a,u=Object.assign({},n.headers);return H9(u,e),$9(u,t),z9(u,o),q9(u,r),new LD(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}function W9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function K9(...n){let e=W9();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(zD())return new Blob(n);throw new ht(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Q9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function Y9(n){if(typeof atob>"u")throw O9("base-64");return atob(n)}var $n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Qd=class{constructor(e,t){this.data=e,this.contentType=t||null}};function HD(n,e){switch(n){case $n.RAW:return new Qd(dL(e));case $n.BASE64:case $n.BASE64URL:return new Qd(hL(n,e));case $n.DATA_URL:return new Qd(X9(e),J9(e))}throw UD()}function dL(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=n.charCodeAt(++t);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Z9(n){let e;try{e=decodeURIComponent(n)}catch{throw Kd($n.DATA_URL,"Malformed data URL.")}return dL(e)}function hL(n,e){switch(n){case $n.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Kd(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case $n.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Kd(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Y9(e)}catch(i){throw i.message.includes("polyfill")?i:Kd(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var Xg=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw Kd($n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=e6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function X9(n){let e=new Xg(n);return e.base64?hL($n.BASE64,e.rest):Z9(e.rest)}function J9(n){return new Xg(n).contentType}function e6(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var Dl=class n{constructor(e,t){let r=0,i="";QO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(QO(this.data_)){let r=this.data_,i=Q9(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(zD()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(K9.apply(null,t))}else{let t=e.map(s=>Jg(s)?HD($n.RAW,s).data:s.data_),r=0;t.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new n(i,!0)}}uploadData(){return this.data_}};function qD(n){let e;try{e=JSON.parse(n)}catch{return null}return U9(e)?e:null}function t6(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function n6(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function fL(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function r6(n,e){return e}var Zt=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||r6}},Zg=null;function i6(n){return!Jg(n)||n.length<2?n:fL(n)}function ey(){if(Zg)return Zg;let n=[];n.push(new Zt("bucket")),n.push(new Zt("generation")),n.push(new Zt("metageneration")),n.push(new Zt("name","fullPath",!0));function e(o,s){return i6(s)}let t=new Zt("name");t.xform=e,n.push(t);function r(o,s){return s!==void 0?Number(s):s}let i=new Zt("size");return i.xform=r,n.push(i),n.push(new Zt("timeCreated")),n.push(new Zt("updated")),n.push(new Zt("md5Hash",null,!0)),n.push(new Zt("cacheControl",null,!0)),n.push(new Zt("contentDisposition",null,!0)),n.push(new Zt("contentEncoding",null,!0)),n.push(new Zt("contentLanguage",null,!0)),n.push(new Zt("contentType",null,!0)),n.push(new Zt("metadata","customMetadata",!0)),Zg=n,Zg}function o6(n,e){function t(){let r=n.bucket,i=n.fullPath,o=new wn(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function s6(n,e,t){let r={};r.type="file";let i=t.length;for(let o=0;o<i;o++){let s=t[o];r[s.local]=s.xform(r,e[s.server])}return o6(r,n),r}function pL(n,e,t){let r=qD(e);return r===null?null:s6(n,r,t)}function a6(n,e,t,r){let i=qD(e);if(i===null||!Jg(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(u=>{let d=n.bucket,f=n.fullPath,m="/b/"+s(d)+"/o/"+s(f),g=Jo(m,t,r),_=lL({alt:"media",token:u});return g+_})[0]}function GD(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}var YO="prefixes",ZO="items";function c6(n,e,t){let r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[YO])for(let i of t[YO]){let o=i.replace(/\/$/,""),s=n._makeStorageReference(new wn(e,o));r.prefixes.push(s)}if(t[ZO])for(let i of t[ZO]){let o=n._makeStorageReference(new wn(e,i.name));r.items.push(o)}return r}function l6(n,e,t){let r=qD(t);return r===null?null:c6(n,e,r)}var Mr=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function si(n){if(!n)throw UD()}function ty(n,e){function t(r,i){let o=pL(n,i,e);return si(o!==null),o}return t}function u6(n,e){function t(r,i){let o=l6(n,e,i);return si(o!==null),o}return t}function d6(n,e){function t(r,i){let o=pL(n,i,e);return si(o!==null),a6(o,i,n.host,n._protocol)}return t}function xl(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=A9():i=S9():t.getStatus()===402?i=x9(n.bucket):t.getStatus()===403?i=M9(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function ny(n){let e=xl(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=C9(n.path)),o.serverResponse=i.serverResponse,o}return t}function mL(n,e,t){let r=e.fullServerUrl(),i=Jo(r,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new Mr(i,o,ty(n,t),s);return a.errorHandler=ny(e),a}function h6(n,e,t,r,i){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",t&&t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);let s=e.bucketOnlyServerUrl(),a=Jo(s,n.host,n._protocol),c="GET",u=n.maxOperationRetryTime,d=new Mr(a,c,u6(n,e.bucket),u);return d.urlParams=o,d.errorHandler=xl(e),d}function f6(n,e,t){let r=e.fullServerUrl(),i=Jo(r,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new Mr(i,o,d6(n,t),s);return a.errorHandler=ny(e),a}function p6(n,e,t,r){let i=e.fullServerUrl(),o=Jo(i,n.host,n._protocol),s="PATCH",a=GD(t,r),c={"Content-Type":"application/json; charset=utf-8"},u=n.maxOperationRetryTime,d=new Mr(o,s,ty(n,r),u);return d.headers=c,d.body=a,d.errorHandler=ny(e),d}function m6(n,e){let t=e.fullServerUrl(),r=Jo(t,n.host,n._protocol),i="DELETE",o=n.maxOperationRetryTime;function s(c,u){}let a=new Mr(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=ny(e),a}function g6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function gL(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=g6(null,e)),r}function y6(n,e,t,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let P="";for(let z=0;z<2;z++)P=P+Math.random().toString().slice(2);return P}let c=a();s["Content-Type"]="multipart/related; boundary="+c;let u=gL(e,r,i),d=GD(u,t),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+c+"--",g=Dl.getBlob(f,r,m);if(g===null)throw aL();let _={name:u.fullPath},w=Jo(o,n.host,n._protocol),D="POST",F=n.maxUploadRetryTime,L=new Mr(w,D,ty(n,t),F);return L.urlParams=_,L.headers=s,L.body=g.uploadData(),L.errorHandler=xl(e),L}var Tl=class{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}};function WD(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{si(!1)}return si(!!t&&(e||["active"]).indexOf(t)!==-1),t}function v6(n,e,t,r,i){let o=e.bucketOnlyServerUrl(),s=gL(e,r,i),a={name:s.fullPath},c=Jo(o,n.host,n._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=GD(s,t),m=n.maxUploadRetryTime;function g(w){WD(w);let D;try{D=w.getResponseHeader("X-Goog-Upload-URL")}catch{si(!1)}return si(Jg(D)),D}let _=new Mr(c,u,g,m);return _.urlParams=a,_.headers=d,_.body=f,_.errorHandler=xl(e),_}function _6(n,e,t,r){let i={"X-Goog-Upload-Command":"query"};function o(u){let d=WD(u,["active","final"]),f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{si(!1)}f||si(!1);let m=Number(f);return si(!isNaN(m)),new Tl(m,r.size(),d==="final")}let s="POST",a=n.maxUploadRetryTime,c=new Mr(t,s,o,a);return c.headers=i,c.errorHandler=xl(e),c}var XO=256*1024;function b6(n,e,t,r,i,o,s,a){let c=new Tl(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw P9();let u=c.total-c.current,d=u;i>0&&(d=Math.min(d,i));let f=c.current,m=f+d,g="";d===0?g="finalize":u===d?g="upload, finalize":g="upload";let _={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${c.current}`},w=r.slice(f,m);if(w===null)throw aL();function D(z,ee){let Q=WD(z,["active","final"]),I=c.current+d,v=r.size(),b;return Q==="final"?b=ty(e,o)(z,ee):b=null,new Tl(I,v,Q==="final",b)}let F="POST",L=e.maxUploadRetryTime,P=new Mr(t,F,D,L);return P.headers=_,P.body=w.uploadData(),P.progressCallback=a||null,P.errorHandler=xl(n),P}var yL={STATE_CHANGED:"state_changed"},ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function PD(n){switch(n){case"running":case"pausing":case"canceling":return ln.RUNNING;case"paused":return ln.PAUSED;case"success":return ln.SUCCESS;case"canceled":return ln.CANCELED;case"error":return ln.ERROR;default:return ln.ERROR}}var VD=class{constructor(e,t,r){if(B9(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function wl(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}var JO=null,jD=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Il.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Il.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Il.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Wd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},BD=class extends jD{initXhr(){this.xhr_.responseType="text"}};function oi(){return JO?JO():new BD}var Yd=class{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=ey(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(lt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(uL(i.status,[]))if(o)i=oL();else{this.sleepTime=Math.max(this.sleepTime*2,T9),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(lt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{let r=v6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,oi,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((t,r)=>{let i=_6(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,oi,t,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=XO*this._chunkMultiplier,t=new Tl(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=b6(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(s,oi,i,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){XO*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{let r=mL(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,oi,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{let r=y6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,oi,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=sL(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=PD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){let o=new VD(t||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(PD(this._state)){case ln.SUCCESS:wl(this._resolve.bind(null,this.snapshot))();break;case ln.CANCELED:case ln.ERROR:let t=this._reject;wl(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(PD(this._state)){case ln.RUNNING:case ln.PAUSED:e.next&&wl(e.next.bind(e,this.snapshot))();break;case ln.SUCCESS:e.complete&&wl(e.complete.bind(e))();break;case ln.CANCELED:case ln.ERROR:e.error&&wl(e.error.bind(e,this._error))();break;default:e.error&&wl(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Cl=class n{constructor(e,t){this._service=e,t instanceof wn?this._location=t:this._location=wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fL(this._location.path)}get storage(){return this._service}get parent(){let e=t6(this._location.path);if(e===null)return null;let t=new wn(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $D(e)}};function w6(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Yd(n,new Dl(e),t)}function E6(n){let e={prefixes:[],items:[]};return vL(n,e).then(()=>e)}function vL(n,e,t){return M(this,null,function*(){let i=yield _L(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield vL(n,e,i.nextPageToken))})}function _L(n,e){e!=null&&typeof e.maxResults=="number"&&OD("options.maxResults",1,1e3,e.maxResults);let t=e||{},r=h6(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,oi)}function I6(n){n._throwIfRoot("getMetadata");let e=mL(n.storage,n._location,ey());return n.storage.makeRequestWithTokens(e,oi)}function D6(n,e){n._throwIfRoot("updateMetadata");let t=p6(n.storage,n._location,e,ey());return n.storage.makeRequestWithTokens(t,oi)}function T6(n){n._throwIfRoot("getDownloadURL");let e=f6(n.storage,n._location,ey());return n.storage.makeRequestWithTokens(e,oi).then(t=>{if(t===null)throw F9();return t})}function C6(n){n._throwIfRoot("deleteObject");let e=m6(n.storage,n._location);return n.storage.makeRequestWithTokens(e,oi)}function bL(n,e){let t=n6(n._location.path,e),r=new wn(n._location.bucket,t);return new Cl(n.storage,r)}function x6(n){return/^[A-Za-z]+:\/\//.test(n)}function S6(n,e){return new Cl(n,e)}function wL(n,e){if(n instanceof Zd){let t=n;if(t._bucket==null)throw k9();let r=new Cl(t,t._bucket);return e!=null?wL(r,e):r}else return e!==void 0?bL(n,e):n}function A6(n,e){if(e&&x6(e)){if(n instanceof Zd)return S6(n,e);throw ha("To use ref(service, url), the first argument must be a Storage instance.")}else return wL(n,e)}function eL(n,e){let t=e?.[iL];return t==null?null:wn.makeFromBucketSpec(t,n)}function M6(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:bh(i,n.app.options.projectId))}var Zd=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=rL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=I9,this._maxUploadRetryTime=D9,this._requests=new Set,i!=null?this._bucket=wn.makeFromBucketSpec(i,this._host):this._bucket=eL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=eL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return M(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return M(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cl(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new FD(cL());{let s=G9(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return M(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},tL="@firebase/storage",nL="0.13.2";var R6="storage";function EL(n,e,t){return n=je(n),w6(n,e,t)}function IL(n){return n=je(n),I6(n)}function DL(n,e){return n=je(n),D6(n,e)}function TL(n,e){return n=je(n),_L(n,e)}function CL(n){return n=je(n),E6(n)}function xL(n){return n=je(n),T6(n)}function SL(n){return n=je(n),C6(n)}function KD(n,e){return n=je(n),A6(n,e)}function AL(n,e){return bL(n,e)}function ML(n,e,t,r={}){M6(n,e,t,r)}function N6(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Zd(t,r,i,e,Dh)}function k6(){os(new dr(R6,N6,"PUBLIC").setMultipleInstances(!0)),hr(tL,nL,""),hr(tL,nL,"esm2017")}k6();var Sl=class{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var ry=class{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Sl(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Sl(r,this,this._ref))},t)}on(e,t,r,i){let o;return t&&(typeof t=="function"?o=s=>t(new Sl(s,this,this._ref)):o={next:t.next?s=>t.next(new Sl(s,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}},iy=class{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new fa(e,this._service))}get items(){return this._delegate.items.map(e=>new fa(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var fa=class n{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let t=AL(this._delegate,e);return new n(t,this.storage)}get root(){return new n(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new n(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new ry(EL(this._delegate,e,t),this)}putString(e,t=$n.RAW,r){this._throwIfRoot("putString");let i=HD(t,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new ry(new Yd(this._delegate,new Dl(i.data,!0),o),this)}listAll(){return CL(this._delegate).then(e=>new iy(e,this.storage))}list(e){return TL(this._delegate,e||void 0).then(t=>new iy(t,this.storage))}getMetadata(){return IL(this._delegate)}updateMetadata(e){return DL(this._delegate,e)}getDownloadURL(){return xL(this._delegate)}delete(){return this._throwIfRoot("delete"),SL(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw $D(e)}};var oy=class{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(RL(e))throw ha("ref() expected a child path but got a URL, use refFromURL instead.");return new fa(KD(this._delegate,e),this)}refFromURL(e){if(!RL(e))throw ha("refFromURL() expected a full URL but got a child path, use ref() instead.");try{wn.makeFromUrl(e,this._delegate.host)}catch{throw ha("refFromUrl() expected a valid full URL but got an invalid one.")}return new fa(KD(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){ML(this._delegate,e,t,r)}};function RL(n){return/^[A-Za-z]+:\/\//.test(n)}var P6="@firebase/storage-compat",F6="0.3.12";var O6="storage-compat";function L6(n,{instanceIdentifier:e}){let t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new oy(t,r)}function V6(n){let e={TaskState:ln,TaskEvent:yL,StringFormat:$n,Storage:oy,Reference:fa};n.INTERNAL.registerComponent(new dr(O6,L6,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(P6,F6)}V6(Pt);function j6(n){return new he(e=>{let t=s=>e.next(s),r=s=>e.error(s),i=()=>e.complete();t(n.snapshot);let o=n.on("state_changed",t);return n.then(s=>{t(s),i()},s=>{t(n.snapshot),r(s)}),function(){o()}}).pipe(Na(0))}function NL(n){let e=j6(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Y(t=>t.bytesTransferred/t.totalBytes*100))}}function sy(n){return{getDownloadURL:()=>J(void 0).pipe(uE,Ke(()=>n.getDownloadURL()),Kt),getMetadata:()=>J(void 0).pipe(uE,Ke(()=>n.getMetadata()),Kt),delete:()=>pe(n.delete()),child:e=>sy(n.child(e)),updateMetadata:e=>pe(n.updateMetadata(e)),put:(e,t)=>{let r=n.put(e,t);return NL(r)},putString:(e,t,r)=>{let i=n.putString(e,t,r);return NL(i)},list:e=>pe(n.list(e)),listAll:()=>pe(n.listAll())}}var B6=new $("angularfire2.storageBucket"),U6=new $("angularfire2.storage.maxUploadRetryTime"),$6=new $("angularfire2.storage.maxOperationRetryTime"),z6=new $("angularfire2.storage.use-emulator"),QD=(()=>{class n{storage;constructor(t,r,i,o,s,a,c,u,d,f){let m=js(t,s,r);this.storage=Nc(`${m.name}.storage.${i}`,"AngularFireStorage",m.name,()=>{let g=s.runOutsideAngular(()=>m.storage(i||void 0)),_=d;return _&&g.useEmulator(..._),c&&g.setMaxUploadRetryTime(c),u&&g.setMaxOperationRetryTime(u),g},[c,u])}ref(t){return sy(this.storage.ref(t))}refFromURL(t){return sy(this.storage.refFromURL(t))}upload(t,r,i){let o=this.storage.ref(t);return sy(o).put(r,i)}static \u0275fac=function(r){return new(r||n)(R(Ro),R(No,8),R(B6,8),R(Bt),R(ne),R(Rc),R(U6,8),R($6,8),R(z6,8),R(Ri,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var H6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=le({})}return n})(),kL=(()=>{class n{constructor(){Pt.registerVersion("angularfire",Ni.full,"gcs-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ue({type:n});static \u0275inj=le({providers:[QD],imports:[H6]})}return n})();var G6=["fileInput"];function W6(n,e){if(n&1&&(re(0,"div")(1,"p")(2,"strong"),Ee(3,"Email:"),Z(),Ee(4),Z(),re(5,"p")(6,"strong"),Ee(7,"Username:"),Z(),Ee(8),Z()()),n&2){let t=Ut();we(4),sc(" ",t.user==null?null:t.user.email,""),we(4),sc(" ",t.userData.username,"")}}var ay=class n{constructor(e,t,r){this.authService=e;this.firestore=t;this.storage=r}user;userData;authSub;userDocSub;defaultPicUrl="";fileInputRef;ngOnInit(){this.authSub=this.authService.getCurrentUser().subscribe(e=>{this.user=e,this.user&&this.loadUserData(this.user.uid)}),this.storage.ref("shared/profile_default.png").getDownloadURL().subscribe(e=>{this.defaultPicUrl=e})}loadUserData(e){this.userDocSub=this.firestore.collection("users").doc(e).valueChanges().subscribe(t=>{this.userData=t})}onSelectProfilePic(){this.fileInputRef.nativeElement.click()}onFileSelected(e){return M(this,null,function*(){let t=e.target;if(!t.files||!t.files[0])return;let r=t.files[0];if(!["image/png","image/jpeg"].includes(r.type)){alert("Please select a PNG or JPEG image.");return}if(!(yield this.checkImageDimensions(r,256,256))){alert("Image must not exceed 256x256 pixels.");return}let s=r.type==="image/png"?"png":"jpg",a=`profiles/${this.user.uid}/profilePic.${s}`,c=this.storage.ref(a);this.storage.upload(a,r).snapshotChanges().pipe(gr(()=>{c.getDownloadURL().subscribe(d=>{this.firestore.collection("users").doc(this.user.uid).update({photoURL:d})})})).subscribe()})}checkImageDimensions(e,t,r){return new Promise(i=>{let o=new Image;o.onload=()=>{o.width<=t&&o.height<=r?i(!0):i(!1)},o.src=URL.createObjectURL(e)})}ngOnDestroy(){this.authSub&&this.authSub.unsubscribe(),this.userDocSub&&this.userDocSub.unsubscribe()}static \u0275fac=function(t){return new(t||n)(j(cr),j(Hd),j(QD))};static \u0275cmp=Ue({type:n,selectors:[["app-profile"]],viewQuery:function(t,r){if(t&1&&Ln(G6,5),t&2){let i;Et(i=It())&&(r.fileInputRef=i.first)}},standalone:!0,features:[$e],decls:11,vars:2,consts:[["fileInput",""],[1,"profile-container"],[1,"profile-pic-wrapper"],["alt","Profile Picture",1,"profile-pic",3,"src"],["mat-fab","","color","accent","aria-label","Edit Profile Picture",1,"edit-btn",3,"click"],["type","file","accept","image/png, image/jpeg",2,"display","none",3,"change"],[4,"ngIf"]],template:function(t,r){if(t&1){let i=$r();re(0,"mat-card",1)(1,"h2"),Ee(2,"My Profile"),Z(),re(3,"div",2),yt(4,"img",3),re(5,"button",4),vt("click",function(){return nn(i),rn(r.onSelectProfilePic())}),re(6,"mat-icon"),Ee(7,"add"),Z()()(),re(8,"input",5,0),vt("change",function(s){return nn(i),rn(r.onFileSelected(s))}),Z(),it(10,W6,9,2,"div",6),Z()}t&2&&(we(4),at("src",r.userData!=null&&r.userData.photoURL?r.userData.photoURL:r.defaultPicUrl,lb),we(6),at("ngIf",r.userData))},dependencies:[Sn,_o,Cc,Tc,Mc,Bk,Yg,Qg],styles:[".profile-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto}.profile-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.profile-container[_ngcontent-%COMP%]   .profile-pic-wrapper[_ngcontent-%COMP%]{position:relative;text-align:center;margin-bottom:1.5rem}.profile-container[_ngcontent-%COMP%]   .profile-pic-wrapper[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:128px;height:128px;border-radius:50%;object-fit:cover;border:2px solid #ddd}.profile-container[_ngcontent-%COMP%]   .profile-pic-wrapper[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:calc(50% - 32px);transform:translate(50%,50%)}"]})};var cy=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){return this.authService.getCurrentUser().pipe(Y(r=>r?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(R(cr),R(Wt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var ly=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-home"]],standalone:!0,features:[$e],decls:2,vars:0,template:function(t,r){t&1&&(re(0,"p"),Ee(1,"home works!"),Z())}})};var PL=[{path:"login",component:Hg},{path:"register",component:qg},{path:"forum",component:Gg},{path:"home",component:ly},{path:"profile",component:ay,canActivate:[cy]},{path:"",redirectTo:"home",pathMatch:"full"}];var FL={apiKey:"AIzaSyC_JmI07NRM58GiFS8UMbBWaBdCDtWjDvg",authDomain:"eso-companion-app-89474.firebaseapp.com",projectId:"eso-companion-app-89474",storageBucket:"eso-companion-app-89474.firebasestorage.app",messagingSenderId:"854683071138",appId:"1:854683071138:web:fc3a2c53d422abbc91ddfb",measurementId:"G-6HZ3WH8WFV"};function OL(n){return new q(3e3,!1)}function K6(){return new q(3100,!1)}function Q6(){return new q(3101,!1)}function Y6(n){return new q(3001,!1)}function Z6(n){return new q(3003,!1)}function X6(n){return new q(3004,!1)}function J6(n,e){return new q(3005,!1)}function eW(){return new q(3006,!1)}function tW(){return new q(3007,!1)}function nW(n,e){return new q(3008,!1)}function rW(n){return new q(3002,!1)}function iW(n,e,t,r,i){return new q(3010,!1)}function oW(){return new q(3011,!1)}function sW(){return new q(3012,!1)}function aW(){return new q(3200,!1)}function cW(){return new q(3202,!1)}function lW(){return new q(3013,!1)}function uW(n){return new q(3014,!1)}function dW(n){return new q(3015,!1)}function hW(n){return new q(3016,!1)}function fW(n,e){return new q(3404,!1)}function pW(n){return new q(3502,!1)}function mW(n){return new q(3503,!1)}function gW(){return new q(3300,!1)}function yW(n){return new q(3504,!1)}function vW(n){return new q(3301,!1)}function _W(n,e){return new q(3302,!1)}function bW(n){return new q(3303,!1)}function wW(n,e){return new q(3400,!1)}function EW(n){return new q(3401,!1)}function IW(n){return new q(3402,!1)}function DW(n,e){return new q(3505,!1)}function es(n){switch(n.length){case 0:return new Ao;case 1:return n[0];default:return new ed(n)}}function YL(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,f=d&&a||new Map;c.forEach((m,g)=>{let _=g,w=m;if(g!=="offset")switch(_=n.normalizePropertyName(_,i),w){case hm:w=t.get(g);break;case Kr:w=r.get(g);break;default:w=n.normalizeStyleValue(g,_,w,i);break}f.set(_,w)}),d||o.push(f),a=f,s=u}),i.length)throw pW(i);return o}function vT(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&YD(t,"start",n)));break;case"done":n.onDone(()=>r(t&&YD(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&YD(t,"destroy",n)));break}}function YD(n,e,t){let r=t.totalTime,i=!!t.disabled,o=_T(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function _T(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Hn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function LL(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var TW=typeof document>"u"?null:document.documentElement;function bT(n){let e=n.parentNode||n.host||null;return e===TW?null:e}function CW(n){return n.substring(1,6)=="ebkit"}var pa=null,VL=!1;function xW(n){pa||(pa=SW()||{},VL=pa.style?"WebkitAppearance"in pa.style:!1);let e=!0;return pa.style&&!CW(n)&&(e=n in pa.style,!e&&VL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in pa.style)),e}function SW(){return typeof document<"u"?document.body:null}function ZL(n,e){for(;e;){if(e===n)return!0;e=bT(e)}return!1}function XL(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var wT=(()=>{class n{validateStyleProperty(t){return xW(t)}containsElement(t,r){return ZL(t,r)}getParentElement(t){return bT(t)}query(t,r,i){return XL(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Ao(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),ya=class{static{this.NOOP=new wT}},va=class{};var AW=1e3,JL="{{",MW="}}",eV="ng-enter",nT="ng-leave",uy="ng-trigger",my=".ng-trigger",jL="ng-animating",rT=".ng-animating";function Hi(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:iT(parseFloat(e[1]),e[2])}function iT(n,e){switch(e){case"s":return n*AW;default:return n}}function gy(n,e,t){return n.hasOwnProperty("duration")?n:RW(n,e,t)}function RW(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(OL(n)),{duration:0,delay:0,easing:""};i=iT(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=iT(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(K6()),a=!0),o<0&&(e.push(Q6()),a=!0),a&&e.splice(c,0,OL(n))}return{duration:i,delay:o,easing:s}}function NW(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function ai(n,e,t){e.forEach((r,i)=>{let o=ET(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function ga(n,e){e.forEach((t,r)=>{let i=ET(r);n.style[i]=""})}function Xd(n){return Array.isArray(n)?n.length==1?n[0]:vk(n):n}function kW(n,e,t){let r=e.params||{},i=tV(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(Y6(o))})}var oT=new RegExp(`${JL}\\s*(.+?)\\s*${MW}`,"g");function tV(n){let e=[];if(typeof n=="string"){let t;for(;t=oT.exec(n);)e.push(t[1]);oT.lastIndex=0}return e}function eh(n,e,t){let r=`${n}`,i=r.replace(oT,(o,s)=>{let a=e[s];return a==null&&(t.push(Z6(s)),a=""),a.toString()});return i==r?n:i}var PW=/-+([a-z0-9])/g;function ET(n){return n.replace(PW,(...e)=>e[1].toUpperCase())}function FW(n,e){return n===0||e===0}function OW(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,IT(n,a)))}}return e}function zn(n,e,t){switch(e.type){case ve.Trigger:return n.visitTrigger(e,t);case ve.State:return n.visitState(e,t);case ve.Transition:return n.visitTransition(e,t);case ve.Sequence:return n.visitSequence(e,t);case ve.Group:return n.visitGroup(e,t);case ve.Animate:return n.visitAnimate(e,t);case ve.Keyframes:return n.visitKeyframes(e,t);case ve.Style:return n.visitStyle(e,t);case ve.Reference:return n.visitReference(e,t);case ve.AnimateChild:return n.visitAnimateChild(e,t);case ve.AnimateRef:return n.visitAnimateRef(e,t);case ve.Query:return n.visitQuery(e,t);case ve.Stagger:return n.visitStagger(e,t);default:throw X6(e.type)}}function IT(n,e){return window.getComputedStyle(n)[e]}var LW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),yy=class extends va{normalizePropertyName(e,t){return ET(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(LW.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(J6(e,r))}return s+o}};var vy="*";function VW(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>jW(r,t,e)):t.push(n),t}function jW(n,e,t){if(n[0]==":"){let c=BW(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(dW(n)),e;let i=r[1],o=r[2],s=r[3];e.push(BL(i,s));let a=i==vy&&s==vy;o[0]=="<"&&!a&&e.push(BL(s,i))}function BW(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(hW(n)),"* => *"}}var dy=new Set(["true","1"]),hy=new Set(["false","0"]);function BL(n,e){let t=dy.has(n)||hy.has(n),r=dy.has(e)||hy.has(e);return(i,o)=>{let s=n==vy||n==i,a=e==vy||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?dy.has(n):hy.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?dy.has(e):hy.has(e)),s&&a}}var nV=":self",UW=new RegExp(`s*${nV}s*,?`,"g");function rV(n,e,t,r){return new sT(n).build(e,t,r)}var UL="",sT=class{constructor(e){this._driver=e}build(e,t,r){let i=new aT(t);return this._resetContextStyleTimingState(i),zn(this,Xd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=UL,e.collectedStyles=new Map,e.collectedStyles.set(UL,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(eW()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ve.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==ve.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(tW())}),{type:ve.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{tV(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(nW(e.name,[...o.values()]))}return{type:ve.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=zn(this,Xd(e.animation),t),i=VW(e.expr,t.errors);return{type:ve.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ma(e.options)}}visitSequence(e,t){return{type:ve.Sequence,steps:e.steps.map(r=>zn(this,r,t)),options:ma(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=zn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:ve.Group,steps:o,options:ma(e.options)}}visitAnimate(e,t){let r=qW(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:xc({});if(o.type==ve.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=xc(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:ve.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Kr?r.push(a):t.errors.push(rW(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(JL)>=0){o=!0;break}}}),{type:ve.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(iW(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(c,{startTime:o,endTime:i}),t.options&&kW(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:ve.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(oW()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(F=>{let L=this._makeStyleAst(F,t),P=L.offset!=null?L.offset:HW(L.styles),z=0;return P!=null&&(o++,z=L.offset=P),c=c||z<0||z>1,a=a||z<u,u=z,s.push(z),L});c&&t.errors.push(sW()),a&&t.errors.push(aW());let f=e.steps.length,m=0;o>0&&o<f?t.errors.push(cW()):o==0&&(m=i/(f-1));let g=f-1,_=t.currentTime,w=t.currentAnimateTimings,D=w.duration;return d.forEach((F,L)=>{let P=m>0?L==g?1:m*L:s[L],z=P*D;t.currentTime=_+w.delay+z,w.duration=z,this._validateStyleAst(F,t),F.offset=P,r.styles.push(F)}),r}visitReference(e,t){return{type:ve.Reference,animation:zn(this,Xd(e.animation),t),options:ma(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ve.AnimateChild,options:ma(e.options)}}visitAnimateRef(e,t){return{type:ve.AnimateRef,animation:this.visitReference(e.animation,t),options:ma(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=$W(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Hn(t.collectedStyles,t.currentQuerySelector,new Map);let a=zn(this,Xd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:ve.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ma(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(lW());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:gy(e.timings,t.errors,!0);return{type:ve.Stagger,animation:zn(this,Xd(e.animation),t),timings:r,options:null}}};function $W(n){let e=!!n.split(/\s*,\s*/).find(t=>t==nV);return e&&(n=n.replace(UW,"")),n=n.replace(/@\*/g,my).replace(/@\w+/g,t=>my+"-"+t.slice(1)).replace(/:animating/g,rT),[n,e]}function zW(n){return n?U({},n):null}var aT=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function HW(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function qW(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=gy(n,e).duration;return ZD(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ZD(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=gy(t,e);return ZD(i.duration,i.delay,i.easing)}function ma(n){return n?(n=U({},n),n.params&&(n.params=zW(n.params))):n={},n}function ZD(n,e,t){return{duration:n,delay:e,easing:t}}function DT(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var th=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},GW=1,WW=":enter",KW=new RegExp(WW,"g"),QW=":leave",YW=new RegExp(QW,"g");function iV(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new cT().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var cT=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new th;let f=new lT(e,t,u,i,o,d,[]);f.options=c;let m=c.delay?Hi(c.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([s],null,f.errors,c),zn(this,r,f);let g=f.timelines.filter(_=>_.containsAnimation());if(g.length&&a.size){let _;for(let w=g.length-1;w>=0;w--){let D=g[w];if(D.element===t){_=D;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,f.errors,c)}return g.length?g.map(_=>_.buildKeyframes()):[DT(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Hi(eh(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Hi(r.duration):null,a=r.delay!=null?Hi(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),zn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ve.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_y);let s=Hi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>zn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Hi(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),zn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?eh(r,t.params,t.errors):r;return gy(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==ve.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Hi(i.delay):0;o&&(t.previousNode.type===ve.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_y);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(c=f.currentTimeline),zn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let m=f.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;zn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},_y={},lT=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_y,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new by(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Hi(r.duration)),r.delay!=null&&(i.delay=Hi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=eh(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=_y,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new uT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(KW,"."+this._enterClassName),e=e.replace(YW,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(uW(t)),a}},by=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=GW,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Kr),this._currentKeyframe.set(t,Kr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=ZW(e,this._globalTimelineStyles);for(let[a,c]of s){let u=eh(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Kr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===hm?e.add(f):d===Kr&&t.add(f)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return DT(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},uT=class extends by{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",$L(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let m=new Map(e[f]),g=m.get("offset"),_=t+g*r;m.set("offset",$L(_/s)),o.push(m)}r=s,t=0,i="",e=o}return DT(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function $L(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function ZW(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Kr)}else for(let[o,s]of i)t.set(o,s)}),t}function zL(n,e,t,r,i,o,s,a,c,u,d,f,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:m}}var XD={},wy=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return XW(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let f=[],m=this.ast.options&&this.ast.options.params||XD,g=a&&a.params||XD,_=this.buildStyles(r,g,f),w=c&&c.params||XD,D=this.buildStyles(i,w,f),F=new Set,L=new Map,P=new Map,z=i==="void",ee={params:oV(w,m),delay:this.ast.options?.delay},Q=d?[]:iV(e,t,this.ast.animation,o,s,_,D,ee,u,f),I=0;return Q.forEach(v=>{I=Math.max(v.duration+v.delay,I)}),f.length?zL(t,this._triggerName,r,i,z,_,D,[],[],L,P,I,f):(Q.forEach(v=>{let b=v.element,T=Hn(L,b,new Set);v.preStyleProps.forEach(S=>T.add(S));let C=Hn(P,b,new Set);v.postStyleProps.forEach(S=>C.add(S)),b!==t&&F.add(b)}),zL(t,this._triggerName,r,i,z,_,D,Q,[...F.values()],L,P,I))}};function XW(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function oV(n,e){let t=U({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var dT=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=oV(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=eh(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function JW(n,e,t){return new hT(n,e,t)}var hT=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new dT(i.style,o,r))}),HL(this.states,"true","1"),HL(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new wy(e,i,this.states))}),this.fallbackTransition=eK(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function eK(n,e,t){let r=[(s,a)=>!0],i={type:ve.Sequence,steps:[],options:null},o={type:ve.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new wy(n,o,e)}function HL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var tK=new th,fT=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=rV(this._driver,t,r,i);if(r.length)throw mW(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=YL(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=iV(this._driver,t,o,eV,nT,new Map,new Map,r,tK,i),s.forEach(d=>{let f=Hn(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(i.push(gW()),s=[]),i.length)throw yW(i);a.forEach((d,f)=>{d.forEach((m,g)=>{d.set(g,this._driver.computeStyle(f,g,Kr))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=es(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw vW(e);return t}listen(e,t,r,i){let o=_T(t,"","","");return vT(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},qL="ng-animate-queued",nK=".ng-animate-queued",JD="ng-animate-disabled",rK=".ng-animate-disabled",iK="ng-star-inserted",oK=".ng-star-inserted",sK=[],sV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rr="__ng_removed",nh=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=lK(i),r){let o=e,{value:s}=o,a=Jy(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Jd="void",eT=new nh(Jd),pT=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,lr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw _W(r,t);if(r==null||r.length==0)throw bW(t);if(!uK(r))throw wW(r,t);let o=Hn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Hn(this._engine.statesByElement,e,new Map);return a.has(t)||(lr(e,uy),lr(e,uy+"-"+t),a.set(t,eT)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw EW(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new rh(this.id,t,e),a=this._engine.statesByElement.get(e);a||(lr(e,uy),lr(e,uy+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new nh(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=eT),!(u.value===Jd)&&c.value===u.value){if(!fK(c.params,u.params)){let w=[],D=o.matchStyles(c.value,c.params,w),F=o.matchStyles(u.value,u.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{ga(e,D),ai(e,F)})}return}let m=Hn(this._engine.playersByElement,e,[]);m.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let g=o.matchTransition(c.value,u.value,e,u.params),_=!1;if(!g){if(!i)return;g=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:u,player:s,isFallbackTransition:_}),_||(lr(e,qL),s.onStart(()=>{Al(e,qL)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let D=this._engine.playersByElement.get(e);if(D){let F=D.indexOf(s);F>=0&&D.splice(F,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,my,!0);r.forEach(i=>{if(i[Rr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,Jd,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&es(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||eT,d=new nh(Jd),f=new rh(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Rr];(!o||o===sV)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){lr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=_T(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,vT(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},mT=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new pT(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(fy(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!fy(t))return;let o=t[Rr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),lr(e,JD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Al(e,JD))}removeNode(e,t,r){if(fy(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Rr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return fy(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,my,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,rT,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return es(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Rr];if(t&&t.setForRemoval){if(e[Rr]=sV,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(JD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,rK,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];lr(i,iK)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?es(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw IW(e)}_flushAnimations(e,t){let r=new th,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(te=>{d.add(te);let oe=this.driver.query(te,nK,!0);for(let ae=0;ae<oe.length;ae++)d.add(oe[ae])});let f=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=KL(m,this.collectedEnterElements),_=new Map,w=0;g.forEach((te,oe)=>{let ae=eV+w++;_.set(oe,ae),te.forEach(xe=>lr(xe,ae))});let D=[],F=new Set,L=new Set;for(let te=0;te<this.collectedLeaveElements.length;te++){let oe=this.collectedLeaveElements[te],ae=oe[Rr];ae&&ae.setForRemoval&&(D.push(oe),F.add(oe),ae.hasAnimation?this.driver.query(oe,oK,!0).forEach(xe=>F.add(xe)):L.add(oe))}let P=new Map,z=KL(m,Array.from(F));z.forEach((te,oe)=>{let ae=nT+w++;P.set(oe,ae),te.forEach(xe=>lr(xe,ae))}),e.push(()=>{g.forEach((te,oe)=>{let ae=_.get(oe);te.forEach(xe=>Al(xe,ae))}),z.forEach((te,oe)=>{let ae=P.get(oe);te.forEach(xe=>Al(xe,ae))}),D.forEach(te=>{this.processLeaveNode(te)})});let ee=[],Q=[];for(let te=this._namespaceList.length-1;te>=0;te--)this._namespaceList[te].drainQueuedTransitions(t).forEach(ae=>{let xe=ae.player,wt=ae.element;if(ee.push(xe),this.collectedEnterElements.length){let pt=wt[Rr];if(pt&&pt.setForMove){if(pt.previousTriggersValues&&pt.previousTriggersValues.has(ae.triggerName)){let ci=pt.previousTriggersValues.get(ae.triggerName),En=this.statesByElement.get(ae.element);if(En&&En.has(ae.triggerName)){let li=En.get(ae.triggerName);li.value=ci,En.set(ae.triggerName,li)}}xe.destroy();return}}let Gn=!f||!this.driver.containsElement(f,wt),ft=P.get(wt),et=_.get(wt),tt=this._buildInstruction(ae,r,et,ft,Gn);if(tt.errors&&tt.errors.length){Q.push(tt);return}if(Gn){xe.onStart(()=>ga(wt,tt.fromStyles)),xe.onDestroy(()=>ai(wt,tt.toStyles)),i.push(xe);return}if(ae.isFallbackTransition){xe.onStart(()=>ga(wt,tt.fromStyles)),xe.onDestroy(()=>ai(wt,tt.toStyles)),i.push(xe);return}let Gi=[];tt.timelines.forEach(pt=>{pt.stretchStartingKeyframe=!0,this.disabledNodes.has(pt.element)||Gi.push(pt)}),tt.timelines=Gi,r.append(wt,tt.timelines);let Sy={instruction:tt,player:xe,element:wt};s.push(Sy),tt.queriedElements.forEach(pt=>Hn(a,pt,[]).push(xe)),tt.preStyleProps.forEach((pt,ci)=>{if(pt.size){let En=c.get(ci);En||c.set(ci,En=new Set),pt.forEach((li,Wi)=>En.add(Wi))}}),tt.postStyleProps.forEach((pt,ci)=>{let En=u.get(ci);En||u.set(ci,En=new Set),pt.forEach((li,Wi)=>En.add(Wi))})});if(Q.length){let te=[];Q.forEach(oe=>{te.push(DW(oe.triggerName,oe.errors))}),ee.forEach(oe=>oe.destroy()),this.reportError(te)}let I=new Map,v=new Map;s.forEach(te=>{let oe=te.element;r.has(oe)&&(v.set(oe,oe),this._beforeAnimationBuild(te.player.namespaceId,te.instruction,I))}),i.forEach(te=>{let oe=te.element;this._getPreviousPlayers(oe,!1,te.namespaceId,te.triggerName,null).forEach(xe=>{Hn(I,oe,[]).push(xe),xe.destroy()})});let b=D.filter(te=>QL(te,c,u)),T=new Map;WL(T,this.driver,L,u,Kr).forEach(te=>{QL(te,c,u)&&b.push(te)});let S=new Map;g.forEach((te,oe)=>{WL(S,this.driver,new Set(te),c,hm)}),b.forEach(te=>{let oe=T.get(te),ae=S.get(te);T.set(te,new Map([...oe?.entries()??[],...ae?.entries()??[]]))});let E=[],qn=[],qi={};s.forEach(te=>{let{element:oe,player:ae,instruction:xe}=te;if(r.has(oe)){if(d.has(oe)){ae.onDestroy(()=>ai(oe,xe.toStyles)),ae.disabled=!0,ae.overrideTotalTime(xe.totalTime),i.push(ae);return}let wt=qi;if(v.size>1){let ft=oe,et=[];for(;ft=ft.parentNode;){let tt=v.get(ft);if(tt){wt=tt;break}et.push(ft)}et.forEach(tt=>v.set(tt,wt))}let Gn=this._buildAnimation(ae.namespaceId,xe,I,o,S,T);if(ae.setRealPlayer(Gn),wt===qi)E.push(ae);else{let ft=this.playersByElement.get(wt);ft&&ft.length&&(ae.parentPlayer=es(ft)),i.push(ae)}}else ga(oe,xe.fromStyles),ae.onDestroy(()=>ai(oe,xe.toStyles)),qn.push(ae),d.has(oe)&&i.push(ae)}),qn.forEach(te=>{let oe=o.get(te.element);if(oe&&oe.length){let ae=es(oe);te.setRealPlayer(ae)}}),i.forEach(te=>{te.parentPlayer?te.syncPlayerEvents(te.parentPlayer):te.destroy()});for(let te=0;te<D.length;te++){let oe=D[te],ae=oe[Rr];if(Al(oe,nT),ae&&ae.hasAnimation)continue;let xe=[];if(a.size){let Gn=a.get(oe);Gn&&Gn.length&&xe.push(...Gn);let ft=this.driver.query(oe,rT,!0);for(let et=0;et<ft.length;et++){let tt=a.get(ft[et]);tt&&tt.length&&xe.push(...tt)}}let wt=xe.filter(Gn=>!Gn.destroyed);wt.length?dK(this,oe,wt):this.processLeaveNode(oe)}return D.length=0,E.forEach(te=>{this.players.push(te),te.onDone(()=>{te.destroy();let oe=this.players.indexOf(te);this.players.splice(oe,1)}),te.play()}),E}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Jd;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,f=Hn(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(g=>{let _=g.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),g.destroy(),f.push(g)})}ga(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,f=new Set,m=t.timelines.map(_=>{let w=_.element;d.add(w);let D=w[Rr];if(D&&D.removedBeforeQueried)return new Ao(_.duration,_.delay);let F=w!==c,L=hK((r.get(w)||sK).map(I=>I.getRealPlayer())).filter(I=>{let v=I;return v.element?v.element===w:!1}),P=o.get(w),z=s.get(w),ee=YL(this._normalizer,_.keyframes,P,z),Q=this._buildPlayer(_,ee,L);if(_.subTimeline&&i&&f.add(w),F){let I=new rh(e,a,w);I.setRealPlayer(Q),u.push(I)}return Q});u.forEach(_=>{Hn(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>cK(this.playersByQueriedElement,_.element,_))}),d.forEach(_=>lr(_,jL));let g=es(m);return g.onDestroy(()=>{d.forEach(_=>Al(_,jL)),ai(c,t.toStyles)}),f.forEach(_=>{Hn(i,_,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ao(e.duration,e.delay)}},rh=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ao,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>vT(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Hn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function cK(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function lK(n){return n??null}function fy(n){return n&&n.nodeType===1}function uK(n){return n=="start"||n=="done"}function GL(n,e){let t=n.style.display;return n.style.display=e??"none",t}function WL(n,e,t,r,i){let o=[];t.forEach(c=>o.push(GL(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(f=>{let m=e.computeStyle(u,f,i);d.set(f,m),(!m||m.length==0)&&(u[Rr]=aK,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>GL(c,o[a++])),s}function KL(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function lr(n,e){n.classList?.add(e)}function Al(n,e){n.classList?.remove(e)}function dK(n,e,t){es(t).onDone(()=>n.processLeaveNode(e))}function hK(n){let e=[];return aV(n,e),e}function aV(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof ed?aV(r.players,e):e.push(r)}}function fK(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function QL(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Ml=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new mT(e.body,t,r),this._timelineEngine=new fT(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=rV(this._driver,o,c,u);if(c.length)throw fW(i,c);u.length&&void 0,a=JW(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=LL(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=LL(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function pK(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=tT(e[0]),e.length>1&&(r=tT(e[e.length-1]))):e instanceof Map&&(t=tT(e)),t||r?new gT(n,t,r):null}var gT=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ai(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ai(this._element,this._initialStyles),this._endStyles&&(ai(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ga(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ga(this._element,this._endStyles),this._endStyles=null),ai(this._element,this._initialStyles),this._state=3)}};function tT(n){let e=null;return n.forEach((t,r)=>{mK(r)&&(e=e||new Map,e.set(r,t))}),e}function mK(n){return n==="display"||n==="position"}var Ey=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:IT(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Iy=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return ZL(e,t)}getParentElement(e){return bT(e)}query(e,t,r){return XL(e,t,r)}computeStyle(e,t,r){return IT(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(g=>g instanceof Ey);FW(r,i)&&d.forEach(g=>{g.currentSnapshot.forEach((_,w)=>u.set(w,_))});let f=NW(t).map(g=>new Map(g));f=OW(e,f,u);let m=pK(e,f);return new Ey(e,f,c,m)}};var py="@",cV="@.disabled",Dy=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==py&&t==cV?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},yT=class extends Dy{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==py?t.charAt(1)=="."&&t==cV?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==py){let i=gK(e),o=t.slice(1),s="";return o.charAt(0)!=py&&([o,s]=yK(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};function gK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function yK(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Ty=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new Dy(r,i,this.engine,f),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new yT(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var _K=(()=>{class n extends Ml{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(R(Oe),R(ya),R(va))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function bK(){return new yy}function wK(n,e,t){return new Ty(n,e,t)}var uV=[{provide:va,useFactory:bK},{provide:Ml,useClass:_K},{provide:ao,useFactory:wK,deps:[wp,Ml,ne]}],lV=[{provide:ya,useFactory:()=>new Iy},{provide:br,useValue:"BrowserAnimations"},...uV],EK=[{provide:ya,useClass:wT},{provide:br,useValue:"NoopAnimations"},...uV],dV=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?EK:lV}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({providers:lV,imports:[bR]})}}return n})();var hV={providers:[HM({eventCoalescing:!0}),hN(PL),q_(rP.initializeApp(FL),iP,UO,dV,kL)]};var IK=["*",[["mat-toolbar-row"]]],DK=["*","mat-toolbar-row"],TK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Se({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),fV=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(r){return new(r||n)(j(ke),j(_t),j(Oe))}}static{this.\u0275cmp=Ue({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,i,o){if(r&1&&Di(o,TK,5),r&2){let s;Et(s=It())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,i){r&2&&(Ds(i.color?"mat-"+i.color:""),Ze("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[$e],ngContentSelectors:DK,decls:2,vars:0,template:function(r,i){r&1&&(On(IK),Xe(0),Xe(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})();var pV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ue({type:n})}static{this.\u0275inj=le({imports:[At,At]})}}return n})();function xK(n,e){n&1&&(re(0,"button",8)(1,"mat-icon"),Ee(2,"login"),Z(),Ee(3," Login "),Z())}function SK(n,e){n&1&&(re(0,"button",9)(1,"mat-icon"),Ee(2,"person_add"),Z(),Ee(3," Register "),Z())}function AK(n,e){n&1&&(re(0,"button",10)(1,"mat-icon"),Ee(2,"person"),Z(),Ee(3," Profile "),Z())}function MK(n,e){if(n&1){let t=$r();re(0,"button",11),vt("click",function(){nn(t);let i=Ut();return rn(i.onLogout())}),re(1,"mat-icon"),Ee(2,"exit_to_app"),Z(),Ee(3," Logout "),Z()}}var Cy=class n{constructor(e,t){this.authService=e;this.router=t}isLoggedIn=!1;userSub;ngOnInit(){this.userSub=this.authService.getCurrentUser().subscribe(e=>{this.isLoggedIn=!!e})}ngOnDestroy(){this.userSub&&this.userSub.unsubscribe()}onLogout(){this.authService.logout().subscribe(()=>{this.isLoggedIn=!1,this.router.navigate(["/home"])})}static \u0275fac=function(t){return new(t||n)(j(cr),j(Wt))};static \u0275cmp=Ue({type:n,selectors:[["app-navbar"]],standalone:!0,features:[$e],decls:14,vars:4,consts:[["color","primary",1,"navbar-container"],["mat-button","","routerLink","/"],["mat-button","","routerLink","/forum"],["mat-button","","routerLink","/login",4,"ngIf"],["mat-button","","routerLink","/register",4,"ngIf"],[1,"spacer"],["mat-button","","routerLink","/profile",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","routerLink","/login"],["mat-button","","routerLink","/register"],["mat-button","","routerLink","/profile"],["mat-button","",3,"click"]],template:function(t,r){t&1&&(re(0,"mat-toolbar",0)(1,"button",1)(2,"mat-icon"),Ee(3,"home"),Z(),Ee(4," Home"),Z(),re(5,"button",2)(6,"mat-icon"),Ee(7,"forum"),Z(),Ee(8," Forum "),Z(),it(9,xK,4,0,"button",3)(10,SK,4,0,"button",4),yt(11,"span",5),it(12,AK,4,0,"button",6)(13,MK,4,0,"button",7),Z()),t&2&&(we(9),at("ngIf",!r.isLoggedIn),we(),at("ngIf",!r.isLoggedIn),we(2),at("ngIf",r.isLoggedIn),we(),at("ngIf",r.isLoggedIn))},dependencies:[Sn,_o,yN,uN,pV,fV,Mc,Ac,Yg,Qg],styles:[".navbar-container[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-container[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]})};var xy=class n{title="eso-companion-app";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-root"]],standalone:!0,features:[$e],decls:2,vars:0,template:function(t,r){t&1&&yt(0,"app-navbar")(1,"router-outlet")},dependencies:[Sw,Cy]})};vR(xy,hV).catch(n=>console.error(n));
